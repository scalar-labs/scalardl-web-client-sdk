/*! For license information please see main.js.LICENSE.txt */
var Scalar;(()=>{var __webpack_modules__={9530:e=>{class t{constructor(e,t,r,n,i){this.id=e,this.age=t,this.hash=r,this.nonce=n,this.signature=i}static fromGrpcAssetProof(e){return new t(e.getAssetId(),e.getAge(),e.getHash_asU8()||new Uint8Array,e.getNonce(),e.getSignature_asU8()||new Uint8Array)}getId(){return this.id}getAge(){return this.age}getHash(){return this.hash}getNonce(){return this.nonce}getSignature(){return this.signature}toString(){return`AssetProof{id=${this.id},age${this.age}},hash=${this.hash},nonce=${this.nonce},signature=${this.signature}}`}}e.exports={AssetProof:t}},1858:e=>{class t extends Error{constructor(e,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="ClientError",this.code=e}}e.exports={ClientError:t}},4723:(e,t,r)=>{const n=new(r(4489)),i={CERT_HOLDER_ID:"scalar.dl.client.cert_holder_id",CERT_VERSION:"scalar.dl.client.cert_version",CERT_PEM:"scalar.dl.client.cert_pem",PRIVATE_KEY_PEM:"scalar.dl.client.private_key_pem",PRIVATE_KEY_CRYPTOKEY:"scalar.dl.client.private_key_cryptokey",SERVER_HOST:"scalar.dl.client.server.host",SERVER_PORT:"scalar.dl.client.server.port",SERVER_PRIVILEGED_PORT:"scalar.dl.client.server.privileged_port",TLS_CA_ROOT_CERT_PEM:"scalar.dl.client.tls.ca_root_cert_pem",TLS_ENABLED:"scalar.dl.client.tls.enabled",AUTHORIZATION_CREDENTIAL:"scalar.dl.client.authorization.credential"},s={$schema:"http://json-schema.org/draft-07/schema",type:"object",properties:{}};s.properties[i.CERT_HOLDER_ID]={type:"string"},s.properties[i.CERT_VERSION]={type:"number"},s.properties[i.CERT_PEM]={type:"string"},s.properties[i.PRIVATE_KEY_PEM]={type:"string"},s.properties[i.PRIVATE_KEY_CRYPTOKEY]={type:"object"},s.properties[i.SERVER_HOST]={type:"string"},s.properties[i.SERVER_PORT]={type:"number"},s.properties[i.SERVER_PRIVILEGED_PORT]={type:"number"},s.properties[i.TLS_CA_ROOT_CERT_PEM]={type:"string"},s.properties[i.TLS_ENABLED]={type:"boolean"},s.properties[i.AUTHORIZATION_CREDENTIAL]={type:"string"},e.exports={ClientProperties:class{constructor(e,t,r){t=t||[],r=r||[];const i={...s};if(t.length>0&&(i.allOf=t.map((e=>({required:[e]})))),r.length>0&&(i.oneOf=r.map((e=>({required:[e]})))),!n.validate(i,e))throw new Error(n.errors.reduce(((e,t)=>`${e} ${t.message}`),"In the client properties:"));this.properties=e}getCertHolderId(){return this.properties[i.CERT_HOLDER_ID]}getCertVersion(){return this.properties[i.CERT_VERSION]}getCertPem(){return this.properties[i.CERT_PEM]}getPrivateKeyPem(){return this.properties[i.PRIVATE_KEY_PEM]}getPrivateKeyCryptoKey(){return this.properties[i.PRIVATE_KEY_CRYPTOKEY]}getServerHost(){return this.properties[i.SERVER_HOST]}getServerPort(){return this.properties[i.SERVER_PORT]}getServerPrivilegedPort(){return this.properties[i.SERVER_PRIVILEGED_PORT]}getTlsCaRootCertPem(){return this.properties[i.TLS_CA_ROOT_CERT_PEM]}getTlsEnabled(){return this.properties[i.TLS_ENABLED]}getAuthorizationCredential(){return this.properties[i.AUTHORIZATION_CREDENTIAL]}},ClientPropertiesField:i}},55:(e,t,r)=>{const{AssetProof:n}=r(9530);class i{constructor(e,t){this.result=e,this.proofs=t}static fromGrpcContractExecutionResponse(e){const t=e.getResult(),r=t?JSON.parse(t):{};return new i(r,e.getProofsList().map((e=>n.fromGrpcAssetProof(e))))}getResult(){return this.result}getProofs(){return this.proofs}}e.exports={ContractExecutionResult:i}},903:(e,t,r)=>{const{StatusCode:n}=r(6303),{ClientError:i}=r(1858),{ClientProperties:s,ClientPropertiesField:o}=r(4723),{ContractRegistrationRequestBuilder:a,ContractsListingRequestBuilder:u,LedgerValidationRequestBuilder:c,CertificateRegistrationRequestBuilder:l,FunctionRegistrationRequestBuilder:g,ContractExecutionRequestBuilder:h}=r(3970),{ContractExecutionResult:p}=r(55),{LedgerValidationResult:f}=r(8633),{AssetProof:d}=r(9530);class y{constructor(e,t,r){this.properties=r,this.metadata={},r[o.AUTHORIZATION_CREDENTIAL]&&(this.metadata.Authorization=r[o.AUTHORIZATION_CREDENTIAL]),this.ledgerClient=e.ledgerClient,this.ledgerPrivileged=e.ledgerPrivileged,this.signerFactory=e.signerFactory,this.protobuf=t}static get binaryStatusKey(){return"rpc.status-bin"}async registerCertificate(){const e=await this._createCertificateRegistrationRequest(),t=new Promise(((t,r)=>{this.ledgerPrivileged.registerCert(e,this.metadata,((e,n)=>{e?r(e):t()}))}));return this._executePromise(t)}async createSerializedCertificateRegistrationRequest(){return(await this._createCertificateRegistrationRequest()).serializeBinary()}async registerFunction(e,t,r){const n=await this._createFunctionRegistrationRequest(e,t,r),i=new Promise(((e,t)=>{this.ledgerPrivileged.registerFunction(n,this.metadata,((r,n)=>{r?t(r):e()}))}));return this._executePromise(i)}async createSerializedFunctionRegistrationRequest(e,t,r){return(await this._createFunctionRegistrationRequest(e,t,r)).serializeBinary()}async registerContract(e,t,r,n){const i=await this._createContractRegistrationRequest(e,t,r,n),s=new Promise(((e,t)=>{this.ledgerClient.registerContract(i,this.metadata,((r,n)=>{r?t(r):e()}))}));return this._executePromise(s)}async createSerializedContractRegistrationRequest(e,t,r,n){return(await this._createContractRegistrationRequest(e,t,r,n)).serializeBinary()}async listContracts(e){const t=await this._createContractsListingRequest(e),r=new Promise(((e,r)=>{this.ledgerClient.listContracts(t,this.metadata,((t,n)=>{t?r(t):e(JSON.parse(n.toObject().json))}))}));return this._executePromise(r)}async createSerializedContractsListingRequest(e){return(await this._createContractsListingRequest(e)).serializeBinary()}async _createContractsListingRequest(e){const t=new s(this.properties,[o.CERT_HOLDER_ID,o.CERT_VERSION],[o.PRIVATE_KEY_PEM,o.PRIVATE_KEY_CRYPTOKEY]),r=new u(new this.protobuf.ContractsListingRequest,this._createSigner(t)).withCertHolderId(t.getCertHolderId()).withCertVersion(t.getCertVersion()).withContractId(e);try{return r.build()}catch(e){throw new i(n.RUNTIME_ERROR,e.message)}}async validateLedger(e,t=0,r=2147483647){const n=await this._createLedgerValidationRequest(e,t,r),i=new Promise(((e,t)=>{this.ledgerClient.validateLedger(n,this.metadata,((r,n)=>{r?t(r):e(f.fromGrpcLedgerValidationResponse(n))}))}));return this._executePromise(i)}async createSerializedLedgerValidationRequest(e,t,r){return(await this._createLedgerValidationRequest(e,t,r)).serializeBinary()}async executeContract(e,t,r){const n=await this._createContractExecutionRequest(e,t,r),i=new Promise(((e,t)=>{this.ledgerClient.executeContract(n,this.metadata,((r,n)=>{r?t(r):e(p.fromGrpcContractExecutionResponse(n))}))}));return this._executePromise(i)}async createSerializedContractExecutionRequest(e,t,r){return(await this._createContractExecutionRequest(e,t,r)).serializeBinary()}async _executePromise(e){try{return await e}catch(e){const t=this._parseStatusFromError(e);throw t?new i(t.code,t.message):new i(n.UNKNOWN_TRANSACTION_STATUS,e.message)}}_parseStatusFromError(e){if(!e.metadata)return;let t;if(this._isNodeJsRuntime()){const r=e.metadata.get(y.binaryStatusKey);Array.isArray(r)&&1===r.length&&(t=r[0])}else t=e.metadata[y.binaryStatusKey];return t?this.protobuf.Status.deserializeBinary(t).toObject():void 0}_isNodeJsRuntime(){return"undefined"==typeof window}async _createCertificateRegistrationRequest(){const e=new s(this.properties,[o.CERT_PEM,o.CERT_HOLDER_ID,o.CERT_VERSION]);return new l(new this.protobuf.CertificateRegistrationRequest).withCertHolderId(e.getCertHolderId()).withCertVersion(e.getCertVersion()).withCertPem(e.getCertPem()).build()}async _createFunctionRegistrationRequest(e,t,r){if(!(r instanceof Uint8Array))throw new i(n.CLIENT_IO_ERROR,"parameter functionBytes is not a 'Uint8Array'");return new g(new this.protobuf.FunctionRegistrationRequest).withFunctionId(e).withFunctionBinaryName(t).withFunctionByteCode(r).build()}async _createContractRegistrationRequest(e,t,r,u){if(!(r instanceof Uint8Array))throw new i(n.CLIENT_IO_ERROR,"parameter contractBytes is not a 'Uint8Array'");const c=new s(this.properties,[o.CERT_HOLDER_ID,o.CERT_VERSION],[o.PRIVATE_KEY_PEM,o.PRIVATE_KEY_CRYPTOKEY]),l=JSON.stringify(u),g=new a(new this.protobuf.ContractRegistrationRequest,this._createSigner(c)).withContractId(e).withContractBinaryName(t).withContractByteCode(r).withContractProperties(l).withCertHolderId(c.getCertHolderId()).withCertVersion(c.getCertVersion());try{return g.build()}catch(e){throw new i(n.RUNTIME_ERROR,e.message)}}async _createLedgerValidationRequest(e,t,r){if(!(r>=t&&t>=0&&r<=2147483647))throw new i(n.CLIENT_IO_ERROR,"invalid ages are specified");const a=new s(this.properties,[o.CERT_HOLDER_ID,o.CERT_VERSION],[o.PRIVATE_KEY_PEM,o.PRIVATE_KEY_CRYPTOKEY]),u=new c(new this.protobuf.LedgerValidationRequest,this._createSigner(a)).withAssetId(e).withStartAge(t).withEndAge(r).withCertHolderId(a.getCertHolderId()).withCertVersion(a.getCertVersion());try{return u.build()}catch(e){throw new i(n.RUNTIME_ERROR,e.message)}}async _createContractExecutionRequest(e,t,r){const a=new s(this.properties,[o.CERT_HOLDER_ID,o.CERT_VERSION],[o.PRIVATE_KEY_PEM,o.PRIVATE_KEY_CRYPTOKEY]);t.nonce=(new Date).getTime().toString();const u=JSON.stringify(t),c=JSON.stringify(r),l=new h(new this.protobuf.ContractExecutionRequest,this._createSigner(a)).withContractId(e).withContractArgument(u).withFunctionArgument(c).withCertHolderId(a.getCertHolderId()).withCertVersion(a.getCertVersion());try{return l.build()}catch(e){throw new i(n.RUNTIME_ERROR,e.message)}}_createSigner(e){const t=e.getPrivateKeyCryptoKey()||e.getPrivateKeyPem();return this.signer=this.signer||this.signerFactory.create(t),this.signer}}e.exports={ClientServiceBase:y,ClientError:i,StatusCode:n,ContractExecutionResult:p,LedgerValidationResult:f,AssetProof:d,ClientProperties:s,ClientPropertiesField:o}},8633:(e,t,r)=>{const{AssetProof:n}=r(9530);class i{constructor(e,t){this.code=e,this.proof=t}static fromGrpcLedgerValidationResponse(e){return new i(e.getStatusCode(),e.getProof()?n.fromGrpcAssetProof(e.getProof()):null)}getProof(){return this.proof}getCode(){return this.code}}e.exports={LedgerValidationResult:i}},4489:(e,t,r)=>{"use strict";var n=r(7832),i=r(3397),s=r(7353),o=r(789),a=r(7692),u=r(7103),c=r(4383),l=r(6511),g=r(231);e.exports=m,m.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i},m.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},m.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,n);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return A(this,t=i.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,r,n,!0),this},m.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},m.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},m.prototype.getSchema=function(e){var t=v(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var s=r.schema,a=r.root,u=r.baseId,c=n.call(e,s,a,void 0,u);return e._fragments[t]=new o({ref:t,fragment:!0,schema:s,root:a,baseId:u,validate:c}),c}}(this,e)}},m.prototype.removeSchema=function(e){if(e instanceof RegExp)return S(this,this._schemas,e),S(this,this._refs,e),this;switch(typeof e){case"undefined":return S(this,this._schemas),S(this,this._refs),this._cache.clear(),this;case"string":var t=v(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var s=this._getId(e);s&&(s=i.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this},m.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},m.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",s=0;s<e.length;s++){var o=e[s];o&&(i+=n+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},m.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var s=this._opts.serialize,a=s?s(e):e,u=this._cache.get(a);if(u)return u;n=n||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&n&&A(this,c);var l,g=!1!==this._opts.validateSchema&&!t;g&&!(l=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new o({id:c,schema:e,localRefs:h,cacheKey:a,meta:r});return"#"!=c[0]&&n&&(this._refs[c]=p),this._cache.put(a,p),g&&l&&this.validateSchema(e,!0),p},m.prototype._compile=function(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,!0===e.schema.$async&&(s.$async=!0),s;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function s(){var t=e.validate,r=t.apply(this,arguments);return s.errors=t.errors,r}},m.prototype.compileAsync=r(501);var h=r(162);m.prototype.addKeyword=h.add,m.prototype.getKeyword=h.get,m.prototype.removeKeyword=h.remove,m.prototype.validateKeyword=h.validate;var p=r(8753);m.ValidationError=p.Validation,m.MissingRefError=p.MissingRef,m.$dataMetaSchema=l;var f="http://json-schema.org/draft-07/schema",d=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],y=["/properties"];function m(e){if(!(this instanceof m))return new m(e);e=this._opts=g.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:x,warn:x,error:x};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return b;default:return E}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=g.copy(e._opts),r=0;r<d.length;r++)delete t[d[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;if(e._opts.$data&&(t=r(3496),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=r(2676);e._opts.$data&&(n=l(n,y)),e.addMetaSchema(n,f,!0),e._refs["http://json-schema.org/schema"]=f}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function v(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function S(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function b(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function E(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function A(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function x(){}},7353:e=>{"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},501:(e,t,r)=>{"use strict";var n=r(8753).MissingRef;e.exports=function e(t,r,i){var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var o=a(t).then((function(){var e=s._addSchema(t,void 0,r);return e.validate||u(e)}));return i&&o.then((function(e){i(null,e)}),i),o;function a(t){var r=t.$schema;return r&&!s.getSchema(r)?e.call(s,{$ref:r},!0):Promise.resolve()}function u(e){try{return s._compile(e)}catch(t){if(t instanceof n)return function(t){var n=t.missingSchema;if(c(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var i=s._loadingSchemas[n];return i||(i=s._loadingSchemas[n]=s._opts.loadSchema(n)).then(o,o),i.then((function(e){if(!c(n))return a(e).then((function(){c(n)||s.addSchema(e,n,void 0,r)}))})).then((function(){return u(e)}));function o(){delete s._loadingSchemas[n]}function c(e){return s._refs[e]||s._schemas[e]}}(t);throw t}}}},8753:(e,t,r)=>{"use strict";var n=r(3397);function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function s(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:s((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:s(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},7103:(e,t,r)=>{"use strict";var n=r(231),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,g=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function d(e){return e="full"==e?"full":"fast",n.copy(d[e])}function y(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:s[n])}function m(e,t){var r=e.match(o);if(!r)return!1;var n=r[1],i=r[2],s=r[3],a=r[5];return(n<=23&&i<=59&&s<=59||23==n&&59==i&&60==s)&&(!t||a)}e.exports=d,d.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:g,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f},d.full={date:y,time:m,"date-time":function(e){var t=e.split(v);return 2==t.length&&y(t[0])&&m(t[1],!0)},uri:function(e){return S.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:g,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f};var v=/t|\s/i,S=/\/|:/,b=/[^\\]\\Z/;function E(e){if(b.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},7832:(e,t,r)=>{"use strict";var n=r(3397),i=r(231),s=r(8753),o=r(7692),a=r(7547),u=i.ucs2length,c=r(2750),l=s.Validation;function g(e,t,r){var n=p.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function h(e,t,r){var n=p.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function p(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function d(e){return"var default"+e+" = defaults["+e+"];"}function y(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function m(e){return"var customRule"+e+" = customRules["+e+"];"}function v(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,p,S){var b=this,E=this._opts,w=[void 0],A={},x=[],R={},F=[],_={},T=[];r=r||{schema:t,refVal:w,refs:A};var C=g.call(this,t,r,S),P=this._compilations[C.index];if(C.compiling)return P.callValidate=function e(){var t=P.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var I=this._formats,D=this.RULES;try{var O=B(t,r,p,S);P.validate=O;var N=P.callValidate;return N&&(N.schema=O.schema,N.errors=null,N.refs=O.refs,N.refVal=O.refVal,N.root=O.root,N.$async=O.$async,E.sourceCode&&(N.source=O.source)),O}finally{h.call(this,t,r,S)}function B(t,o,g,h){var p=!o||o&&o.schema==t;if(o.schema!=r.schema)return e.call(b,t,o,g,h);var S,R=!0===t.$async,_=a({isTop:!0,schema:t,isRoot:p,baseId:h,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:D,validate:a,util:i,resolve:n,resolveRef:j,usePattern:M,useDefault:U,useCustomRule:V,opts:E,formats:I,logger:b.logger,self:b});_=v(w,y)+v(x,f)+v(F,d)+v(T,m)+_,E.processCode&&(_=E.processCode(_,t));try{S=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",_)(b,D,I,r,w,F,T,c,u,l),w[0]=S}catch(e){throw b.logger.error("Error compiling schema, function code:",_),e}return S.schema=t,S.errors=null,S.refs=A,S.refVal=w,S.root=p?S:o,R&&(S.$async=!0),!0===E.sourceCode&&(S.source={code:_,patterns:x,defaults:F}),S}function j(t,i,s){i=n.url(t,i);var o,a,u=A[i];if(void 0!==u)return H(o=w[u],a="refVal["+u+"]");if(!s&&r.refs){var c=r.refs[i];if(void 0!==c)return H(o=r.refVal[c],a=L(i,o))}a=L(i);var l=n.call(b,B,r,i);if(void 0===l){var g=p&&p[i];g&&(l=n.inlineRef(g,E.inlineRefs)?g:e.call(b,g,r,p,t))}if(void 0!==l)return function(e,t){var r=A[e];w[r]=t}(i,l),H(l,a);!function(e){delete A[e]}(i)}function L(e,t){var r=w.length;return w[r]=t,A[e]=r,"refVal"+r}function H(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function M(e){var t=R[e];return void 0===t&&(t=R[e]=x.length,x[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=o(e),r=_[t];return void 0===r&&(r=_[t]=F.length,F[r]=e),"default"+r}}function V(e,t,r,n){if(!1!==b._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=e.definition.validateSchema;if(s&&!s(t)){var o="keyword schema is invalid: "+b.errorsText(s.errors);if("log"!=b._opts.validateSchema)throw new Error(o);b.logger.error(o)}}var a,u=e.definition.compile,c=e.definition.inline,l=e.definition.macro;if(u)a=u.call(b,t,r,n);else if(l)a=l.call(b,t,r,n),!1!==E.validateSchema&&b.validateSchema(a,!0);else if(c)a=c.call(b,n,e.keyword,t,r);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var g=T.length;return T[g]=a,{code:"customRule"+g,validate:a}}}},3397:(e,t,r)=>{"use strict";var n=r(6452),i=r(2750),s=r(231),o=r(789),a=r(4235);function u(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return u.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof o)return f(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,s,a,l=c.call(this,t,r);return l&&(i=l.schema,t=l.root,a=l.baseId),i instanceof o?s=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(s=f(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),s}function c(e,t){var r=n.parse(t),i=v(r),s=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==s){var a=b(i),u=this._refs[a];if("string"==typeof u)return l.call(this,e,u,r);if(u instanceof o)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[a])instanceof o))return;if(u.validate||this._compile(u),a==b(t))return{schema:u,root:e,baseId:s};e=u}if(!e.schema)return;s=m(this._getId(e.schema))}return h.call(this,r,s,e.schema,e)}function l(e,t,r){var n=c.call(this,e,t);if(n){var i=n.schema,s=n.baseId;e=n.root;var o=this._getId(i);return o&&(s=E(s,o)),h.call(this,r,s,i,e)}}e.exports=u,u.normalizeId=b,u.fullPath=m,u.url=E,u.ids=function(e){var t=b(this._getId(e)),r={"":t},o={"":m(t,!1)},u={},c=this;return a(e,{allKeys:!0},(function(e,t,a,l,g,h,p){if(""!==t){var f=c._getId(e),d=r[l],y=o[l]+"/"+g;if(void 0!==p&&(y+="/"+("number"==typeof p?p:s.escapeFragment(p))),"string"==typeof f){f=d=b(d?n.resolve(d,f):f);var m=c._refs[f];if("string"==typeof m&&(m=c._refs[m]),m&&m.schema){if(!i(e,m.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=b(y))if("#"==f[0]){if(u[f]&&!i(e,u[f]))throw new Error('id "'+f+'" resolves to more than one schema');u[f]=e}else c._refs[f]=y}r[t]=d,o[t]=y}})),u},u.inlineRef=f,u.schema=c;var g=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(void 0===(r=r[a=s.unescapeFragment(a)]))break;var u;if(!g[a]&&((u=this._getId(r))&&(t=E(t,u)),r.$ref)){var l=E(t,r.$ref),h=c.call(this,n,l);h&&(r=h.schema,n=h.root,t=h.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var p=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?d(e):t?y(e)<=t:void 0)}function d(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!d(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==typeof(t=e[n])&&!d(t))return!1}return!0}function y(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(r+=y(t)),r==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(p[i])r++;else if("object"==typeof(t=e[i])&&(r+=y(t)+1),r==1/0)return 1/0}return r}function m(e,t){return!1!==t&&(e=b(e)),v(n.parse(e))}function v(e){return n.serialize(e).split("#")[0]+"#"}var S=/#\/?$/;function b(e){return e?e.replace(S,""):""}function E(e,t){return t=b(t),n.resolve(e,t)}},4383:(e,t,r)=>{"use strict";var n=r(2179),i=r(231).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var s=Object.keys(r)[0];i=r[s],r=s,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:i}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},789:(e,t,r)=>{"use strict";var n=r(231);e.exports=function(e){n.copy(e,this)}},440:e=>{"use strict";e.exports=function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},231:(e,t,r)=>{"use strict";function n(e,t,r,n){var i=n?" !== ":" === ",s=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+s+"typeof "+t+i+'"object"'+s+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+s+a+"("+t+" % 1)"+s+t+i+t+(r?s+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?s+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){switch(e.length){case 1:return n(e[0],t,r,!0);default:var i="",o=s(e);for(var a in o.array&&o.object&&(i=o.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)i+=(i?" && ":"")+n(a,t,r,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var s=t[n];(i[s]||"array"===e&&"array"===s)&&(r[r.length]=s)}if(r.length)return r}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:s,getProperty:u,escapeQuotes:c,equal:r(2750),ucs2length:r(440),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:l,getPathExpr:function(e,t,r,n){return p(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return p(e,l(r?"/"+f(t):u(t)))},getData:function(e,t,r){var n,i,s,o;if(""===e)return"rootData";if("/"==e[0]){if(!g.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,s="rootData"}else{if(!(o=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(i=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(s="data"+(t-n||""),!i)return s}for(var a=s,c=i.split("/"),l=0;l<c.length;l++){var p=c[l];p&&(a+=" && "+(s+=u(d(p))))}return a},unescapeFragment:function(e){return d(decodeURIComponent(e))},unescapeJsonPointer:d,escapeFragment:function(e){return encodeURIComponent(f(e))},escapeJsonPointer:f};var i=s(["string","number","integer","boolean","null"]);function s(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var o=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+c(e)+"'"}var g=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function f(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},6511:e=>{"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,r){for(var n=0;n<r.length;n++){e=JSON.parse(JSON.stringify(e));var i,s=r[n].split("/"),o=e;for(i=1;i<s.length;i++)o=o[s[i]];for(i=0;i<t.length;i++){var a=t[i],u=o[a];u&&(o[a]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},5871:(e,t,r)=>{"use strict";var n=r(2676);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},9098:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",d=e.schema[f],y=e.opts.$data&&d&&d.$data,m=p?"<":">",v=p?">":"<",S=void 0;if(!h&&"number"!=typeof a&&void 0!==a)throw new Error(t+" must be number");if(!y&&void 0!==d&&"number"!=typeof d&&"boolean"!=typeof d)throw new Error(f+" must be number or boolean");if(y){var b,E=e.util.getData(d.$data,o,e.dataPathArr),w="exclusive"+s,A="exclType"+s,x="exclIsNumber"+s,R="' + "+(_="op"+s)+" + '";i+=" var schemaExcl"+s+" = "+E+"; ",i+=" var "+w+"; var "+A+" = typeof "+(E="schemaExcl"+s)+"; if ("+A+" != 'boolean' && "+A+" != 'undefined' && "+A+" != 'number') { ",S=f,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(S||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var F=i;i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+F+"]); ":i+=" validate.errors = ["+F+"]; return false; ":i+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+A+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+E+" "+m+"= "+n+") ? "+g+" "+v+"= "+E+" : "+g+" "+v+" "+n+" ) : ( ("+w+" = "+E+" === true) ? "+g+" "+v+"= "+n+" : "+g+" "+v+" "+n+" ) || "+g+" !== "+g+") { var op"+s+" = "+w+" ? '"+m+"' : '"+m+"='; ",void 0===a&&(S=f,c=e.errSchemaPath+"/"+f,n=E,h=y)}else if(R=m,(x="number"==typeof d)&&h){var _="'"+R+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+d+" "+m+"= "+n+" ? "+g+" "+v+"= "+d+" : "+g+" "+v+" "+n+" ) || "+g+" !== "+g+") { "}else x&&void 0===a?(w=!0,S=f,c=e.errSchemaPath+"/"+f,n=d,v+="="):(x&&(n=Math[p?"min":"max"](d,a)),d===(!x||n)?(w=!0,S=f,c=e.errSchemaPath+"/"+f,v+="="):(w=!1,R+="=")),_="'"+R+"'",i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+g+" "+v+" "+n+" || "+g+" !== "+g+") { ";return S=S||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(S||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+_+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+R+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ",F=i,i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+F+"]); ":i+=" validate.errors = ["+F+"]; return false; ":i+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},1395:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+g+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var d=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},9913:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+g+".length ":i+=" ucs2length("+g+") ",i+=" "+p+" "+n+") { ";var f=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var y=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},911:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+g+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var d=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},4111:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,g=u.baseId,h=!0,p=i;if(p)for(var f,d=-1,y=p.length-1;d<y;)f=p[d+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,u.schema=f,u.schemaPath=s+"["+d+"]",u.errSchemaPath=o+"/"+d,n+="  "+e.validate(u)+" ",u.baseId=g,a&&(n+=" if ("+l+") { ",c+="}"));return a&&(n+=h?" if (true) { ":" "+c.slice(0,-1)+" "),n}},2426:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var d="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var y=p.baseId;n+=" var "+h+" = errors; var "+g+" = false;  ";var m=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var S,b=-1,E=v.length-1;b<E;)S=v[b+=1],p.schema=S,p.schemaPath=a+"["+b+"]",p.errSchemaPath=u+"/"+b,n+="  "+e.validate(p)+" ",p.baseId=y,n+=" "+g+" = "+g+" || "+d+"; if (!"+g+") { ",f+="}";e.compositeRule=p.compositeRule=m,n+=" "+f+" if (!"+g+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n}},5395:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.schema[t],s=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(s)+", validate.root.schema);"),n}},5113:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+a+";"),n+="var "+g+" = equal("+l+", schema"+i+"); if (!"+g+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},2043:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,d="i"+i,y=p.dataLevel=e.dataLevel+1,m="data"+y,v=e.baseId,S=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+h+" = errors;var "+g+";",S){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=a,p.errSchemaPath=u,n+=" var "+f+" = false; for (var "+d+" = 0; "+d+" < "+l+".length; "+d+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers,!0);var E=l+"["+d+"]";p.dataPathArr[y]=d;var w=e.validate(p);p.baseId=v,e.util.varOccurences(w,m)<2?n+=" "+e.util.varReplace(w,m,E)+" ":n+=" var "+m+" = "+E+"; "+w+" ",n+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=b,n+="  if (!"+f+") {"}else n+=" if ("+l+".length == 0) {";var A=A||[];A.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var x=n;return n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",S&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},5610:e=>{"use strict";e.exports=function(e,t,r){var n,i,s=" ",o=e.level,a=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,h="data"+(a||""),p="valid"+o,f="errs__"+o,d=e.opts.$data&&u&&u.$data;d?(s+=" var schema"+o+" = "+e.util.getData(u.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=u;var y,m,v,S,b,E=this,w="definition"+o,A=E.definition,x="";if(d&&A.$data){b="keywordValidate"+o;var R=A.validateSchema;s+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+b+" = "+w+".validate;"}else{if(!(S=e.useCustomRule(E,u,e.schema,e)))return;i="validate.schema"+c,b=S.code,y=A.compile,m=A.inline,v=A.macro}var F=b+".errors",_="i"+o,T="ruleErr"+o,C=A.async;if(C&&!e.async)throw new Error("async keyword in sync schema");if(m||v||(s+=F+" = null;"),s+="var "+f+" = errors;var "+p+";",d&&A.$data&&(x+="}",s+=" if ("+i+" === undefined) { "+p+" = true; } else { ",R&&(x+="}",s+=" "+p+" = "+w+".validateSchema("+i+"); if ("+p+") { ")),m)A.statements?s+=" "+S.validate+" ":s+=" "+p+" = "+S.validate+"; ";else if(v){var P=e.util.copy(e);x="",P.level++;var I="valid"+P.level;P.schema=S.validate,P.schemaPath="";var D=e.compositeRule;e.compositeRule=P.compositeRule=!0;var O=e.validate(P).replace(/validate\.schema/g,b);e.compositeRule=P.compositeRule=D,s+=" "+O}else{(L=L||[]).push(s),s="",s+="  "+b+".call( ",e.opts.passContext?s+="this":s+="self",y||!1===A.schema?s+=" , "+h+" ":s+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var N=a?"data"+(a-1||""):"parentData",B=a?e.dataPathArr[a]:"parentDataProperty",j=s+=" , "+N+" , "+B+" , rootData )  ";s=L.pop(),!1===A.errors?(s+=" "+p+" = ",C&&(s+="await "),s+=j+"; "):s+=C?" var "+(F="customErrors"+o)+" = null; try { "+p+" = await "+j+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+F+" = e.errors; else throw e; } ":" "+F+" = null; "+p+" = "+j+"; "}if(A.modifying&&(s+=" if ("+N+") "+h+" = "+N+"["+B+"];"),s+=""+x,A.valid)g&&(s+=" if (true) { ");else{var L;s+=" if ( ",void 0===A.valid?(s+=" !",s+=v?""+I:""+p):s+=" "+!A.valid+" ",s+=") { ",n=E.keyword,(L=L||[]).push(s),s="",(L=L||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+E.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var H=s;s=L.pop(),!e.compositeRule&&g?e.async?s+=" throw new ValidationError(["+H+"]); ":s+=" validate.errors = ["+H+"]; return false; ":s+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var M=s;s=L.pop(),m?A.errors?"full"!=A.errors&&(s+="  for (var "+_+"="+f+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),s+=" } "):!1===A.errors?s+=" "+M+" ":(s+=" if ("+f+" == errors) { "+M+" } else {  for (var "+_+"="+f+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),s+=" } } "):v?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+E.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+E.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&g&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===A.errors?s+=" "+M+" ":(s+=" if (Array.isArray("+F+")) { if (vErrors === null) vErrors = "+F+"; else vErrors = vErrors.concat("+F+"); errors = vErrors.length;  for (var "+_+"="+f+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(s+=" "+T+".schema = "+i+"; "+T+".data = "+h+"; "),s+=" } } else { "+M+" } "),s+=" } ",g&&(s+=" else { ")}return s}},1950:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,d={},y={},m=e.opts.ownProperties;for(E in o)if("__proto__"!=E){var v=o[E],S=Array.isArray(v)?y:d;S[E]=v}n+="var "+g+" = errors;";var b=e.errorPath;for(var E in n+="var missing"+i+";",y)if((S=y[E]).length){if(n+=" if ( "+l+e.util.getProperty(E)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(E)+"') "),c){n+=" && ( ";var w=S;if(w)for(var A=-1,x=w.length-1;A<x;)P=w[A+=1],A&&(n+=" || "),n+=" ( ( "+(N=l+(O=e.util.getProperty(P)))+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:O)+") ) ";n+=")) {  ";var R="missing"+i,F="' + "+R+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,R,!0):b+" + "+R);var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+F+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(1==S.length?S[0]:S.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==S.length?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var T=n;n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+T+"]); ":n+=" validate.errors = ["+T+"]; return false; ":n+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var C=S;if(C)for(var P,I=-1,D=C.length-1;I<D;){P=C[I+=1];var O=e.util.getProperty(P),N=(F=e.util.escapeQuotes(P),l+O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),n+=" if ( "+N+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(E)+"', missingProperty: '"+F+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(1==S.length?S[0]:S.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==S.length?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(E)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(p+="}",n+=" else { ")}e.errorPath=b;var B=h.baseId;for(var E in d)v=d[E],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(n+=" "+f+" = true; if ( "+l+e.util.getProperty(E)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(E)+"') "),n+=") { ",h.schema=v,h.schemaPath=a+e.util.getProperty(E),h.errSchemaPath=u+"/"+e.util.escapeFragment(E),n+="  "+e.validate(h)+" ",h.baseId=B,n+=" }  ",c&&(n+=" if ("+f+") { ",p+="}"));return c&&(n+="   "+p+" if ("+g+" == errors) {"),n}},9813:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;h||(n+=" var "+f+" = validate.schema"+a+";"),n+="var "+g+";",h&&(n+=" if (schema"+i+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+i+")) "+g+" = false; else {"),n+=g+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+l+", "+f+"["+p+"])) { "+g+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+g+") {   ";var d=d||[];d.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var y=n;return n=d.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n}},2116:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var g,h=e.opts.$data&&o&&o.$data;h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",g="schema"+i):g=o;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h)n+=" var "+(d="format"+i)+" = formats["+g+"]; var "+(y="isObject"+i)+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; var "+(m="formatType"+i)+" = "+y+" && "+d+".type || 'string'; if ("+y+") { ",e.async&&(n+=" var async"+i+" = "+d+".async; "),n+=" "+d+" = "+d+".validate; } if (  ",h&&(n+=" ("+g+" !== undefined && typeof "+g+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+g+" && !"+d+" ",f&&(n+=" && self._opts.unknownFormats.indexOf("+g+") == -1 "),n+=") || "),n+=" ("+d+" && "+m+" == '"+r+"' && !(typeof "+d+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+d+"("+l+") : "+d+"("+l+")) ":n+=" "+d+"("+l+") ",n+=" : "+d+".test("+l+"))))) {";else{var d;if(!(d=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(f&&p.indexOf(o)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var y,m=(y="object"==typeof d&&!(d instanceof RegExp)&&d.validate)&&d.type||"string";if(y){var v=!0===d.async;d=d.validate}if(m!=r)return c&&(n+=" if (true) { "),n;if(v){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(S="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var S="formats"+e.util.getProperty(o);y&&(S+=".validate"),n+="function"==typeof d?" "+S+"("+l+") ":" "+S+".test("+l+") ",n+=") { "}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=h?""+g:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+g+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+a:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var E=n;return n=b.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n}},2444:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,d=e.schema.then,y=e.schema.else,m=void 0!==d&&(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all)),v=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),S=p.baseId;if(m||v){var b;p.createErrors=!1,p.schema=o,p.schemaPath=a,p.errSchemaPath=u,n+=" var "+h+" = errors; var "+g+" = true;  ";var E=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=S,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=E,m?(n+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=S,n+=" "+g+" = "+f+"; ",m&&v?n+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",n+=" } ",v&&(n+=" else { ")):n+=" if (!"+f+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=S,n+=" "+g+" = "+f+"; ",m&&v?n+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",n+=" } "),n+=" if (!"+g+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n}},2179:(e,t,r)=>{"use strict";e.exports={$ref:r(6984),allOf:r(4111),anyOf:r(2426),$comment:r(5395),const:r(5113),contains:r(2043),dependencies:r(1950),enum:r(9813),format:r(2116),if:r(2444),items:r(3057),maximum:r(9098),minimum:r(9098),maxItems:r(1395),minItems:r(1395),maxLength:r(9913),minLength:r(9913),maxProperties:r(911),minProperties:r(911),multipleOf:r(1881),not:r(5770),oneOf:r(1789),pattern:r(5127),properties:r(1605),propertyNames:r(3290),required:r(9428),uniqueItems:r(3403),validate:r(7547)}},3057:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var d="valid"+p.level,y="i"+i,m=p.dataLevel=e.dataLevel+1,v="data"+m,S=e.baseId;if(n+="var "+h+" = errors;var "+g+";",Array.isArray(o)){var b=e.schema.additionalItems;if(!1===b){n+=" "+g+" = "+l+".length <= "+o.length+"; ";var E=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+g+") {   ";var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var A=n;n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=E,c&&(f+="}",n+=" else { ")}var x=o;if(x)for(var R,F=-1,_=x.length-1;F<_;)if(R=x[F+=1],e.opts.strictKeywords?"object"==typeof R&&Object.keys(R).length>0||!1===R:e.util.schemaHasRules(R,e.RULES.all)){n+=" "+d+" = true; if ("+l+".length > "+F+") { ";var T=l+"["+F+"]";p.schema=R,p.schemaPath=a+"["+F+"]",p.errSchemaPath=u+"/"+F,p.errorPath=e.util.getPathExpr(e.errorPath,F,e.opts.jsonPointers,!0),p.dataPathArr[m]=F;var C=e.validate(p);p.baseId=S,e.util.varOccurences(C,v)<2?n+=" "+e.util.varReplace(C,v,T)+" ":n+=" var "+v+" = "+T+"; "+C+" ",n+=" }  ",c&&(n+=" if ("+d+") { ",f+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+d+" = true; if ("+l+".length > "+o.length+") {  for (var "+y+" = "+o.length+"; "+y+" < "+l+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0),T=l+"["+y+"]",p.dataPathArr[m]=y,C=e.validate(p),p.baseId=S,e.util.varOccurences(C,v)<2?n+=" "+e.util.varReplace(C,v,T)+" ":n+=" var "+v+" = "+T+"; "+C+" ",c&&(n+=" if (!"+d+") break; "),n+=" } }  ",c&&(n+=" if ("+d+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all))&&(p.schema=o,p.schemaPath=a,p.errSchemaPath=u,n+="  for (var "+y+" = 0; "+y+" < "+l+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0),T=l+"["+y+"]",p.dataPathArr[m]=y,C=e.validate(p),p.baseId=S,e.util.varOccurences(C,v)<2?n+=" "+e.util.varReplace(C,v,T)+" ":n+=" var "+v+" = "+T+"; "+C+" ",c&&(n+=" if (!"+d+") break; "),n+=" }");return c&&(n+=" "+f+" if ("+h+" == errors) {"),n}},1881:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="var division"+s+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+s+" = "+g+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+s+" !== parseInt(division"+s+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},5770:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=u,n+=" var "+g+" = errors;  ";var f,d=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=d,n+=" if ("+p+") {   ";var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+g+"; if (vErrors !== null) { if ("+g+") vErrors.length = "+g+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n}},1789:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var d="valid"+p.level,y=p.baseId,m="prevValid"+i,v="passingSchemas"+i;n+="var "+h+" = errors , "+m+" = false , "+g+" = false , "+v+" = null; ";var S=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=o;if(b)for(var E,w=-1,A=b.length-1;w<A;)E=b[w+=1],(e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all))?(p.schema=E,p.schemaPath=a+"["+w+"]",p.errSchemaPath=u+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=y):n+=" var "+d+" = true; ",w&&(n+=" if ("+d+" && "+m+") { "+g+" = false; "+v+" = ["+v+", "+w+"]; } else { ",f+="}"),n+=" if ("+d+") { "+g+" = "+m+" = true; "+v+" = "+w+"; }";return e.compositeRule=p.compositeRule=S,n+=f+"if (!"+g+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},5127:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(a))+".test("+g+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},1605:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,d="key"+i,y="idx"+i,m=h.dataLevel=e.dataLevel+1,v="data"+m,S="dataProperties"+i,b=Object.keys(o||{}).filter(O),E=e.schema.patternProperties||{},w=Object.keys(E).filter(O),A=e.schema.additionalProperties,x=b.length||w.length,R=!1===A,F="object"==typeof A&&Object.keys(A).length,_=e.opts.removeAdditional,T=R||F||_,C=e.opts.ownProperties,P=e.baseId,I=e.schema.required;if(I&&(!e.opts.$data||!I.$data)&&I.length<e.opts.loopRequired)var D=e.util.toHash(I);function O(e){return"__proto__"!==e}if(n+="var "+g+" = errors;var "+f+" = true;",C&&(n+=" var "+S+" = undefined;"),T){if(n+=C?" "+S+" = "+S+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+S+".length; "+y+"++) { var "+d+" = "+S+"["+y+"]; ":" for (var "+d+" in "+l+") { ",x){if(n+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+d+") ";else{var N=b;if(N)for(var B=-1,j=N.length-1;B<j;)Y=N[B+=1],n+=" || "+d+" == "+e.util.toQuotedString(Y)+" "}if(w.length){var L=w;if(L)for(var H=-1,M=L.length-1;H<M;)se=L[H+=1],n+=" || "+e.usePattern(se)+".test("+d+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==_)n+=" delete "+l+"["+d+"]; ";else{var U=e.errorPath,V="' + "+d+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers)),R)if(_)n+=" delete "+l+"["+d+"]; ";else{n+=" "+f+" = false; ";var k=u;u=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var q=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=k,c&&(n+=" break; ")}else if(F)if("failing"==_){n+=" var "+g+" = errors;  ";var K=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=A,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers);var W=l+"["+d+"]";h.dataPathArr[m]=d;var z=e.validate(h);h.baseId=P,e.util.varOccurences(z,v)<2?n+=" "+e.util.varReplace(z,v,W)+" ":n+=" var "+v+" = "+W+"; "+z+" ",n+=" if (!"+f+") { errors = "+g+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+d+"]; }  ",e.compositeRule=h.compositeRule=K}else h.schema=A,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers),W=l+"["+d+"]",h.dataPathArr[m]=d,z=e.validate(h),h.baseId=P,e.util.varOccurences(z,v)<2?n+=" "+e.util.varReplace(z,v,W)+" ":n+=" var "+v+" = "+W+"; "+z+" ",c&&(n+=" if (!"+f+") break; ");e.errorPath=U}x&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+f+") { ",p+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(b.length){var $=b;if($)for(var Y,X=-1,J=$.length-1;X<J;){var Z=o[Y=$[X+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(Y),ee=(W=l+Q,G&&void 0!==Z.default);if(h.schema=Z,h.schemaPath=a+Q,h.errSchemaPath=u+"/"+e.util.escapeFragment(Y),h.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),h.dataPathArr[m]=e.util.toQuotedString(Y),z=e.validate(h),h.baseId=P,e.util.varOccurences(z,v)<2){z=e.util.varReplace(z,v,W);var te=W}else te=v,n+=" var "+v+" = "+W+"; ";if(ee)n+=" "+z+" ";else{if(D&&D[Y]){n+=" if ( "+te+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+f+" = false; ",U=e.errorPath,k=u;var re,ne=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,Y,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",q=n,n=re.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+q+"]); ":n+=" validate.errors = ["+q+"]; return false; ":n+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=k,e.errorPath=U,n+=" } else { "}else c?(n+=" if ( "+te+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+f+" = true; } else { "):(n+=" if ("+te+" !== undefined ",C&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Y)+"') "),n+=" ) { ");n+=" "+z+" } "}}c&&(n+=" if ("+f+") { ",p+="}")}}if(w.length){var ie=w;if(ie)for(var se,oe=-1,ae=ie.length-1;oe<ae;)Z=E[se=ie[oe+=1]],(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),n+=C?" "+S+" = "+S+" || Object.keys("+l+"); for (var "+y+"=0; "+y+"<"+S+".length; "+y+"++) { var "+d+" = "+S+"["+y+"]; ":" for (var "+d+" in "+l+") { ",n+=" if ("+e.usePattern(se)+".test("+d+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers),W=l+"["+d+"]",h.dataPathArr[m]=d,z=e.validate(h),h.baseId=P,e.util.varOccurences(z,v)<2?n+=" "+e.util.varReplace(z,v,W)+" ":n+=" var "+v+" = "+W+"; "+z+" ",c&&(n+=" if (!"+f+") break; "),n+=" } ",c&&(n+=" else "+f+" = true; "),n+=" }  ",c&&(n+=" if ("+f+") { ",p+="}"))}return c&&(n+=" "+p+" if ("+g+" == errors) {"),n}},3290:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(n+="var "+g+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=u;var f="key"+i,d="idx"+i,y="i"+i,m="' + "+f+" + '",v="data"+(h.dataLevel=e.dataLevel+1),S="dataProperties"+i,b=e.opts.ownProperties,E=e.baseId;b&&(n+=" var "+S+" = undefined; "),n+=b?" "+S+" = "+S+" || Object.keys("+l+"); for (var "+d+"=0; "+d+"<"+S+".length; "+d+"++) { var "+f+" = "+S+"["+d+"]; ":" for (var "+f+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var w=f,A=e.compositeRule;e.compositeRule=h.compositeRule=!0;var x=e.validate(h);h.baseId=E,e.util.varOccurences(x,v)<2?n+=" "+e.util.varReplace(x,v,w)+" ":n+=" var "+v+" = "+w+"; "+x+" ",e.compositeRule=h.compositeRule=A,n+=" if (!"+p+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+m+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+m+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+g+" == errors) {"),n}},6984:e=>{"use strict";e.exports=function(e,t,r){var n,i,s=" ",o=e.level,a=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(a||""),h="valid"+o;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(f),(v=v||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var d=s;s=v.pop(),!e.compositeRule&&l?e.async?s+=" throw new ValidationError(["+d+"]); ":s+=" validate.errors = ["+d+"]; return false; ":s+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,f);e.logger.warn(f),l&&(s+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var m="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=u,s+=" "+e.validate(y).replace(/validate\.schema/g,p.code)+" ",l&&(s+=" if ("+m+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var v;(v=v||[]).push(s),s="",e.opts.passContext?s+=" "+i+".call(this, ":s+=" "+i+"( ",s+=" "+g+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var S=s+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(s=v.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(s+=" var "+h+"; "),s+=" try { await "+S+"; ",l&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(s+=" "+h+" = false; "),s+=" } ",l&&(s+=" if ("+h+") { ")}else s+=" if (!"+S+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(s+=" else { ")}return s}},9428:e=>{"use strict";e.exports=function(e,t,r){var n=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(s||""),g="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],d=o;if(d)for(var y,m=-1,v=d.length-1;m<v;){y=d[m+=1];var S=e.schema.properties[y];S&&(e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all))||(f[f.length]=y)}}else f=o;if(h||f.length){var b=e.errorPath,E=h||f.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",E){h||(n+=" var "+p+" = validate.schema"+a+"; ");var A="' + "+(C="schema"+i+"["+(_="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,C,e.opts.jsonPointers)),n+=" var "+g+" = true; ",h&&(n+=" if (schema"+i+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+i+")) "+g+" = false; else {"),n+=" for (var "+_+" = 0; "+_+" < "+p+".length; "+_+"++) { "+g+" = "+l+"["+p+"["+_+"]] !== undefined ",w&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+_+"]) "),n+="; if (!"+g+") break; } ",h&&(n+="  }  "),n+="  if (!"+g+") {   ",(R=R||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var x=n;n=R.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var R,F=f;if(F)for(var _=-1,T=F.length-1;_<T;)I=F[_+=1],_&&(n+=" || "),n+=" ( ( "+(B=l+(N=e.util.getProperty(I)))+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(I)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?I:N)+") ) ";n+=") {  ",A="' + "+(C="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,C,!0):b+" + "+C),(R=R||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",x=n,n=R.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(E){var C;h||(n+=" var "+p+" = validate.schema"+a+"; "),A="' + "+(C="schema"+i+"["+(_="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,C,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+_+" = 0; "+_+" < "+p+".length; "+_+"++) { if ("+l+"["+p+"["+_+"]] === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+_+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var P=f;if(P)for(var I,D=-1,O=P.length-1;D<O;){I=P[D+=1];var N=e.util.getProperty(I),B=(A=e.util.escapeQuotes(I),l+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,I,e.opts.jsonPointers)),n+=" if ( "+B+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(I)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+A+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else c&&(n+=" if (true) {");return n}},3403:e=>{"use strict";e.exports=function(e,t,r){var n,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,g="data"+(o||""),h="valid"+s,p=e.opts.$data&&a&&a.$data;if(p?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",n="schema"+s):n=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+g+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,d=Array.isArray(f);if(!f||"object"==f||"array"==f||d&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+g+"[i], "+g+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+g+"[i]; ";var y="checkDataType"+(d?"s":"");i+=" if ("+e.util[y](f,"item",e.opts.strictNumbers,!0)+") continue; ",d&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ";var v=i;i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},7547:e=>{"use strict";e.exports=function(e,t,r){var n="",i=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var u="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!s&&!e.schema.$ref){t="false schema";var c=e.level,l=e.dataLevel,g=e.schema[t],h=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(l||""),y="valid"+c;if(!1===e.schema){e.isTop?f=!0:n+=" var "+y+" = false; ",(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;n=W.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+y+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var v=e.isTop;if(c=e.level=0,l=e.dataLevel=0,d="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var S="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(S);e.logger.warn(S)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,d="data"+((l=e.dataLevel)||""),o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}y="valid"+c,f=!e.opts.allErrors;var b="",E="",w=e.schema.type,A=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(A?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],A=!0)),A&&1==w.length&&(w=w[0],A=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,w);var R=e.RULES.types[w];if(x||A||!0===R||R&&!J(R)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var F=A?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[F](w,d,e.opts.strictNumbers,!0)+") { ",x){var _="dataType"+c,T="coerced"+c;n+=" var "+_+" = typeof "+d+"; var "+T+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+_+" == 'object' && Array.isArray("+d+") && "+d+".length == 1) { "+d+" = "+d+"[0]; "+_+" = typeof "+d+"; if ("+e.util.checkDataType(e.schema.type,d,e.opts.strictNumbers)+") "+T+" = "+d+"; } "),n+=" if ("+T+" !== undefined) ; ";var C=x;if(C)for(var P,I=-1,D=C.length-1;I<D;)"string"==(P=C[I+=1])?n+=" else if ("+_+" == 'number' || "+_+" == 'boolean') "+T+" = '' + "+d+"; else if ("+d+" === null) "+T+" = ''; ":"number"==P||"integer"==P?(n+=" else if ("+_+" == 'boolean' || "+d+" === null || ("+_+" == 'string' && "+d+" && "+d+" == +"+d+" ","integer"==P&&(n+=" && !("+d+" % 1)"),n+=")) "+T+" = +"+d+"; "):"boolean"==P?n+=" else if ("+d+" === 'false' || "+d+" === 0 || "+d+" === null) "+T+" = false; else if ("+d+" === 'true' || "+d+" === 1) "+T+" = true; ":"null"==P?n+=" else if ("+d+" === '' || "+d+" === 0 || "+d+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(n+=" else if ("+_+" == 'string' || "+_+" == 'number' || "+_+" == 'boolean' || "+d+" == null) "+T+" = ["+d+"]; ");n+=" else {   ",(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=A?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=A?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",m=n,n=W.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+T+" !== undefined) {  ";var O=l?"data"+(l-1||""):"parentData";n+=" "+d+" = "+T+"; ",l||(n+="if ("+O+" !== undefined)"),n+=" "+O+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+T+"; } "}else(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=A?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=A?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",m=n,n=W.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(e.schema.$ref&&!s)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(n+=" } if (errors === ",n+=v?"0":"errs_"+c,n+=") { ",E+="}");else{var N=e.RULES;if(N)for(var B=-1,j=N.length-1;B<j;)if(J(R=N[B+=1])){if(R.type&&(n+=" if ("+e.util.checkDataType(R.type,d,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==R.type&&e.schema.properties){g=e.schema.properties;var L=Object.keys(g);if(L)for(var H,M=-1,U=L.length-1;M<U;)if(void 0!==(q=g[H=L[M+=1]]).default){var V=d+e.util.getProperty(H);if(e.compositeRule){if(e.opts.strictDefaults){if(S="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(S);e.logger.warn(S)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(q.default)+" ":n+=" "+JSON.stringify(q.default)+" ",n+="; "}}else if("array"==R.type&&Array.isArray(e.schema.items)){var k=e.schema.items;if(k){I=-1;for(var q,K=k.length-1;I<K;)if(void 0!==(q=k[I+=1]).default)if(V=d+"["+I+"]",e.compositeRule){if(e.opts.strictDefaults){if(S="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(S);e.logger.warn(S)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(q.default)+" ":n+=" "+JSON.stringify(q.default)+" ",n+="; "}}var W,z=R.rules;if(z)for(var G,$=-1,Y=z.length-1;$<Y;)if(Z(G=z[$+=1])){var X=G.code(e,G.keyword,R.type);X&&(n+=" "+X+" ",f&&(b+="}"))}if(f&&(n+=" "+b+" ",b=""),R.type&&(n+=" } ",w&&w===R.type&&!x))n+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=A?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=A?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",m=n,n=W.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";f&&(n+=" if (errors === ",n+=v?"0":"errs_"+c,n+=") { ",E+="}")}}function J(e){for(var t=e.rules,r=0;r<t.length;r++)if(Z(t[r]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return f&&(n+=" "+E+" "),v?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+y+" = errors === errs_"+c+";",n}},162:(e,t,r)=>{"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r(5610),s=r(5871);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var s=t.type;if(Array.isArray(s))for(var o=0;o<s.length;o++)u(e,s[o],t);else u(e,s,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function u(e,t,n){for(var s,o=0;o<r.length;o++){var a=r[o];if(a.type==t){s=a;break}}s||(s={type:t,rules:[]},r.push(s));var u={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};s.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},3496:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},2676:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},2750:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;0!=i--;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},7692:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},s={key:n,value:e[n]};return r(i,s)}}),s=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=s.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<u.length;r++){var c=u[r],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return s.splice(a,1),"{"+o+"}"}}(e)}},4235:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,i,s,o,a,u,c,l,g){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var h in n(s,o,a,u,c,l,g),s){var p=s[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)r(e,n,i,p[f],o+"/"+h+"/"+f,a,o,h,s,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var d in p)r(e,n,i,p[d],o+"/"+h+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,h,s,d)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,i,p,o+"/"+h,a,o,h,s)}i(s,o,a,u,c,l,g)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},4604:(e,t)=>{var r={userAgent:!1},n={};if(void 0===i)var i={};i.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var s;for(s in n)e.prototype[s]=n[s];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(o=function(e,t){for(s=0;s<a.length;s+=1){var r=a[s],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(e){}o(e.prototype,n)}}};var s,o,a,u,c,l,g,h,p,f,d,y=y||(s=Math,a=(o={}).lib={},u=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||g).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),l=o.enc={},g=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,o=n/(4*i),a=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,u=s.min(4*a,n);if(a){for(var l=0;l<a;l+=i)this._doProcessBlock(r,l);var g=r.splice(0,a);t.sigBytes-=u}return new c.init(g,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=f.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),d=o.algo={},o);!function(e){var t,r=(t=y).lib,n=r.Base,i=r.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var s=e[n];r.push(s.high),r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),y.lib.Cipher||function(e){var t=(p=y).lib,r=t.Base,n=t.WordArray,i=t.BufferedBlockAlgorithm,s=p.enc.Base64,o=p.algo.EvpKDF,a=t.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,n){return("string"==typeof r?f:h).encrypt(e,t,r,n)},decrypt:function(t,r,n){return("string"==typeof r?f:h).decrypt(e,t,r,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=p.mode={},c=function(e,t,r){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]},l=(t.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;c.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),l.Decryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=e.slice(t,t+n);r.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=i}}),u=u.CBC=l,l=(p.pad={}).Pkcs7={pad:function(e,t){for(var r,i=(r=(r=4*t)-e.sigBytes%r)<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(i);r=n.create(s,r),e.concat(r)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:l}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var g=t.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(u=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){var t=(e=s.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var r=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},t.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n);return t=i.finalize(t),i=i.cfg,g.create({ciphertext:t,key:r,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,r,i){return i||(i=n.random(8)),e=o.create({keySize:t+r}).compute(e,i),r=n.create(e.words.slice(t),4*r),e.sigBytes=4*t,g.create({key:e,iv:r,salt:i})}},f=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:p}),encrypt:function(e,t,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize),n.iv=r.iv,(e=h.encrypt.call(this,e,t,r.key,n)).mixIn(r),e},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt),n.iv=r.iv,h.decrypt.call(this,e,t,r.key,n)}})}(),function(){for(var e=y,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],s=[],o=[],a=[],u=[],c=[],l=[],g=[],h=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:f<<1^283;var d=0,m=0;for(f=0;256>f;f++){var v=(v=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&v^99;n[d]=v,i[v]=d;var S=p[d],b=p[S],E=p[b],w=257*p[v]^16843008*v;s[d]=w<<24|w>>>8,o[d]=w<<16|w>>>16,a[d]=w<<8|w>>>24,u[d]=w,w=16843009*E^65537*b^257*S^16843008*d,c[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,g[v]=w<<8|w>>>24,h[v]=w,d?(d=S^p[p[p[E^S]]],m^=p[p[m]]):d=m=1}var A=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=t.extend({_doReset:function(){for(var e=(r=this._key).words,t=r.sigBytes/4,r=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],s=0;s<r;s++)if(s<t)i[s]=e[s];else{var o=i[s-1];s%t?6<t&&4==s%t&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=A[s/t|0]<<24),i[s]=i[s-t]^o}for(e=this._invKeySchedule=[],t=0;t<r;t++)s=r-t,o=t%4?i[s]:i[s-4],e[t]=4>t||4>=s?o:c[n[o>>>24]]^l[n[o>>>16&255]]^g[n[o>>>8&255]]^h[n[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,a,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,l,g,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,o,a){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],g=e[t+2]^r[2],h=e[t+3]^r[3],p=4,f=1;f<u;f++){var d=n[c>>>24]^i[l>>>16&255]^s[g>>>8&255]^o[255&h]^r[p++],y=n[l>>>24]^i[g>>>16&255]^s[h>>>8&255]^o[255&c]^r[p++],m=n[g>>>24]^i[h>>>16&255]^s[c>>>8&255]^o[255&l]^r[p++];h=n[h>>>24]^i[c>>>16&255]^s[l>>>8&255]^o[255&g]^r[p++],c=d,l=y,g=m}d=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[g>>>8&255]<<8|a[255&h])^r[p++],y=(a[l>>>24]<<24|a[g>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[p++],m=(a[g>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^r[p++],h=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&g])^r[p++],e[t]=d,e[t+1]=y,e[t+2]=m,e[t+3]=h},keySize:8}),e.AES=t._createHelper(r)}(),function(){function e(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function t(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}var r=y,n=(i=r.lib).WordArray,i=i.BlockCipher,s=r.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=s.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;56>r;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(e=this._subKeys=[],n=0;16>n;n++){var i=e[n]=[],s=u[n];for(r=0;24>r;r++)i[r/6|0]|=t[(a[r]-1+s)%28]<<31-r%6,i[4+(r/6|0)]|=t[28+(a[r+24]-1+s)%28]<<31-r%6;for(i[0]=i[0]<<1|i[0]>>>31,r=1;7>r;r++)i[r]>>>=4*(r-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],r=0;16>r;r++)t[r]=e[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(r,n,i){this._lBlock=r[n],this._rBlock=r[n+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var s=0;16>s;s++){for(var o=i[s],a=this._lBlock,u=this._rBlock,g=0,h=0;8>h;h++)g|=c[h][((u^o[h])&l[h])>>>0];this._lBlock=u,this._rBlock=a^g}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),r[n]=this._lBlock,r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=i._createHelper(g),s=s.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=g.createEncryptor(n.create(e.slice(0,2))),this._des2=g.createEncryptor(n.create(e.slice(2,4))),this._des3=g.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=i._createHelper(s)}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)e.push(n.charAt(s>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],s=0,o=0;o<r;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,u=n.indexOf(e.charAt(o))>>>6-o%4*2;i[s>>>2]|=(a|u)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,r,n,i,s,o){return((e=e+(t&r|~t&n)+i+o)<<s|e>>>32-s)+t}function r(e,t,r,n,i,s,o){return((e=e+(t&n|r&~n)+i+o)<<s|e>>>32-s)+t}function n(e,t,r,n,i,s,o){return((e=e+(t^r^n)+i+o)<<s|e>>>32-s)+t}function i(e,t,r,n,i,s,o){return((e=e+(r^(t|~n))+i+o)<<s|e>>>32-s)+t}for(var s=y,o=(u=s.lib).WordArray,a=u.Hasher,u=s.algo,c=[],l=0;64>l;l++)c[l]=4294967296*e.abs(e.sin(l+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var o=0;16>o;o++){var a=e[u=s+o];e[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}o=this._hash.words;var u=e[s+0],l=(a=e[s+1],e[s+2]),g=e[s+3],h=e[s+4],p=e[s+5],f=e[s+6],d=e[s+7],y=e[s+8],m=e[s+9],v=e[s+10],S=e[s+11],b=e[s+12],E=e[s+13],w=e[s+14],A=e[s+15],x=t(x=o[0],_=o[1],F=o[2],R=o[3],u,7,c[0]),R=t(R,x,_,F,a,12,c[1]),F=t(F,R,x,_,l,17,c[2]),_=t(_,F,R,x,g,22,c[3]);x=t(x,_,F,R,h,7,c[4]),R=t(R,x,_,F,p,12,c[5]),F=t(F,R,x,_,f,17,c[6]),_=t(_,F,R,x,d,22,c[7]),x=t(x,_,F,R,y,7,c[8]),R=t(R,x,_,F,m,12,c[9]),F=t(F,R,x,_,v,17,c[10]),_=t(_,F,R,x,S,22,c[11]),x=t(x,_,F,R,b,7,c[12]),R=t(R,x,_,F,E,12,c[13]),F=t(F,R,x,_,w,17,c[14]),x=r(x,_=t(_,F,R,x,A,22,c[15]),F,R,a,5,c[16]),R=r(R,x,_,F,f,9,c[17]),F=r(F,R,x,_,S,14,c[18]),_=r(_,F,R,x,u,20,c[19]),x=r(x,_,F,R,p,5,c[20]),R=r(R,x,_,F,v,9,c[21]),F=r(F,R,x,_,A,14,c[22]),_=r(_,F,R,x,h,20,c[23]),x=r(x,_,F,R,m,5,c[24]),R=r(R,x,_,F,w,9,c[25]),F=r(F,R,x,_,g,14,c[26]),_=r(_,F,R,x,y,20,c[27]),x=r(x,_,F,R,E,5,c[28]),R=r(R,x,_,F,l,9,c[29]),F=r(F,R,x,_,d,14,c[30]),x=n(x,_=r(_,F,R,x,b,20,c[31]),F,R,p,4,c[32]),R=n(R,x,_,F,y,11,c[33]),F=n(F,R,x,_,S,16,c[34]),_=n(_,F,R,x,w,23,c[35]),x=n(x,_,F,R,a,4,c[36]),R=n(R,x,_,F,h,11,c[37]),F=n(F,R,x,_,d,16,c[38]),_=n(_,F,R,x,v,23,c[39]),x=n(x,_,F,R,E,4,c[40]),R=n(R,x,_,F,u,11,c[41]),F=n(F,R,x,_,g,16,c[42]),_=n(_,F,R,x,f,23,c[43]),x=n(x,_,F,R,m,4,c[44]),R=n(R,x,_,F,b,11,c[45]),F=n(F,R,x,_,A,16,c[46]),x=i(x,_=n(_,F,R,x,l,23,c[47]),F,R,u,6,c[48]),R=i(R,x,_,F,d,10,c[49]),F=i(F,R,x,_,w,15,c[50]),_=i(_,F,R,x,p,21,c[51]),x=i(x,_,F,R,b,6,c[52]),R=i(R,x,_,F,g,10,c[53]),F=i(F,R,x,_,v,15,c[54]),_=i(_,F,R,x,a,21,c[55]),x=i(x,_,F,R,y,6,c[56]),R=i(R,x,_,F,A,10,c[57]),F=i(F,R,x,_,f,15,c[58]),_=i(_,F,R,x,E,21,c[59]),x=i(x,_,F,R,h,6,c[60]),R=i(R,x,_,F,S,10,c[61]),F=i(F,R,x,_,l,15,c[62]),_=i(_,F,R,x,m,21,c[63]),o[0]=o[0]+x|0,o[1]=o[1]+_|0,o[2]=o[2]+F|0,o[3]=o[3]+R|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296);for(r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(r.length+1),this._process(),r=(t=this._hash).words,n=0;4>n;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),function(){var e=y,t=(i=e.lib).WordArray,r=i.Hasher,n=[],i=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var l=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=l<<1|l>>>31}l=(i<<5|i>>>27)+u+n[c],l=20>c?l+(1518500249+(s&o|~s&a)):40>c?l+(1859775393+(s^o^a)):60>c?l+((s&o|s&a|o&a)-1894007588):l+((s^o^a)-899497514),u=a,a=o,o=s<<30|s>>>2,s=i,i=l}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i)}(),function(e){for(var t=y,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,s=[],o=[],a=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var g=e.sqrt(l),h=2;h<=g;h++)if(!(l%h)){l=!1;break e}l=!0}l&&(8>c&&(s[c]=a(e.pow(u,.5))),o[c]=a(e.pow(u,1/3)),c++),u++}var p=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],u=r[4],c=r[5],l=r[6],g=r[7],h=0;64>h;h++){if(16>h)p[h]=0|e[t+h];else{var f=p[h-15],d=p[h-2];p[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[h-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+p[h-16]}f=g+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+o[h]+p[h],d=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&s^i&s),g=l,l=c,c=u,u=a+f|0,a=s,s=i,i=n,n=f+d|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+g|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){var e=y,t=e.lib.WordArray,r=(n=e.algo).SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(n),e.HmacSHA224=r._createHmacHelper(n)}(),function(){function e(){return n.create.apply(n,arguments)}for(var t=y,r=t.lib.Hasher,n=(s=t.x64).Word,i=s.WordArray,s=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=e();s=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(g=this._hash.words)[0],n=g[1],i=g[2],s=g[3],u=g[4],c=g[5],l=g[6],g=g[7],h=r.high,p=r.low,f=n.high,d=n.low,y=i.high,m=i.low,v=s.high,S=s.low,b=u.high,E=u.low,w=c.high,A=c.low,x=l.high,R=l.low,F=g.high,_=g.low,T=h,C=p,P=f,I=d,D=y,O=m,N=v,B=S,j=b,L=E,H=w,M=A,U=x,V=R,k=F,q=_,K=0;80>K;K++){var W=a[K];if(16>K)var z=W.high=0|e[t+2*K],G=W.low=0|e[t+2*K+1];else{z=((G=(z=a[K-15]).high)>>>1|($=z.low)<<31)^(G>>>8|$<<24)^G>>>7;var $=($>>>1|G<<31)^($>>>8|G<<24)^($>>>7|G<<25),Y=((G=(Y=a[K-2]).high)>>>19|(X=Y.low)<<13)^(G<<3|X>>>29)^G>>>6,X=(X>>>19|G<<13)^(X<<3|G>>>29)^(X>>>6|G<<26),J=(G=a[K-7]).high,Z=(Q=a[K-16]).high,Q=Q.low;z=(z=(z=z+J+((G=$+G.low)>>>0<$>>>0?1:0))+Y+((G+=X)>>>0<X>>>0?1:0))+Z+((G+=Q)>>>0<Q>>>0?1:0),W.high=z,W.low=G}J=j&H^~j&U,Q=L&M^~L&V,W=T&P^T&D^P&D;var ee=C&I^C&O^I&O,te=($=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),Y=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),(X=o[K]).high),re=X.low;Z=k+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9))+((X=q+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9)))>>>0<q>>>0?1:0),k=U,q=V,U=H,V=M,H=j,M=L,j=N+(Z=(Z=(Z=Z+J+((X+=Q)>>>0<Q>>>0?1:0))+te+((X+=re)>>>0<re>>>0?1:0))+z+((X+=G)>>>0<G>>>0?1:0))+((L=B+X|0)>>>0<B>>>0?1:0)|0,N=D,B=O,D=P,O=I,P=T,I=C,T=Z+(W=$+W+((G=Y+ee)>>>0<Y>>>0?1:0))+((C=X+G|0)>>>0<X>>>0?1:0)|0}p=r.low=p+C,r.high=h+T+(p>>>0<C>>>0?1:0),d=n.low=d+I,n.high=f+P+(d>>>0<I>>>0?1:0),m=i.low=m+O,i.high=y+D+(m>>>0<O>>>0?1:0),S=s.low=S+B,s.high=v+N+(S>>>0<B>>>0?1:0),E=u.low=E+L,u.high=b+j+(E>>>0<L>>>0?1:0),A=c.low=A+M,c.high=w+H+(A>>>0<M>>>0?1:0),R=l.low=R+V,l.high=x+U+(R>>>0<V>>>0?1:0),_=g.low=_+q,g.high=F+k+(_>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(s),t.HmacSHA512=r._createHmacHelper(s)}(),function(){var e=y,t=(i=e.x64).Word,r=i.WordArray,n=(i=e.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}(),function(){var e=y,t=(n=e.lib).WordArray,r=n.Hasher,n=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=r.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;16>r;r++){var n=e[E=t+r];e[E]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var l,g,h,p,f,d,y,m,v,S,b,E=this._hash.words,w=(n=u.words,c.words),A=i.words,x=s.words,R=o.words,F=a.words;for(d=l=E[0],y=g=E[1],m=h=E[2],v=p=E[3],S=f=E[4],r=0;80>r;r+=1)b=l+e[t+A[r]]|0,b=16>r?b+((g^h^p)+n[0]):32>r?b+((g&h|~g&p)+n[1]):48>r?b+(((g|~h)^p)+n[2]):64>r?b+((g&p|h&~p)+n[3]):b+((g^(h|~p))+n[4]),b=(b=(b|=0)<<R[r]|b>>>32-R[r])+f|0,l=f,f=p,p=h<<10|h>>>22,h=g,g=b,b=d+e[t+x[r]]|0,b=16>r?b+((y^(m|~v))+w[0]):32>r?b+((y&v|m&~v)+w[1]):48>r?b+(((y|~m)^v)+w[2]):64>r?b+((y&m|~y&v)+w[3]):b+((y^m^v)+w[4]),b=(b=(b|=0)<<F[r]|b>>>32-F[r])+S|0,d=S,S=v,v=m<<10|m>>>22,m=y,y=b;b=E[1]+h+v|0,E[1]=E[2]+p+S|0,E[2]=E[3]+f+d|0,E[3]=E[4]+l+y|0,E[4]=E[0]+g+m|0,E[0]=b},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;for(t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,r=0;5>r;r++)n=t[r],t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=r._createHelper(n),e.HmacRIPEMD160=r._createHmacHelper(n)}(Math),function(){var e=y,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r)),r.clamp();for(var s=this._oKey=r.clone(),o=this._iKey=r.clone(),a=s.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=y,r=(e=t.lib).Base,n=e.WordArray,i=(e=t.algo).HMAC,s=e.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var r=this.cfg,s=i.create(r.hasher,e),o=n.create(),a=n.create([1]),u=o.words,c=a.words,l=r.keySize;for(r=r.iterations;u.length<l;){var g=s.update(t).finalize(a);s.reset();for(var h=g.words,p=h.length,f=g,d=1;d<r;d++){f=s.finalize(f),s.reset();for(var y=f.words,m=0;m<p;m++)h[m]^=y[m]}o.concat(g),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,r){return s.create(r).compute(e,t)}}();var m,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function S(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=v.charAt(r>>6)+v.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=v.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=v.charAt(r>>2)+v.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function b(e){var t,r,n,i="",s=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=v.indexOf(e.charAt(t)))<0||(0==s?(i+=_(n>>2),r=3&n,s=1):1==s?(i+=_(r<<2|n>>4),r=15&n,s=2):2==s?(i+=_(r),i+=_(n>>2),r=3&n,s=3):(i+=_(r<<2|n>>4),i+=_(15&n),s=0));return 1==s&&(i+=_(r<<2)),i}function E(e){var t,r=b(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function w(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function A(){return new w(null)}"Microsoft Internet Explorer"==r.appName?(w.prototype.am=function(e,t,r,n,i,s){for(var o=32767&t,a=t>>15;--s>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*o;i=((u=o*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},m=30):"Netscape"!=r.appName?(w.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var o=t*this[e++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},m=26):(w.prototype.am=function(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;--s>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*o;i=((u=o*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+a*c,r[n++]=268435455&u}return i},m=28),w.prototype.DB=m,w.prototype.DM=(1<<m)-1,w.prototype.DV=1<<m,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-m,w.prototype.F2=2*m-52;var x,R,F=new Array;for(x="0".charCodeAt(0),R=0;R<=9;++R)F[x++]=R;for(x="a".charCodeAt(0),R=10;R<36;++R)F[x++]=R;for(x="A".charCodeAt(0),R=10;R<36;++R)F[x++]=R;function _(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var r=F[e.charCodeAt(t)];return null==r?-1:r}function C(e){var t=A();return t.fromInt(e),t}function P(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function I(e){this.m=e}function D(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function O(e,t){return e&t}function N(e,t){return e|t}function B(e,t){return e^t}function j(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function H(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function M(){}function U(e){return e}function V(e){this.r2=A(),this.q3=A(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},D.prototype.convert=function(e){var t=A();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},D.prototype.revert=function(e){var t=A();return e.copyTo(t),this.reduce(t),t},D.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},D.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},D.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var o=8==r?255&e[n]:T(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<i,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},w.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},w.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=A());var s=A(),o=this.s,a=e.s,u=this.DB-P(n[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,l=s[c-1];if(0!=l){var g=l*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),h=this.FV/g,p=(1<<this.F1)/g,f=1<<this.F2,d=r.t,y=d-c,m=null==t?A():t;for(s.dlShiftTo(y,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),w.ONE.dlShiftTo(c,m),m.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--y>=0;){var v=r[--d]==l?this.DM:Math.floor(r[d]*h+(r[d-1]+f)*p);if((r[d]+=s.am(0,v,r,y,0,c))<v)for(s.dlShiftTo(y,m),r.subTo(m,r);r[d]<--v;)r.subTo(m,r)}null!=t&&(r.drShiftTo(c,t),o!=a&&w.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&w.ZERO.subTo(r,r)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var r=A(),n=A(),i=t.convert(this),s=P(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var o=r;r=n,n=o}return t.revert(r)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=_(r));o>=0;)a<t?(r=(this[o]&(1<<a)-1)<<t-a,r|=this[--o]>>(a+=this.DB-t)):(r=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=_(r));return i?s:"0"},w.prototype.negate=function(){var e=A();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+P(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=A();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new I(t):new D(t),this.exp(e,r)},w.ZERO=C(0),w.ONE=C(1),M.prototype.convert=U,M.prototype.revert=U,M.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},M.prototype.sqrTo=function(e,t){e.squareTo(t)},V.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=A();return e.copyTo(t),this.reduce(t),t},V.prototype.revert=function(e){return e},V.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},V.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},V.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k,q,K,W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],z=(1<<26)/W[W.length-1];function G(){this.i=0,this.j=0,this.S=new Array}function $(){!function(e){q[K++]^=255&e,q[K++]^=e>>8&255,q[K++]^=e>>16&255,q[K++]^=e>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=C(r),i=A(),s=A(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var u=T(e,a);u<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(o=t*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},w.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},w.prototype.changeBit=function(e,t){var r=w.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},w.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},w.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>W.length&&(e=W.length);for(var i=A(),s=0;s<e;++s){i.fromInt(W[Math.floor(Math.random()*W.length)]);var o=i.modPow(n,this);if(0!=o.compareTo(w.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<r&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=A();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=A();return this.bitwiseTo(e,O,t),t},w.prototype.or=function(e){var t=A();return this.bitwiseTo(e,N,t),t},w.prototype.xor=function(e){var t=A();return this.bitwiseTo(e,B,t),t},w.prototype.andNot=function(e){var t=A();return this.bitwiseTo(e,j,t),t},w.prototype.not=function(){for(var e=A(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=A();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=A();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=H(this[r]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,N)},w.prototype.clearBit=function(e){return this.changeBit(e,j)},w.prototype.flipBit=function(e){return this.changeBit(e,B)},w.prototype.add=function(e){var t=A();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=A();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=A();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=A();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=A();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=A(),r=A();return this.divRemTo(e,t,r),new Array(t,r)},w.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=C(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new I(t):t.isEven()?new V(t):new D(t);var o=new Array,a=3,u=r-1,c=(1<<r)-1;if(o[1]=n.convert(this),r>1){var l=A();for(n.sqrTo(o[1],l);a<=c;)o[a]=A(),n.mulTo(l,o[a-2],o[a]),a+=2}var g,h,p=e.t-1,f=!0,d=A();for(i=P(e[p])-1;p>=0;){for(i>=u?g=e[p]>>i-u&c:(g=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(g|=e[p-1]>>this.DB+i-u)),a=r;0==(1&g);)g>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),f)o[g].copyTo(s),f=!1;else{for(;a>1;)n.sqrTo(s,d),n.sqrTo(d,s),a-=2;a>0?n.sqrTo(s,d):(h=s,s=d,d=h),n.mulTo(d,o[g],s)}for(;p>=0&&0==(e[p]&1<<i);)n.sqrTo(s,d),h=s,s=d,d=h,--i<0&&(i=this.DB-1,--p)}return n.revert(s)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var r=e.clone(),n=this.clone(),i=C(1),s=C(0),o=C(0),a=C(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(w.ONE)?w.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},w.prototype.pow=function(e){return this.exp(e,new M)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},w.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=W[W.length-1]){for(t=0;t<W.length;++t)if(r[0]==W[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<W.length;){for(var n=W[t],i=t+1;i<W.length&&n<z;)n*=W[i++];for(n=r.modInt(n);t<i;)if(n%W[t++]==0)return!1}return r.millerRabin(e)},w.prototype.square=function(){var e=A();return this.squareTo(e),e},G.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==q){var Y;if(q=new Array,K=0,void 0!==n&&(void 0!==n.crypto||void 0!==n.msCrypto)){var X=n.crypto||n.msCrypto;if(X.getRandomValues){var J=new Uint8Array(32);for(X.getRandomValues(J),Y=0;Y<32;++Y)q[K++]=J[Y]}else if("Netscape"==r.appName&&r.appVersion<"5"){var Z=n.crypto.random(32);for(Y=0;Y<Z.length;++Y)q[K++]=255&Z.charCodeAt(Y)}}for(;K<256;)Y=Math.floor(65536*Math.random()),q[K++]=Y>>>8,q[K++]=255&Y;K=0,$()}function Q(){if(null==k){for($(),(k=new G).init(q),K=0;K<q.length;++K)q[K]=0;K=0}return k.next()}function ee(){}function te(e,t){return new w(e,t)}function re(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t,r){for(var n="",i=0;n.length<t;)n+=r(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return n}function se(e,t){this.x=t,this.q=e}function oe(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?w.ONE:n,this.zinv=null}function ae(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Q()},ne.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ne.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var s=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);r[--t]=o[0]}return r[--t]=2,r[--t]=0,new w(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},ne.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,o=null;if(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(e){return Ae(s.hashHex(xe(e),o))}),e.length+2*n+2>t)throw"Message too long for RSA";var a,u="";for(a=0;a<t-e.length-2*n-2;a+=1)u+="\0";var c=r("")+u+""+e,l=new Array(n);(new ee).nextBytes(l);var g=re(l,c.length,r),h=[];for(a=0;a<c.length;a+=1)h[a]=c.charCodeAt(a)^g.charCodeAt(a);var p=re(h,l.length,r),f=[0];for(a=0;a<l.length;a+=1)f[a+1]=l[a]^p.charCodeAt(a);return new w(f.concat(h))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},ne.prototype.type="RSA",ne.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},ne.prototype.setPrivate=function(e,t,r){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=r;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(r,16)}},ne.prototype.setPrivateEx=function(e,t,r,n,i,s,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(r,16),this.p=te(n,16),this.q=te(i,16),this.dmp1=te(s,16),this.dmq1=te(o,16),this.coeff=te(a,16)},ne.prototype.generate=function(e,t){var r=new ee,n=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16);;){for(;this.p=new w(e-n,1,r),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(n,1,r),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(w.ONE),a=this.q.subtract(w.ONE),u=o.multiply(a);if(0==u.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(u),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ne.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),r=this.doPrivate(t);return null==r?null:function(e,t){for(var r=e.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=t-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var i="";++n<r.length;){var s=255&r[n];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&s)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},ne.prototype.decryptOAEP=function(e,t,r){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=te(e,16),i=this.doPrivate(n);return null==i?null:function(e,t,r,n){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,o=null;for(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(e){return Ae(s.hashHex(xe(e),o))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*n+2)throw"Cipher too short";var a,u=e.substr(1,n),c=e.substr(n+1),l=ie(c,n,r),g=[];for(a=0;a<u.length;a+=1)g[a]=u.charCodeAt(a)^l.charCodeAt(a);var h=ie(String.fromCharCode.apply(String,g),e.length-n,r),p=[];for(a=0;a<c.length;a+=1)p[a]=c.charCodeAt(a)^h.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,n)!==r(""))throw"Hash mismatch";var f=(p=p.substr(n)).indexOf("");if((-1!=f?p.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return p.substr(f+1)}(i,this.n.bitLength()+7>>3,t,r)},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},se.prototype.toBigInteger=function(){return this.x},se.prototype.negate=function(){return new se(this.q,this.x.negate().mod(this.q))},se.prototype.add=function(e){return new se(this.q,this.x.add(e.toBigInteger()).mod(this.q))},se.prototype.subtract=function(e){return new se(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},se.prototype.multiply=function(e){return new se(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},se.prototype.square=function(){return new se(this.q,this.x.square().mod(this.q))},se.prototype.divide=function(e){return new se(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(r))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new w("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),a=o.multiply(r),u=i.multiply(o),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(a).multiply(r).mod(this.curve.q),g=u.multiply(n).multiply(t).subtract(s.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),h=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(g),h)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=t.square().multiply(e);w.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s)));var a=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=o.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new w("3")),i=this.negate(),s=this,o=this.curve.q.subtract(e),a=o.multiply(new w("3")),u=new oe(this.curve,this.x,this.y),c=u.negate();for(t=n.bitLength()-2;t>0;--t){s=s.twice();var l=n.testBit(t);l!=r.testBit(t)&&(s=s.add(l?this:i))}for(t=a.bitLength()-2;t>0;--t){u=u.twice();var g=a.testBit(t);g!=o.testBit(t)&&(u=u.add(g?u:c))}return s},oe.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(s):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new se(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new w(r,16)),this.fromBigInteger(new w(n,16)));default:return null}},se.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},oe.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var s=new w(n),o=new w(i);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(o))},oe.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),s=new w(n,16),o=new w(i,16);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(o))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new w("3")),i=this.negate(),s=this;for(t=n.bitLength()-2;t>0;--t){s=s.twice();var o=n.testBit(t);o!=r.testBit(t)&&(s=s.add2D(o?this:i))}return s},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return s.equals(o)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(w.ONE)<0||r.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var i=new String(""),s=Object.hasOwnProperty;return function(r,o){var a,u,c=r.match(e),l=c[0],g=!1;"{"===l?a={}:"["===l?a=[]:(a=[],g=!0);for(var h=[a],p=1-g,f=c.length;p<f;++p){var d;switch((l=c[p]).charCodeAt(0)){default:(d=h[0])[u||d.length]=+l,u=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,n)),d=h[0],!u){if(!(d instanceof Array)){u=l||i;break}u=d.length}d[u]=l,u=void 0;break;case 91:d=h[0],h.unshift(d[u||d.length]=[]),u=void 0;break;case 93:h.shift();break;case 102:(d=h[0])[u||d.length]=!1,u=void 0;break;case 110:(d=h[0])[u||d.length]=null,u=void 0;break;case 116:(d=h[0])[u||d.length]=!0,u=void 0;break;case 123:d=h[0],h.unshift(d[u||d.length]={}),u=void 0;break;case 125:h.shift()}}if(g){if(1!==h.length)throw new Error;a=a[0]}else if(h.length)throw new Error;if(o){var y=function(e,t){var r=e[t];if(r&&"object"==typeof r){var n=null;for(var i in r)if(s.call(r,i)&&r!==e){var a=y(r,i);void 0!==a?r[i]=a:(n||(n=[]),n.push(i))}if(n)for(var u=n.length;--u>=0;)delete r[n[u]]}return o.call(e,t,r)};a=y({"":a},"")}return a}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new w(n,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Te(e,t)},this.newObject=function(e){var t=ce.asn1,r=t.ASN1Object,n=t.DERBoolean,i=t.DERInteger,s=t.DERBitString,o=t.DEROctetString,a=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,g=t.DERNumericString,h=t.DERPrintableString,p=t.DERTeletexString,f=t.DERIA5String,d=t.DERUTCTime,y=t.DERGeneralizedTime,m=t.DERVisibleString,v=t.DERBMPString,S=t.DERSequence,b=t.DERSet,E=t.DERTaggedObject,w=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var A=Object.keys(e);if(1!=A.length)throw new Error("key of param shall be only one.");var x=A[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+x+":"))throw new Error("undefined key: "+x);if("bool"==x)return new n(e[x]);if("int"==x)return new i(e[x]);if("bitstr"==x)return new s(e[x]);if("octstr"==x)return new o(e[x]);if("null"==x)return new a(e[x]);if("oid"==x)return new u(e[x]);if("enum"==x)return new c(e[x]);if("utf8str"==x)return new l(e[x]);if("numstr"==x)return new g(e[x]);if("prnstr"==x)return new h(e[x]);if("telstr"==x)return new p(e[x]);if("ia5str"==x)return new f(e[x]);if("utctime"==x)return new d(e[x]);if("gentime"==x)return new y(e[x]);if("visstr"==x)return new m(e[x]);if("bmpstr"==x)return new v(e[x]);if("asn1"==x)return new r(e[x]);if("seq"==x){for(var R=e[x],F=[],_=0;_<R.length;_++){var T=w(R[_]);F.push(T)}return new S({array:F})}if("set"==x){for(R=e[x],F=[],_=0;_<R.length;_++)T=w(R[_]),F.push(T);return new b({array:F})}if("tag"==x){var C=e[x];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var P=w(C[2]);return new E({tag:C[0],explicit:C[1],obj:P})}return new E(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var s=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=s.substr(1,7),"0"==s.substr(0,1)&&(t=t+"."+new w(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new w(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=t(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ee(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},i.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),s=String(i.getFullYear());"utc"==t&&(s=s.substr(2,2));var o=s+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var u=n(String(a),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ye(e)},this.setByDateValue=function(e,t,r,n,i,s){var o=new Date(Date.UTC(e,t-1,r,n,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},i.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},i.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},i.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},i.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},i.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new w(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw new Error("malformed oid string: "+e);var n="",i=e.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=t(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},i.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},i.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},i.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},i.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},i.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},i.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},i.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ye(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ye(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},i.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ye(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ye(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},i.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},i.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},i.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==typeof e.obj&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,ge,he=new function(){};function pe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function fe(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function de(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function ye(e){return de(pe(e))}function me(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ve(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Se(e){return e.length%2==1&&(e="0"+e),me(S(e))}function be(e){return b(ve(e))}function Ee(e){return De(Le(e))}function we(e){return decodeURIComponent(Oe(e))}function Ae(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function xe(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Re(e){return S(e)}function Fe(e){var t=Re(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function _e(e){return b(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Te(e,t){return"-----BEGIN "+t+"-----\r\n"+Fe(e)+"\r\n-----END "+t+"-----\r\n"}function Ce(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return _e(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){var t,r,n,i,s,o,a,u,c,l,g;if(g=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=g[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(g[2])-1,n=parseInt(g[3]),i=parseInt(g[4]),s=parseInt(g[5]),o=parseInt(g[6]),a=0,""!==(c=g[7])&&(l=(c.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(t,r,n,i,s,o,a);throw"unsupported zulu format: "+e}function Ie(e){return~~(Pe(e)/1e3)}function De(e){return e.replace(/%/g,"")}function Oe(e){return e.replace(/(..)/g,"%$1")}function Ne(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),i=(e=e.replace("::",n)).split(":");if(8!=i.length)throw t;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Be(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(e=e.replace(i,"::")).slice(1,-1)}function je(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Be(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Le(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+ye(t[n]);return r}function He(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Me(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}}he.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},he.getL=function(e,t){var r=he.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},he.getVblen=function(e,t){var r;return""==(r=he.getL(e,t))?-1:("8"===r.substr(0,1)?new w(r.substr(2),16):new w(r,16)).intValue()},he.getVidx=function(e,t){var r=he.getLblen(e,t);return r<0?r:t+2*(r+1)},he.getV=function(e,t){var r=he.getVidx(e,t),n=he.getVblen(e,t);return e.substr(r,2*n)},he.getTLV=function(e,t){return e.substr(t,2)+he.getL(e,t)+he.getV(e,t)},he.getTLVblen=function(e,t){return 2+2*he.getLblen(e,t)+2*he.getVblen(e,t)},he.getNextSiblingIdx=function(e,t){return he.getVidx(e,t)+2*he.getVblen(e,t)},he.getChildIdx=function(e,t){var r,n,i,s=he,o=[];r=s.getVidx(e,t),n=2*s.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),i=0;for(var a=r;i<=n;){var u=s.getTLVblen(e,a);if((i+=u)<=n&&o.push(a),a+=u,i>=n)break}return o},he.getNthChildIdx=function(e,t,r){return he.getChildIdx(e,t)[r]},he.getIdxbyList=function(e,t,r,n){var i,s,o=he;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(i=r.shift())>=(s=o.getChildIdx(e,t)).length?-1:o.getIdxbyList(e,s[i],r,n)},he.getIdxbyListEx=function(e,t,r,n){var i,s,o=he;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;i=r.shift(),s=o.getChildIdx(e,t);for(var a=0,u=0;u<s.length;u++){var c=e.substr(s[u],2);if("number"==typeof i&&!o.isContextTag(c)&&a==i||"string"==typeof i&&o.isContextTag(c,i))return o.getIdxbyListEx(e,s[u],r,n);o.isContextTag(c)||a++}return-1},he.getTLVbyList=function(e,t,r,n){var i=he,s=i.getIdxbyList(e,t,r,n);return-1==s||s>=e.length?null:i.getTLV(e,s)},he.getTLVbyListEx=function(e,t,r,n){var i=he,s=i.getIdxbyListEx(e,t,r,n);return-1==s?null:i.getTLV(e,s)},he.getVbyList=function(e,t,r,n,i){var s,o,a=he;return-1==(s=a.getIdxbyList(e,t,r,n))||s>=e.length?null:(o=a.getV(e,s),!0===i&&(o=o.substr(2)),o)},he.getVbyListEx=function(e,t,r,n,i){var s,o,a=he;return-1==(s=a.getIdxbyListEx(e,t,r,n))?null:(o=a.getV(e,s),"03"==e.substr(s,2)&&!1!==i&&(o=o.substr(2)),o)},he.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var s=e.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(2*a,2),16));var u=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=t((127&o[a]).toString(2),7):(c+=t((127&o[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=r.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},he.dump=function(e,t,r,n){var i=he,s=i.getV,o=i.dump,a=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,g=t.ommit_long_octet;if("01"==(l=u.substr(r,2)))return"00"==(h=s(u,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+c(h=s(u,r),g)+"\n";if("03"==l){var h=s(u,r);return i.isASN1HEX(h.substr(2))?(E=n+"BITSTRING, encapsulates\n")+o(h.substr(2),t,0,n+"  "):n+"BITSTRING "+c(h,g)+"\n"}if("04"==l)return h=s(u,r),i.isASN1HEX(h)?(E=n+"OCTETSTRING, encapsulates\n")+o(h,t,0,n+"  "):n+"OCTETSTRING "+c(h,g)+"\n";if("05"==l)return n+"NULL\n";if("06"==l){var p=s(u,r),f=ce.asn1.ASN1Util.oidHexToInt(p),d=ce.asn1.x509.OID.oid2name(f),y=f.replace(/\./g," ");return""!=d?n+"ObjectIdentifier "+d+" ("+y+")\n":n+"ObjectIdentifier ("+y+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(s(u,r))+"\n";if("0c"==l)return n+"UTF8String '"+we(s(u,r))+"'\n";if("13"==l)return n+"PrintableString '"+we(s(u,r))+"'\n";if("14"==l)return n+"TeletexString '"+we(s(u,r))+"'\n";if("16"==l)return n+"IA5String '"+we(s(u,r))+"'\n";if("17"==l)return n+"UTCTime "+we(s(u,r))+"\n";if("18"==l)return n+"GeneralizedTime "+we(s(u,r))+"\n";if("1a"==l)return n+"VisualString '"+we(s(u,r))+"'\n";if("1e"==l)return n+"BMPString '"+we(s(u,r))+"'\n";if("30"==l){if("3000"==u.substr(r,4))return n+"SEQUENCE {}\n";E=n+"SEQUENCE\n";var m=t;if((2==(b=a(u,r)).length||3==b.length)&&"06"==u.substr(b[0],2)&&"04"==u.substr(b[b.length-1],2)){d=i.oidname(s(u,b[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=d,m=v}for(var S=0;S<b.length;S++)E+=o(u,m,b[S],n+"  ");return E}if("31"==l){E=n+"SET\n";var b=a(u,r);for(S=0;S<b.length;S++)E+=o(u,t,b[S],n+"  ");return E}if(0!=(128&(l=parseInt(l,16)))){var E,w=31&l;if(0!=(32&l)){for(E=n+"["+w+"]\n",b=a(u,r),S=0;S<b.length;S++)E+=o(u,t,b[S],n+"  ");return E}return h=s(u,r),he.isASN1HEX(h)?(E=n+"["+w+"]\n")+o(h,t,0,n+"  "):(("68747470"==h.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==w)&&(h=we(h)),n+"["+w+"] "+h+"\n")}return n+"UNKNOWN("+l+") "+s(u,r)+"\n"},he.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},he.isASN1HEX=function(e){var t=he;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0);return e.length-n.length-i.length==2*r},he.checkStrictDER=function(e,t,r,n,i){var s=he;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");r=e.length,i=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(s.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var o=s.getVblen(e,t);if(o>n)throw new Error("value of L too long than hex: idx="+t);var a=s.getTLV(e,t),u=a.length-2-s.getL(e,t).length;if(u!==2*o)throw new Error("V string length and L's value not the same:"+u+"/"+2*o);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var c=e.substr(t,2);if("02"===c){var l=s.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var g=s.getVblen(e,t),h=0,p=s.getChildIdx(e,t),f=0;f<p.length;f++)h+=s.getTLV(e,p[f]).length,s.checkStrictDER(e,p[f],r,n,i);if(2*g!=h)throw new Error("sum of children's TLV length and L unmatch: "+2*g+"!="+h)}},he.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,r=t.DERBitString,n=t.DERSequence,i=t.x509,s=i.TBSCertificate,o=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsobj.getEncodedHex(),r=new ce.crypto.Signature({alg:e.sigalg});r.init(e.cakey),r.updateHex(t),e.sighex=r.sign()},this.getPEM=function(){return Te(this.getEncodedHex(),"CERTIFICATE")},this.getEncodedHex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new s(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).getEncodedHex()},null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,r=t.x509,n=t.DERTaggedObject,i=t.DERInteger,s=t.DERSequence,o=r.AlgorithmIdentifier,a=r.Time,u=r.X500Name,c=r.Extensions,l=r.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var r=2;null!=t.version&&(r=t.version-1);var g=new n({obj:new i({int:r})});e.push(g)}return e.push(new i(t.serial)),e.push(new o({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new s({array:[new a({str:t.notbefore}),new a({str:t.notafter})]})),e.push(new u(t.subject)),e.push(new l(Ue.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new n({tag:"a3",obj:new c(t.ext)})),new ce.asn1.DERSequence({array:e}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extensions=function(e){ce.asn1.x509.Extensions.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.getEncodedHex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],s=i.extname,o=null;if(null!=i.extn)o=new n.PrivateExtension(i);else if("subjectKeyIdentifier"==s)o=new n.SubjectKeyIdentifier(i);else if("keyUsage"==s)o=new n.KeyUsage(i);else if("subjectAltName"==s)o=new n.SubjectAltName(i);else if("issuerAltName"==s)o=new n.IssuerAltName(i);else if("basicConstraints"==s)o=new n.BasicConstraints(i);else if("cRLDistributionPoints"==s)o=new n.CRLDistributionPoints(i);else if("certificatePolicies"==s)o=new n.CertificatePolicies(i);else if("authorityKeyIdentifier"==s)o=new n.AuthorityKeyIdentifier(i);else if("extKeyUsage"==s)o=new n.ExtKeyUsage(i);else if("authorityInfoAccess"==s)o=new n.AuthorityInfoAccess(i);else if("cRLNumber"==s)o=new n.CRLNumber(i);else if("cRLReason"==s)o=new n.CRLReason(i);else if("ocspNonce"==s)o=new n.OCSPNonce(i);else if("ocspNoCheck"==s)o=new n.OCSPNoCheck(i);else{if("adobeTimeStamp"!=s)throw new Error("extension not supported:"+JSON.stringify(i));o=new n.AdobeTimeStamp(i)}null!=o&&e.push(o)}return new r({array:e}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.Extensions,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,r=t.DERObjectIdentifier,n=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),s=t.DERSequence;this.getEncodedHex=function(){var e=new r({oid:this.oid}),t=new n({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new i),o.push(t),new s({array:o}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},i.lang.extend(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=We.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ce.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var r=e.names,n="000000000",i=0;i<r.length;i++)for(var s=0;s<t.length;s++)r[i]===t[s]&&(n=n.substring(0,s)+"1"+n.substring(s+1,n.length));this.asn1ExtnValue=new ce.asn1.DERBitString({bin:n})}},i.lang.extend(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERBoolean,n=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new r),this.pathLen>-1&&e.push(new n({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},i.lang.extend(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,r=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){for(var n=[],i=0;i<e.length;i++)if(e[i]instanceof ce.asn1.ASN1Object)n.push(e[i]);else{var s=new r.DistributionPoint(e[i]);n.push(s)}this.asn1ExtnValue=new t.DERSequence({array:n})},this.setByOneURI=function(e){var t=new r.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},i.lang.extend(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1,r=t.x509.DistributionPointName;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var r=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(r)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new r(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new r({full:[{uri:e.fulluri}]})))},i.lang.extend(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,r=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},i.lang.extend(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,r=t.x509,n=t.DERSequence,i=r.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var r=new n({array:e});return this.asn1ExtnValue=r,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new n(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],s=0;s<this.params.array.length;s++)t.push(new i(this.params.array[s]));t.length>0&&e.push(new r({array:t}))}return new r({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERSequence,n=t.DERIA5String,i=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,r=(ce.asn1.DERInteger,ce.asn1.x509.DisplayText),n=ce.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new r(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,r=ce.asn1.DERInteger,n=ce.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var i=[],s=this.params.noticenum,o=0;o<s.length;o++)i.push(new r(s[o]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},i.lang.extend(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var r=0;r<e.length;r++){var n=new t.DERObjectIdentifier(e[r]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},i.lang.extend(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce,r=t.asn1,n=r.DERTaggedObject,i=r.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new r.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Ue.getKey(e));var r=Ue.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:r})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new We;t.readCertPEM(e);var r=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:r})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},i.lang.extend(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var r=e;"string"==typeof e&&(r=Ue.getKey(e));var n=Ue.getKeyID(r);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},i.lang.extend(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,r=ce.asn1,n=r.DERSequence,i=r.DERObjectIdentifier,s=r.x509.GeneralName,o=0;o<e.length;o++){var a,u=e[o];if(void 0!==u.ocsp)a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new s({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new s({uri:u.caissuer})]})}t.push(a)}this.asn1ExtnValue=new n({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},i.lang.extend(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},i.lang.extend(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},i.lang.extend(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.PrivateExtension=function(e){ce.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=ce,r=t.lang.String.isHex,n=t.asn1,i=n.x509.OID.name2oid,s=n.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&r(e))return e;if("object"==typeof e)try{return s(e).getEncodedHex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.PrivateExtension,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.DERBitString,i=t.x509,s=i.AlgorithmIdentifier,o=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).getEncodedHex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var r=t.sign();this.params.sighex=r},this.getPEM=function(){return Te(this.getEncodedHex(),"X509 CRL")},this.getEncodedHex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new s({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).getEncodedHex()},null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,r=t.DERInteger,n=t.DERSequence,i=t.DERTaggedObject,s=(t.DERObjectIdentifier,t.x509),o=s.AlgorithmIdentifier,a=s.Time,u=s.Extensions,c=s.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var s=[new r(t[i].sn),new a(t[i].date)];null!=t[i].ext&&s.push(new u(t[i].ext)),e.push(new n({array:s}))}return new n({array:e})},this.getEncodedHex=function(){var e=[],t=this.params;if(null!=t.version){var s=t.version-1,l=new r({int:s});e.push(l)}if(e.push(new o({name:t.sigalg})),e.push(new c(t.issuer)),e.push(new a(t.thisupdate)),null!=t.nextupdate&&e.push(new a(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var g=new u(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:g}))}return new n({array:e}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},i.lang.extend(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.CRLNumber=function(e){ce.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERInteger(this.params.num),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRLNumber,ce.asn1.x509.Extension),ce.asn1.x509.CRLReason=function(e){ce.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRLReason,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNonce=function(e){ce.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEROctetString(this.params),this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.OCSPNonce,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNoCheck=function(e){ce.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERNull,this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.OCSPNoCheck,ce.asn1.x509.Extension),ce.asn1.x509.AdobeTimeStamp=function(e){ce.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERInteger,n=t.DERBoolean,i=t.DERSequence,s=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new r(1)];return t.push(new s({uri:e.uri})),null!=e.reqauth&&t.push(new n(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.getEncodedHex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.AdobeTimeStamp,ce.asn1.x509.Extension),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1,r=t.x509,n=r.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var r=e.split("/");r.shift();for(var i=[],s=0;s<r.length;s++)if(r[s].match(/^[^=]+=.+$/))i.push(r[s]);else{var o=i.length-1;i[o]=i[o]+"/"+r[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new n({str:i[s],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var n=r.X500Name.ldapToCompat(e);this.setByString(n,t)},this.setByObject=function(e,t){for(var r in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(r)){var i=new n({str:r+"="+e[r],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new We).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new We).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var r={array:this.paramArray[e]};"utf8"!=this.sRule&&(r.rule=this.sRule);var i=new n(r);this.asn1Array.push(i)}var s=new t.DERSequence({array:this.asn1Array});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(!0===r){var o=(n.pop()+","+s).replace(/\\,/g,",");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}return(n=n.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+n.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),r=0;r<t.length;r++)this.addByString(t[r])},this.getEncodedHex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var r=this.paramArray[e];void 0!==r.rule&&"utf8"!=this.sRule&&(r.rule=this.sRule);var n=new t(r);this.asn1Array.push(n)}var i=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=i.getEncodedHex(),this.TLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(!0===r){var o=(n.pop()+"+"+s).replace(/\\\+/g,"+");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}var a=!1,u=[];for(i=0;n.length>0;i++){if(s=n.shift(),!0===a){var c=u.pop();s.match(/"$/)?(o=(c+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),u.push(o),a=!1):u.push(c+"+"+s)}else u.push(s);s.match(/^[^=]+="/)&&(a=!0)}return u},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=ce,r=t.asn1,n=r.DERSequence,i=r.DERUTF8String,s=r.DERPrintableString,o=r.DERTeletexString,a=r.DERIA5String,u=r.DERVisibleString,c=r.DERBMPString,l=t.lang.String.isMail,g=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var r=e.match(/^([^=]+)=(.+)$/);if(!r)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(r[1],r[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,r=this.sRule;return"prn"===r?"CN"==e&&l(t)?"ia5":g(t)?"prn":"utf8":"utf8"===r?"CN"==e&&l(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,r){void 0!==r&&(this.sRule=r),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new s({str:t});if("tel"==e)return new o({str:t});if("ia5"==e)return new a({str:t});if("vis"==e)return new u({str:t});if("bmp"==e)return new c({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.getEncodedHex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=ce.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),r=new n({array:[e,t]});return this.TLV=r.getEncodedHex(),this.TLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce,r=t.asn1,n=r.DERInteger,i=r.DERBitString,s=r.DERObjectIdentifier,o=r.DERSequence,a=r.ASN1Util.newObject,u=r.x509.AlgorithmIdentifier,c=t.crypto;c.ECDSA,c.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ne){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof ce.crypto.ECDSA){var r=new s({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof ce.crypto.DSA){r=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new u({name:"dsa",asn1params:r});var o=new n({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+o.getEncodedHex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},i.lang.extend(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,r=t.DERUTCTime,n=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new n(this.timeParams):"utc"==this.type?new r:new n,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},i.lang.extend(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,r=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var n in r)n===this.nameAlg&&(e=r[n]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var s=new t.DERSequence({array:i});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},i.lang.extend(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},r=ce.asn1,n=(r.DERSequence,r.DEROctetString),i=r.DERIA5String,s=r.DERTaggedObject,o=r.ASN1Object,a=r.x509.X500Name,u=Ce;this.explicit=!1,this.setByParam=function(e){var r=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",r=new i({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",r=new i({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",r=new i({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,r="string"==typeof e.dn?new a({str:e.dn}):e.dn instanceof ce.asn1.x509.X500Name?e.dn:new a(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,r=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var c=null;if((g=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=g.indexOf("-----BEGIN ")&&(c=u(g)),null==c)throw"certissuer param not cert";(h=new We).hex=c;var l=h.getIssuerHex();(r=new o).hTLV=l}if(void 0!==e.certsubj){var g,h;if(this.type="dn",this.explicit=!0,c=null,(g=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=g.indexOf("-----BEGIN ")&&(c=u(g)),null==c)throw"certsubj param not cert";(h=new We).hex=c,l=h.getSubjectHex(),(r=new o).hTLV=l}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var p,f=e.ip,d="malformed IP address";if(f.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(p=Me("["+f.split(".").join(",")+"]")).length)throw d}else if(f.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))p=Ne(f);else{if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw d;p=f}r=new n({hex:p})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new s({explicit:this.explicit,tag:t[this.type],obj:r})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var r=0;r<e.length;r++){var n=new t.x509.GeneralName(e[r]);this.asn1Array.push(n)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},i.lang.extend(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=this.name2oidList[e],r=new ce.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=r,r},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=this.atype2oidList[e],r=new ce.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=r,r}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var r in t)if(t[r]==e)return r;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var r in t)if(t[r]==e)return r;return e},ce.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERSet,s=r.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.getEncodedHex=function(){var e=new s({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new n({array:[e,t]}).getEncodedHex()}},i.lang.extend(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t=ce.asn1,r=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new r(this.params)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=n.cms,o=s.ESSCertID;r.crypto,s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!he.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertID=function(e){ce.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,r=ce,n=r.asn1,i=n.DEROctetString,s=n.DERSequence,o=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,n){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!he.isASN1HEX(e))return e;var i,s,o;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(s=-1!=i.indexOf("-----BEGIN")?Ce(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?s=Ce(e):he.isASN1HEX(e)&&(s=e)),null!=e.alg)o=e.alg;else{if(null==n)throw new t("hash alg unspecified");o=n}return r.crypto.Util.hashHex(s,o)},this.getEncodedHex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),r=[];return r.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&r.push(new o(e)),new s({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ESSCertID,ce.asn1.ASN1Object),ce.asn1.cms.SigningCertificateV2=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=(n.x509,n.cms),o=s.ESSCertIDv2;r.crypto,s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];null==e.alg&&0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!he.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=e.alg&&(a.alg=e.alg),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertIDv2=function(e){ce.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=ce.asn1,r=t.DEROctetString,n=t.DERSequence,i=t.cms.IssuerSerial,s=t.x509.AlgorithmIdentifier;this.params=null,this.getEncodedHex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),o=[];return null!=e.alg&&"sha256"!=e.alg&&o.push(new s({name:e.alg})),o.push(new r({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&o.push(new i(e)),new n({array:o}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ESSCertIDv2,ce.asn1.cms.ESSCertID),ce.asn1.cms.IssuerSerial=function(e){var t=Error,r=ce.asn1,n=r.DERInteger,i=r.DERSequence,s=r.cms,o=r.x509.GeneralNames,a=We;s.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e,r,s=this.params;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN")||null!=s.cert){var u;u=null!=s.cert?s.cert:s;var c=new a;c.readCertPEM(u),e=c.getIssuer(),r={hex:c.getSerialNumberHex()}}else{if(null==s.issuer||!s.serial)throw new t("cert or issuer and serial parameter not specified");e=s.issuer,r=s.serial}var l=new o([{dn:e}]),g=new n(r);return new i({array:[l,g]}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.SignerIdentifier=function(e){var t=ce.asn1,r=(t.DERInteger,t.DERSequence,t.cms),n=r.IssuerAndSerialNumber,i=r.SubjectKeyIdentifier;t.x509.X500Name,Error,r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if("isssn"==e.type)return new n(e).getEncodedHex();if("skid"==e.type)return new i(e).getEncodedHex();throw new Error("wrong property for isssn or skid")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignerIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,r=t.DERInteger,n=t.DERSequence,i=t.cms,s=t.x509.X500Name,o=We,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var u;u=null!=i.cert?i.cert:i;var c=new o;c.readCertPEM(u),e=c.getIssuer(),t={hex:c.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var l=new s(e),g=new r(t);return new n({array:[l,g]}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.SubjectKeyIdentifier=function(e){var t=ce.asn1,r=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),n=t.cms,i=(n.IssuerAndSerialName,n.SubjectKeyIdentifier,t.x509.X500Name,We),s=Error;n.SubjectKeyIdentifier.superclass.constructor.call(this),this.getEncodedHex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new s("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),r({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SubjectKeyIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=Error,r=ce.asn1,n=r.DERSet,i=r.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var r=!0;null!=e.sortflag&&(r=e.sortflag);for(var s=e.array,o=[],a=0;a<s.length;a++){var u=s[a],c=u.attr;if("contentType"==c)o.push(new i.ContentType(u));else if("messageDigest"==c)o.push(new i.MessageDigest(u));else if("signingTime"==c)o.push(new i.SigningTime(u));else if("signingCertificate"==c)o.push(new i.SigningCertificate(u));else if("signingCertificateV2"==c)o.push(new i.SigningCertificateV2(u));else{if("signaturePolicyIdentifier"!=c)throw new t("unknown attr: "+c);o.push(new ce.asn1.cades.SignaturePolicyIdentifier(u))}}var l=new n({array:o,sortflag:r});return this.hTLV=l.getEncodedHex(),this.hTLV},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=ce,r=t.asn1,n=r.DERInteger,i=r.DEROctetString,s=r.DERSequence,o=r.DERTaggedObject,a=r.cms,u=a.SignerIdentifier,c=a.AttributeList,l=(a.ContentType,a.EncapsulatedContentInfo,a.MessageDigest,a.SignedData,r.x509.AlgorithmIdentifier),g=t.crypto,h=Ue;a.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,r=new c(e.sattrs).getEncodedHex(),n=h.getKey(e.signkey),i=new g.Signature({alg:t});i.init(n),i.updateHex(r);var s=i.sign();e.sighex=s},this.getEncodedHex=function(){var e=this.params,t=[];if(t.push(new n({int:e.version})),t.push(new u(e.id)),t.push(new l({name:e.hashalg})),null!=e.sattrs){var r=new c(e.sattrs);try{t.push(new o({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new Error("si sattr error: "+e)}}return null!=e.sigalgfield?t.push(new l({name:e.sigalgfield})):t.push(new l({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),t.push(new i({hex:e.sighex})),new s({array:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,r=t.DERTaggedObject,n=t.DERSequence,i=t.DERObjectIdentifier,s=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var o=new s(e.content),a=new r({tag:"a0",explicit:!0,obj:o});t.push(a)}return new n({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,r=t.DERTaggedObject,n=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];t.push(new i(e.type));var s=new r({tag:"a0",explicit:!0,obj:e.obj});return t.push(s),new n({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){var t=ce.asn1,r=(t.ASN1Object,t.DERInteger),n=t.DERSet,i=t.DERSequence,s=(t.DERTaggedObject,t.cms),o=s.EncapsulatedContentInfo,a=s.SignerInfo,u=s.ContentInfo,c=s.CertificateSet,l=s.RevocationInfoChoices,g=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},r=e.sinfos,n=0;n<r.length;n++)t[r[n].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,r=e.sinfos,n=0;n<r.length;n++){var i=r[n];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,r=(e.econtent.type,t.content.hex);null==r&&"data"==t.type&&null!=t.content.str&&(r=xe(t.content.str));for(var n=e.sinfos,i=0;i<n.length;i++){var s=n[i],o=s.hashalg,a=this._getAttrParamByName(s,"messageDigest"),u=ce.crypto.Util.hashHex(r,o);a.hex=u}},this._getAttrParamByName=function(e,t){for(var r=e.sattrs.array,n=0;n<r.length;n++)if(r[n].attr==t)return r[n]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,r=0;r<t.length;r++){var n=t[r],i=1;"skid"==n.id.type&&(i=3),n.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,r=0;r<t.length;r++)if(null!=t[r].ocsp)return 5;var n=e.sinfos;for(r=0;r<n.length;r++)if(3==e.sinfos[r].version)return 3;return"data"!=e.econtent.type?3:1},this.getEncodedHex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new r({int:e.version}));for(var s=[],u=0;u<e.hashalgs.length;u++){var h=e.hashalgs[u];s.push(new g({name:h}))}t.push(new n({array:s})),t.push(new o(e.econtent)),null!=e.certs&&t.push(new c(e.certs)),null!=e.revinfos&&t.push(new l(e.revinfos));var p=[];for(u=0;u<e.sinfos.length;u++){var f=e.sinfos[u];p.push(new a(f))}return t.push(new n({array:p})),new i({array:t}).getEncodedHex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CertificateSet=function(e){ce.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.DERTaggedObject,i=r.DERSet,s=r.ASN1Object;this.params=null,this.getEncodedHex=function(){var e,r=this.params,o=[];if(r instanceof Array)e=r;else{if(null==r.array)throw new t("cert array not specified");e=r.array}for(var a=0;a<e.length;a++){var u=Ce(e[a]),c=new s;c.hTLV=u,o.push(c)}var l={array:o};0==r.sortflag&&(l.sortflag=!1);var g=new i(l);return new n({tag:"a0",explicit:!1,obj:g}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.CertificateSet,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoices=function(e){ce.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],r=0;r<e.length;r++)t.push(new ce.asn1.cms.RevocationInfoChoice(e[r]));return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.RevocationInfoChoices,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoice=function(e){ce.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=Ce(e.crl)),t}if(null!=e.ocsp)return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ce.asn1.cms.OtherRevocationFormat(e)}}).getEncodedHex();throw new Error("property crl or ocsp undefined")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.RevocationInfoChoice,ce.asn1.ASN1Object),ce.asn1.cms.OtherRevocationFormat=function(e){ce.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,r=ce,n=r.asn1.ASN1Util.newObject,i=r.lang.String.isHex;this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!he.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return n({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.OtherRevocationFormat,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){return new ce.asn1.cms.SignedData(e)},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=ce,r=t.asn1,n=r.cms,i=(n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2,r.cades.SignaturePolicyIdentifier,t.lang.String.isHex),s=he,o=s.getVbyList,a=s.getTLVbyList,u=s.getIdxbyList,c=s.getChildIdx,l=s.getTLV,g=s.oidname,h=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var p=e.cms,f=function(e,t){var r=t.idx;t.signerid_issuer1=a(e,r,[1,0],"30"),t.signerid_serial1=o(e,r,[1,1],"02"),t.hashalg=g(o(e,r,[2,0],"06"));var n=u(e,r,[3],"a0");t.idxSignedAttrs=n,d(e,t,n);var i=c(e,r).length;if(i<6)throw"malformed SignerInfo";t.sigalg=g(o(e,r,[i-2,0],"06")),t.sigval=o(e,r,[i-1],"04")},d=function(e,t,r){var n=c(e,r);t.signedAttrIdxList=n;for(var i=0;i<n.length;i++){var s,a=n[i],u=o(e,a,[0],"06");"2a864886f70d010905"===u?(s=we(o(e,a,[1,0])),t.saSigningTime=s):"2a864886f70d010904"===u&&(s=o(e,a,[1,0],"04"),t.saMessageDigest=s)}},y=function(e,t,r,n){r.verifyDetail={};var i=r.verifyDetail,s=t.parse.econtent,o=r.hashalg,a=r.saMessageDigest;i.validMessageDigest=!1,h(s,o)===a&&(i.validMessageDigest=!0),function(e,t,r,n){var i,s=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var o=c(e,s),a=0;a<o.length;a++){var u=l(e,o[a]),g=new We;g.readCertHex(u),i[a]=g,t.certkeys[a]=g.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=o.length,a=0;a<i.length;a++){var h=g.getIssuerHex(),p=g.getSerialNumberHex();r.signerid_issuer1===h&&r.signerid_serial1===p&&(r.certkey_idx=a)}}(e,t,r),i.validSignatureValue=!1;var u=r.sigalg,g="31"+l(e,r.idxSignedAttrs).substr(2);r.signedattrshex=g;var p=t.certs[r.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:u});f.init(p),f.updateHex(g);var d=f.verify(r.sigval);i.validSignatureValue_isValid=d,!0===d&&(i.validSignatureValue=!0),r.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(r.isValid=!0)},m={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==o(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=o(e,0,[1,0,2,1,0]),function(e,t){for(var r,n=3;n<6;n++)if(void 0!==(r=u(e,0,[1,0,n]))){var i=e.substr(r,2);"a0"===i&&(t.certsIdx=r),"a1"===i&&(t.revinfosIdx=r),"31"===i&&(t.signerinfosIdx=r)}}(e,t),t.signerInfos=[],function(e,t){var r=t.signerinfosIdx;if(void 0!==r){var n=c(e,r);t.signerInfoIdxList=n;for(var i=0;i<n.length;i++){var s={idx:n[i]};f(e,s),t.signerInfos.push(s)}}}(e,t)}(p,m.parse),function(e,t){for(var r=t.parse.signerInfos,n=r.length,i=!0,s=0;s<n;s++){var o=r[s];y(e,t,o),o.isValid||(i=!1)}t.isValid=i}(p,m),m},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.TimeStampToken=function(e){var t=ce.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampToken,ce.asn1.cms.SignedData),ce.asn1.tsp.TSTInfo=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DERInteger,i=t.DERBoolean,s=t.DERGeneralizedTime,o=t.DERObjectIdentifier,a=t.DERTaggedObject,u=t.tsp,c=u.MessageImprint,l=u.Accuracy,g=(t.x509.X500Name,t.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new c(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new n(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new s(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new l(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new n(e.nonce)),void 0!==e.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new g({dn:e.tsa})}))}},i.lang.extend(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,r=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),r({seq:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=new i({name:e.alg}),s=new n({hex:e.hash});return new r({array:[t,s]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DERInteger,i=t.DERBoolean,s=(t.ASN1Object,t.DERObjectIdentifier),o=t.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return t.push(new n({int:1})),e.messageImprint instanceof ce.asn1.ASN1Object?t.push(e.messageImprint):t.push(new a(e.messageImprint)),null!=e.policy&&t.push(new s(e.policy)),null!=e.nonce&&t.push(new n(e.nonce)),1==e.certreq&&t.push(new i),new r({array:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,r=t.DERSequence,n=(t.ASN1Object,t.tsp),i=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,s=[new i(e.statusinfo)];return null!=e.econtent&&s.push(new n.TimeStampToken(e).getContentInfo()),null!=e.tst&&e.tst instanceof t.ASN1Object&&s.push(e.tst),new r({array:s}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.tsp,s=i.PKIStatus,o=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,r=[];if("string"==typeof e)r.push(new s(e));else{if(null==e.status)throw new t("property 'status' unspecified");r.push(new s(e.status)),null!=e.statusstr&&r.push(new o(e.statusstr)),null!=e.failinfo&&r.push(new a(e.failinfo))}return new n({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=Error,r=ce.asn1,n=r.DERInteger;r.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.getEncodedHex=function(){var e,r=this.params;if("string"==typeof r)try{e=i[r]}catch(e){throw new t("undefined name: "+r)}else{if("number"!=typeof r)throw new t("unsupported params");e=r}return new n({int:e}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFreeText=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERUTF8String;r.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var r=[],s=0;s<e.length;s++)r.push(new i({str:e[s]}));return new n({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=Error,r=ce.asn1,n=r.DERBitString,i=r.tsp.PKIFailureInfo,s={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e,r=this.params;if("string"==typeof r)try{e=s[r]}catch(e){throw new t("undefined name: "+r)}else{if("number"!=typeof r)throw new t("wrong params");e=r}return new n({bin:e.toString(2)}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce,r=t.asn1.tsp,n=t.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=n(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serialNumber={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:s},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce,r=t.asn1.tsp,n=t.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=n(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new ce.asn1.tsp.TimeStampToken(e)},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=he,r=t.getChildIdx,n=t.getV,i=t.getTLV,s={certreq:!1},o=r(e,0);if(o.length<2)throw"TimeStampReq must have at least 2 items";var a=i(e,o[1]);s.messageImprint=ce.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var u=2;u<o.length;u++){var c=o[u],l=e.substr(c,2);if("06"==l){var g=n(e,c);s.policy=t.hextooidstr(g)}"02"==l&&(s.nonce=n(e,c)),"01"==l&&(s.certreq=!0)}return s},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=he,r=t.getChildIdx,n=t.getV,i=t.getIdxbyList,s={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";r(e,0);var o=n(e,i(e,0,[0,0])),a=t.hextooidstr(o),u=ce.asn1.x509.OID.oid2name(a);if(""==u)throw"hashAlg name undefined: "+a;var c=u,l=i(e,0,[1]);return s.alg=c,s.hash=n(e,l),s},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1.cades,r=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.SignaturePolicyId=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),s=i.SignaturePolicyId,o=i.OtherHashAlgAndValue;s.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return t.push(new n(e.oid)),t.push(new o(e)),new r({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignaturePolicyId,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509.AlgorithmIdentifier;r.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var r=null;if(null!=e.hash)r=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var o=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(o=Ce(e.cert)),r=ce.crypto.Util.hashHex(o,e.alg)}var a=[];return a.push(new s({name:e.alg})),a.push(new i({hex:r})),new n({array:a}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashValue=function(e){ce.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,r=ce,n=(r.lang.String.isHex,r.asn1.DEROctetString);r.crypto.Util.hashHex,this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var r=null;if(null!=e.hash)r=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=Ce(e.cert)),r=ce.crypto.Util.hashHex(i,"sha1")}return new n({hex:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHashValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=Error,r=ce,n=r.lang.String.isHex,i=r.asn1,s=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(n(e.tst))return(r=new s).hTLV=e.tst,[r];if(e.tst instanceof s)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var r,i=e.res;if(i instanceof s&&(i=i.getEncodedHex()),"string"!=typeof i||!n(i))throw new t("params.res has wrong value");return he.getTLVbyList(i,0,[1]),(r=new s).hTLV=e.tst,[r]}},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=n.cades,o=s.OtherCertID,a=r.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,r=[],n=0;n<e.array.length;n++){var s=e.array[n];if("string"==typeof s)if(-1!=s.indexOf("-----BEGIN"))s={cert:s};else{if(!a(s))throw new t("unsupported value: "+s);s={hash:s}}null!=e.alg&&null==s.alg&&(s.alg=e.alg),null!=e.hasis&&null==s.hasis&&(s.hasis=e.hasis);var u=new o(s);r.push(u)}return[new i({array:r})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,r=t.DERSequence,n=t.cms.IssuerSerial,i=t.cades,s=i.OtherHashValue,o=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.getEncodedHex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new o(e):new s(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var a=new n(e);i.push(a)}return new r({array:i}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){Error;var t=ce,r=t.asn1,n=(r.cms,r.cades),i=n.OtherHashAlgAndValue,s=n.OtherHashValue,o=(t.crypto.Util.hashHex,t.lang.String.isHex);n.OtherHash.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:o(e)&&(e={hash:e})),(null!=e.alg?new i(e):new s(e)).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.addSigTS=function(e,t,r){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=he,r=t.getChildIdx,n=t.getTLV,i=t.getTLVbyList,s=(t.getTLVbyListEx,t.getIdxbyList),o=(t.getIdxbyListEx,ce.asn1),a=o.ASN1Object,u=o.cms.SignedData,c=o.cades.CAdESUtil,l={};if("06092a864886f70d010702"!=i(e,0,[0]))throw"hex is not CMS SignedData";var g=r(e,s(e,0,[1,0]));if(g.length<4)throw"num of SignedData elem shall be 4 at least";var h=g.shift();l.version=n(e,h);var p=g.shift();l.algs=n(e,p);var f=g.shift();l.encapcontent=n(e,f),l.certs=null,l.revs=null,l.si=[];var d=g.shift();"a0"==e.substr(d,2)&&(l.certs=n(e,d),d=g.shift()),"a1"==e.substr(d,2)&&(l.revs=n(e,d),d=g.shift());var y=d;if("31"!=e.substr(y,2))throw"Can't find signerInfos";for(var m=r(e,y),v=0;v<m.length;v++){var S=m[v],b=c.parseSignerInfoForAddingUnsigned(e,S,v);l.si[v]=b}var E=null;for(l.obj=new u,(E=new a).hTLV=l.version,l.obj.dCMSVersion=E,(E=new a).hTLV=l.algs,l.obj.dDigestAlgs=E,(E=new a).hTLV=l.encapcontent,l.obj.dEncapContentInfo=E,(E=new a).hTLV=l.certs,l.obj.dCerts=E,l.obj.signerInfoList=[],v=0;v<l.si.length;v++)l.obj.signerInfoList.push(l.si[v].obj);return l},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,r){var n=he,i=n.getChildIdx,s=n.getTLV,o=n.getV,a=ce.asn1,u=a.ASN1Object,c=a.cms,l=c.AttributeList,g=c.SignerInfo,h={},p=i(e,t);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var f=p.shift();h.version=s(e,f);var d=p.shift();h.si=s(e,d);var y=p.shift();h.digalg=s(e,y);var m=p.shift();h.sattrs=s(e,m);var v=p.shift();h.sigalg=s(e,v);var S=p.shift();h.sig=s(e,S),h.sigval=o(e,S);var b=null;return h.obj=new g,(b=new u).hTLV=h.version,h.obj.dCMSVersion=b,(b=new u).hTLV=h.si,h.obj.dSignerIdentifier=b,(b=new u).hTLV=h.digalg,h.obj.dDigestAlgorithm=b,(b=new u).hTLV=h.sattrs,h.obj.dSignedAttrs=b,(b=new u).hTLV=h.sigalg,h.obj.dSigAlg=b,(b=new u).hTLV=h.sig,h.obj.dSig=b,h.obj.dUnsignedAttrs=new l,h},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce.asn1,r=t.DERBitString,n=t.DERSequence,i=t.csr,s=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new s(this.params).getEncodedHex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var r=t.sign();this.params.sighex=r},this.getPEM=function(){return Te(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){var e=this.params,t=new ce.asn1.csr.CertificationRequestInfo(this.params),i=new ce.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var s=new r({hex:"00"+e.sighex});return new n({array:[t,i,s]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,r=(t.DERBitString,t.DERSequence),n=t.DERInteger,i=t.DERUTF8String,s=t.DERTaggedObject,o=t.ASN1Util.newObject,a=t.csr,u=t.x509,c=u.X500Name,l=u.Extensions,g=u.SubjectPublicKeyInfo;a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.getEncodedHex=function(){var e=this.params,t=[];if(t.push(new n({int:0})),t.push(new c(e.subject)),t.push(new g(Ue.getKey(e.sbjpubkey))),null!=e.extreq){var a=new l(e.extreq),u=o({tag:{tag:"a0",explict:!0,obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[a]}]}}});t.push(u)}else t.push(new s({tag:"a0",explicit:!1,obj:new i({str:""})}));return new r({array:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){return new ce.asn1.csr.CertificationRequest(e).getPEM()},ce.asn1.csr.CSRUtil.getParam=function(e){var t=he,r=t.getV;_getIdxbyList=t.getIdxbyList,_getTLVbyList=t.getTLVbyList,_getTLVbyListEx=t.getTLVbyListEx,_getVbyListEx=t.getVbyListEx;var n={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var i=Ce(e,"CERTIFICATE REQUEST");try{var s=_getTLVbyListEx(i,0,[0,1]),o=new We;n.subject={},n.subject.array=o.getX500Name(s),n.subject.str=We.hex2dn(s)}catch(e){}var a=_getTLVbyListEx(i,0,[0,2]),u=Ue.getKey(a,null,"pkcs8pub");n.sbjpubkey=Ue.getPEM(u,"PKCS8PUB");var c,l="2a864886f70d01090e"!=r(c=i,_getIdxbyList(c,0,[0,3,0,0],"06"))?null:_getTLVbyList(c,0,[0,3,0,1,0],"30");o=new We,null!=l&&(n.extreq=o.getExtParamArray(l));try{var g=_getTLVbyListEx(i,0,[1],"30");o=new We,n.sigalg=o.getAlgorithmIdentifierName(g)}catch(e){}try{var h=_getVbyListEx(i,0,[2]);n.sighex=h}catch(e){}return n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.OCSPResponse=function(e){ce.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),ce.asn1.DEREnumerated;var t=ce.asn1.ASN1Util.newObject,r=ce.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:n.indexOf(e)},this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params,n=this._getStatusCode();if(-1==n)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=n)return t({seq:[{enum:{int:n}}]}).getEncodedHex();var i=new r(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.OCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseBytes=function(e){ce.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.DEROctetString,s=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new s(e),o=[];return o.push(new n({name:"ocspBasic"})),o.push(new i({hex:t.getEncodedHex()})),new r({array:o}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponseBytes,ce.asn1.ASN1Object),ce.asn1.ocsp.BasicOCSPResponse=function(e){ce.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.ASN1Object,i=r.DERSequence,s=(r.DERGeneralizedTime,r.DERTaggedObject),o=r.DERBitString,a=(r.x509.Extensions,r.x509.AlgorithmIdentifier),u=r.ocsp;u.ResponderID,_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.getEncodedHex(),r=new ce.crypto.Signature({alg:e.sigalg});r.init(e.reskey),r.updateHex(t),e.sighex=r.sign()},this.getEncodedHex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var r=[];if(r.push(e.tbsresp),r.push(new a({name:e.sigalg})),r.push(new o({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var u=[],c=0;c<e.certs.length;c++){var l=e.certs[c],g=null;if(he.isASN1HEX(l))g=l;else{if(!l.match(/-----BEGIN/))throw new t("certs["+c+"] not hex or PEM");g=Ce(l)}u.push(new n({tlv:g}))}var h=new i({array:u});r.push(new s({tag:"a0",explicit:!0,obj:h}))}return new i({array:r}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.BasicOCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseData=function(e){ce.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.x509.Extensions,a=r.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.getEncodedHex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var r=[];if(r.push(new u(e.respid)),r.push(new i(e.prodat)),r.push(new _SingleResponseList(e.array)),null!=e.ext){var a=new o(e.ext);r.push(new s({tag:"a1",explicit:!0,obj:a}))}return new n({array:r}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponseData,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponderID=function(e){ce.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=ce.asn1,r=t.ASN1Util.newObject,n=t.x509.X500Name;this.params=null,this.getEncodedHex=function(){var e=this.params;if(null!=e.key)return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:e.key}}}}).getEncodedHex();if(null!=e.name)return r({tag:{tag:"a1",explicit:!0,obj:new n(e.name)}}).getEncodedHex();throw new Error("key or name not specified")},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponderID,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponseList=function(e){ce.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.ocsp.SingleResponse;this.params=null,this.getEncodedHex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new n(e[i]));return new r({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.SingleResponseList,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponse=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.ocsp,a=o.CertID,u=o.CertStatus,c=r.x509.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,r=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(r.push(new a(e.certid)),r.push(new u(e.status)),r.push(new i(e.thisupdate)),null!=e.nextupdate){var o=new i(e.nextupdate);r.push(new s({tag:"a0",explicit:!0,obj:o}))}if(null!=e.ext){var l=new c(e.ext);r.push(new s({tag:"a1",explicit:!0,obj:l}))}return new n({array:r}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.SingleResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.CertID=function(e){var t=ce,r=t.asn1,n=r.DEROctetString,i=r.DERInteger,s=r.DERSequence,o=r.x509.AlgorithmIdentifier,a=r.ocsp,u=a.DEFAULT_HASH,c=t.crypto.Util.hashHex,l=We,g=he;if(a.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,r,s){void 0===s&&(s=u),this.dHashAlg=new o({name:s}),this.dIssuerNameHash=new n({hex:e}),this.dIssuerKeyHash=new n({hex:t}),this.dSerialNumber=new i({hex:r})},this.setByCert=function(e,t,r){void 0===r&&(r=u);var n=new l;n.readCertPEM(t);var i=new l;i.readCertPEM(e);var s=i.getPublicKeyHex(),o=g.getTLVbyList(s,0,[1,0],"30"),a=n.getSerialNumberHex(),h=c(i.getSubjectHex(),r),p=c(o,r);this.setByValue(h,p,a,r),this.hoge=n.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],t=new s({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var p=u;void 0===h.alg&&(p=void 0),this.setByCert(h.issuerCert,h.subjectCert,p)}else{if(void 0===h.issname||void 0===h.isskey||void 0===h.sbjsn)throw new Error("invalid constructor arguments");p=u,void 0===h.alg&&(p=void 0),this.setByValue(h.issname,h.isskey,h.sbjsn,p)}}},i.lang.extend(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.CertStatus=function(e){ce.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var r={tag:"a1",explicit:!1,obj:{seq:t}};return ce.asn1.ASN1Util.newObject({tag:r}).getEncodedHex()}throw new Error("bad status")},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.CertStatus,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var i=new n.CertID(e);this.dReqCert=i}},i.lang.extend(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],r=0;r<e.length;r++){var i=new n.Request(e[0]);t.push(i)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new r({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},i.lang.extend(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var i=new n.TBSRequest(e);this.dTbsRequest=i}},i.lang.extend(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,r){var n=ce.asn1.ocsp;void 0===r&&(r=n.DEFAULT_HASH);var i={alg:r,issuerCert:e,subjectCert:t};return new n.OCSPRequest({reqList:[i]}).getEncodedHex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=he,r=t.getVbyList,n=t.getVbyListEx,i=t.getIdxbyList,s=(t.getIdxbyListEx,t.getV),o={};try{var a=n(e,0,[0],"0a");o.responseStatus=parseInt(a,16)}catch(e){}if(0!==o.responseStatus)return o;try{var u=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(u,2)?o.certStatus="good":"a1"===e.substr(u,2)?(o.certStatus="revoked",o.revocationTime=we(r(e,u,[0]))):"82"===e.substr(u,2)&&(o.certStatus="unknown")}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=we(s(e,c))}catch(e){}try{var l=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(l,2)&&(o.nextUpdate=we(r(e,l,[0])))}catch(e){}return o},ce.asn1.ocsp.OCSPParser=function(){var e=Error,t=We,r=new t,n=he,i=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyListEx,u=n.getChildIdx;this.getOCSPRequest=function(t){var r=u(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);return this.getTBSRequest(s(t,r[0]))},this.getTBSRequest=function(e){var t={},n=a(e,0,[0],"30");t.array=this.getRequestList(n);var i=a(e,0,["[2]",0],"30");return null!=i&&(t.ext=r.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],r=u(e,0),n=0;n<r.length;n++)e=s(e,r[n]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var n=u(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);var i=this.getCertID(s(t,n[0]));if(2==n.length){var a=o(t,0,[1,0]);i.ext=r.getExtParamArray(s(t,a))}return i},this.getCertID=function(r){var n=u(r,0);if(4!=n.length)throw new e("wrong number elements: "+n.length);var o=new t,a={};return a.alg=o.getAlgorithmIdentifierName(s(r,n[0])),a.issname=i(r,n[1]),a.isskey=i(r,n[2]),a.sbjsn=i(r,n[3]),a}},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(le=function(e){return me(new Buffer(e,"utf8").toString("base64"))},ge=function(e){return new Buffer(ve(e),"base64").toString("utf8")}):(le=function(e){return Se(De(Le(e)))},ge=function(e){return decodeURIComponent(Oe(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ve(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",o="00"+n,a="",u=i-s.length-o.length,c=0;c<u;c+=2)a+="ff";return s+a+o},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ne||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new ee,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),de(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],de(r)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=xe(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ee(e.utf8)),void 0!==e.rstr&&(t=xe(e.rstr)),void 0!==e.b64&&(t=b(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?Ue.getKey(e):Ue.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ue.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ne&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ne&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,r=w,n=oe,i=ce.crypto.ECDSA,s=ce.crypto.ECParameterDB,o=i.getName,a=he,u=a.getVbyListEx,c=a.isASN1HEX,l=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new r(e.bitLength(),l).mod(e.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(e){this.ecparams=s.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),s=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-s),a="04"+("0000000000"+n.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(o),this.setPublicKeyHex(a),{ecprvhex:o,ecpubhex:a}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new r(t,16),s=this.ecparams.n,o=new r(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(s),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(s)}while(u.compareTo(r.ZERO)<=0);var c=a.modInverse(s).multiply(o.add(n.multiply(u))).mod(s);return i.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,i=this.ecparams.n,s=r.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var u=o.modInverse(i).multiply(s.add(n.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,s){try{var o,a,u=i.parseSigHex(t);o=u.r,a=u.s;var c=n.decodeFromHex(this.ecparams.curve,s),l=new r(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,o,a,c)}catch(e){return!1}},this.verify=function(e,t,i){var s,o,a;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);s=u.r,o=u.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";s=t.r,o=t.s}if(i instanceof oe)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,i)}var c=r.fromByteArrayUnsigned(e);return this.verifyRaw(c,s,o,a)},this.verifyRaw=function(e,t,n,i){var s=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(r.ONE)<0||t.compareTo(s)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(s)>=0)return!1;var a=n.modInverse(s),u=e.multiply(a).mod(s),c=t.multiply(a).mod(s);return o.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(s).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=u(e,0,["[0]",0],"06"),r=u(e,0,[1],"04");try{n=u(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var r,n,i;try{u(e,0,[1,0],"06"),r=u(e,0,[1,1],"06"),n=u(e,0,[2,0,1],"04");try{i=u(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var r,n;try{u(e,0,[0,0],"06"),r=u(e,0,[0,1],"06"),n=u(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===c(e))throw new t("not ASN.1 hex string");var n,i;try{n=u(e,0,[0,5,0,1],"06"),i=u(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=he,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],o=i[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,s),s:n(e,o)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new w(e,16),n=new w(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=ce.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new w(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,s,o,a,u,c,l,g,h,p,f){e[n]={};var d=r(s),y=r(o),m=r(a),v=r(u),S=r(c),b=new ae(d,y,m),E=b.decodePointHex("04"+l+g);e[n].name=n,e[n].keylen=i,e[n].curve=b,e[n].G=E,e[n].n=v,e[n].h=S,e[n].oid=p,e[n].info=f;for(var w=0;w<h.length;w++)t[h[w]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=he,t=(e.getVbyList,e.getVbyListEx),r=e.isASN1HEX,n=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,r,n,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=r,this.y=n,this.x=i},this.setPrivateHex=function(e,t,r,n,i){var s,o,a,u,c;s=new w(e,16),o=new w(t,16),a=new w(r,16),u="string"==typeof n&&n.length>1?new w(n,16):null,c=new w(i,16),this.setPrivate(s,o,a,u,c)},this.setPublic=function(e,t,r,n){this.isPublic=!0,this.p=e,this.q=t,this.g=r,this.y=n,this.x=null},this.setPublicHex=function(e,t,r,n){var i,s,o,a;i=new w(e,16),s=new w(t,16),o=new w(r,16),a=new w(n,16),this.setPublic(i,s,o,a)},this.signWithMessageHash=function(e){var t=this.p,r=this.q,n=this.g,i=(this.y,this.x),s=ce.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),r.subtract(w.ONE)),o=new w(e.substr(0,r.bitLength()/4),16),a=n.modPow(s,t).mod(r),u=s.modInverse(r).multiply(o.add(i.multiply(a))).mod(r);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(e,t){var r=this.p,n=this.q,i=this.g,s=this.y,o=this.parseASN1Signature(t),a=o[0],u=o[1],c=new w(e.substr(0,n.bitLength()/4),16);if(w.ZERO.compareTo(a)>0||a.compareTo(n)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(u)>=0||u.compareTo(n)>0)throw"invalid DSA signature";var l=u.modInverse(n),g=c.multiply(l).mod(n),h=a.multiply(l).mod(n);return 0==i.modPow(g,r).multiply(s.modPow(h,r)).mod(r).mod(n).compareTo(a)},this.parseASN1Signature=function(e){try{return[new n(t(e,0,[0],"02"),16),new n(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var n,i,s,o,a;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[1],"02"),i=t(e,0,[2],"02"),s=t(e,0,[3],"02"),o=t(e,0,[4],"02"),a=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,i,s,o,a)},this.readPKCS8PrvKeyHex=function(e){var n,i,s,o;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),s=t(e,0,[1,1,2],"02"),o=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,i,s,null,o)},this.readPKCS8PubKeyHex=function(e){var n,i,s,o;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),s=t(e,0,[0,1,2],"02"),o=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,i,s,o)},this.readCertPubKeyHex=function(e,n){var i,s,o,a;if(!1===r(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),s=t(e,0,[0,5,0,1,1],"02"),o=t(e,0,[0,5,0,1,2],"02"),a=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,s,o,a)}};var Ue=function(){var e=function(e,r,n){return t(y.AES,e,r,n)},t=function(e,t,r,n){var i=y.enc.Hex.parse(t),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a={};a.key=s,a.iv=o,a.ciphertext=i;var u=e.decrypt(a,s,{iv:o});return y.enc.Hex.stringify(u)},r=function(e,t,r){return n(y.AES,e,t,r)},n=function(e,t,r,n){var i=y.enc.Hex.parse(t),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a=e.encrypt(i,s,{iv:o}),u=y.enc.Hex.parse(a.toString());return y.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(y.TripleDES,e,r,n)},eproc:function(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(y.DES,e,r,n)},eproc:function(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},s=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var i=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),s=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var a=e.substring(i+2*s,o-s);a=a.replace(/\s+/g,""),t.data=a}return t},o=function(e,t,r){for(var n=r.substring(0,16),s=y.enc.Hex.parse(n),o=y.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=y.algo.MD5.create();if(null!=c&&l.update(c),l.update(o),l.update(s),c=l.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*a)break}var g={};return g.keyhex=u.substr(0,2*i[e].keylen),g.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),g},a=function(e,t,r,n){var s=y.enc.Base64.parse(e),o=y.enc.Hex.stringify(s);return(0,i[t].proc)(o,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return s(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return o(e,t,r)},decryptKeyB64:function(e,t,r,n){return a(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=s(e),n=(r.type,r.cipher),i=r.ivsalt,u=r.data,c=o(n,t,i).keyhex;return a(u,n,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,s){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==s&&null!=s||(s=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[n].ivlen).toUpperCase());var u=function(e,t,r,n){return(0,i[t].eproc)(e,r,n)}(t,n,o(n,r,s).keyhex,s);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+s+"\r\n",a+="\r\n",(a+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={},s=r(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;i.ciphertext=n(e,s[1]);var o=r(e,s[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=n(e,o[0]))throw"this only supports pkcs5PBES2";var a=r(e,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var u=r(e,a[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=n(e,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(e,u[1]);var c=r(e,a[0]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length;if("2a864886f70d01050c"!=n(e,c[0]))throw"this only supports pkcs5PBKDF2";var l=r(e,c[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=n(e,l[0]);var g=n(e,l[1]);try{i.pbkdf2Iter=parseInt(g,16)}catch(e){throw"malformed format pbkdf2Iter: "+g}return i},getPBKDF2KeyHexFromParam:function(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,i=y.PBKDF2(t,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Ce(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=Ue.getPBKDF2KeyHexFromParam(n,t),s={};s.ciphertext=y.enc.Hex.parse(n.ciphertext);var o=y.enc.Hex.parse(i),a=y.enc.Hex.parse(n.encryptionSchemeIV),u=y.TripleDES.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=r(e,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var o=r(e,s[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=n(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=n(e,o[1])),"04"!=e.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ce(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new ne;else if("2a8648ce380401"==r.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=he.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new ne;else if("2a8648ce380401"===r)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=r(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,s[1]),i},parsePublicPKCS8Hex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={algparam:null},s=r(e,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var o=s[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=r(e,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=n(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=n(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=n(e,s[1]).substr(2),i}}}();Ue.getKey=function(e,t,r){var n,i=(m=he).getChildIdx,s=(m.getV,m.getVbyList),o=ce.crypto,a=o.ECDSA,u=o.DSA,c=ne,l=Ce,g=Ue;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new c).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new u).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(be(e.n),be(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new c).setPrivate(be(e.n),be(e.e),be(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var h=(T=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);return T.setPublicKeyHex(p),T}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){h=(T=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);var f=("0000000000"+be(e.d)).slice(-h);return T.setPublicKeyHex(p),T.setPrivateKeyHex(f),T}if("pkcs5prv"===r){var d,y=e,m=he;if(9===(d=i(y,0)).length)(C=new c).readPKCS5PrvKeyHex(y);else if(6===d.length)(C=new u).readPKCS5PrvKeyHex(y);else{if(!(d.length>2&&"04"===y.substr(d[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(C=new a).readPKCS5PrvKeyHex(y)}return C}if("pkcs8prv"===r)return g.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return g._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return We.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return We.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=Ce(e,"PUBLIC KEY");return g._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=l(e,"RSA PRIVATE KEY");return g.getKey(S,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=s(n=l(e,"DSA PRIVATE KEY"),0,[1],"02"),E=s(n,0,[2],"02"),A=s(n,0,[3],"02"),x=s(n,0,[4],"02"),R=s(n,0,[5],"02");return(C=new u).setPrivate(new w(b,16),new w(E,16),new w(A,16),new w(x,16),new w(R,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return S=l(e,"EC PRIVATE KEY"),g.getKey(S,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return g.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F=g.getDecryptedKeyHex(e,t),_=new ne;return _.readPKCS5PrvKeyHex(F),_}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T,C=s(n=g.getDecryptedKeyHex(e,t),0,[1],"04"),P=s(n,0,[2,0],"06"),I=s(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(T=new a({curve:ce.crypto.OID.oidhex2name[P]})).setPublicKeyHex(I),T.setPrivateKeyHex(C),T.isPublic=!1,T}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return b=s(n=g.getDecryptedKeyHex(e,t),0,[1],"02"),E=s(n,0,[2],"02"),A=s(n,0,[3],"02"),x=s(n,0,[4],"02"),R=s(n,0,[5],"02"),(C=new u).setPrivate(new w(b,16),new w(E,16),new w(A,16),new w(x,16),new w(R,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return g.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Ue.generateKeypair=function(e,t){if("RSA"==e){var r=t;(o=new ne).generate(r,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new ne,i=o.n.toString(16),s=o.e.toString(16);return n.setPublic(i,s),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==e){var o,a,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw"unknown algorithm: "+e},Ue.getPEM=function(e,t,r,n,i,s){var o=ce,a=o.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,l=a.ASN1Util.newObject,g=a.x509.SubjectPublicKeyInfo,h=o.crypto,p=h.DSA,f=h.ECDSA,d=ne;function m(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function S(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==d&&e instanceof d||void 0!==p&&e instanceof p||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Te(A=new g(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===r||null==r)&&1==e.isPrivate)return Te(A=m(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===r||null==r)&&1==e.isPrivate){var b=new u({name:e.curveName}).getEncodedHex(),E=v(e).getEncodedHex(),w="";return(w+=Te(b,"EC PARAMETERS"))+Te(E,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate)return Te(A=S(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==r&&null!=r&&1==e.isPrivate){var A=m(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",A,r,n,s)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==r&&null!=r&&1==e.isPrivate)return A=v(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",A,r,n,s);if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate)return A=S(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",A,r,n,s);var x=function(e,t){var r=R(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},R=function(e,t){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(t,r,{keySize:6,iterations:100}),s=y.enc.Hex.parse(e),o=y.TripleDES.encrypt(s,i,{iv:n})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=y.enc.Hex.stringify(r),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=y.enc.Hex.stringify(n),a};if("PKCS8PRV"==t&&null!=d&&e instanceof d&&1==e.isPrivate){var F=m(e).getEncodedHex();return A=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return F=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),A=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return F=new c({bigint:e.x}).getEncodedHex(),A=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ue.getKeyFromCSRPEM=function(e){var t=Ce(e,"CERTIFICATE REQUEST");return Ue.getKeyFromCSRHex(t)},Ue.getKeyFromCSRHex=function(e){var t=Ue.parseCSRHex(e);return Ue.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ue.parseCSRHex=function(e){var t=he,r=t.getChildIdx,n=t.getTLV,i={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var o=r(s,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(o[0],2))throw"malformed CSR(code:003)";var a=r(s,o[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(s,a[2]),i},Ue.getKeyID=function(e){var t=Ue,r=he;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Ce(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),s=r.getV(n,i).substring(2);return ce.crypto.Util.hashHex(s,"sha1")},Ue.getJWKFromKey=function(e){var t={};if(e instanceof ne&&e.isPrivate)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t.d=Se(e.d.toString(16)),t.p=Se(e.p.toString(16)),t.q=Se(e.q.toString(16)),t.dp=Se(e.dmp1.toString(16)),t.dq=Se(e.dmq1.toString(16)),t.qi=Se(e.coeff.toString(16)),t;if(e instanceof ne&&e.isPublic)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=Se(r.x),t.y=Se(r.y),t.d=Se(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=Se(r.x),t.y=Se(r.y),t}throw"not supported key object"},ne.getPosArrayOfChildrenFromHex=function(e){return he.getChildIdx(e,0)},ne.getHexValueArrayOfChildrenFromHex=function(e){var t,r=he.getV,n=r(e,(t=ne.getPosArrayOfChildrenFromHex(e))[0]),i=r(e,t[1]),s=r(e,t[2]),o=r(e,t[3]),a=r(e,t[4]),u=r(e,t[5]),c=r(e,t[6]),l=r(e,t[7]),g=r(e,t[8]);return(t=new Array).push(n,i,s,o,a,u,c,l,g),t},ne.prototype.readPrivateKeyFromPEMString=function(e){var t=Ce(e),r=ne.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ne.prototype.readPKCS5PrvKeyHex=function(e){var t=ne.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ne.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,s,o,a,u,c=he,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),s=l(e,0,[2,0,5],"02"),o=l(e,0,[2,0,6],"02"),a=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,s,o,a,u)},ne.prototype.readPKCS5PubKeyHex=function(e){var t=he,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),s=r(e,n[1]);this.setPublic(i,s)},ne.prototype.readPKCS8PubKeyHex=function(e){var t=he;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ne.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new We).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var Ve=new RegExp("[^0-9a-f]","gi");function ke(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e}function qe(e,t,r){for(var n="",i=0;n.length<t;)n+=Ae(r(xe(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Ke(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var r=ce.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function We(e){var t,r=he,n=r.getChildIdx,i=r.getV,s=r.getTLV,o=r.getVbyList,a=r.getVbyListEx,u=r.getTLVbyList,c=r.getTLVbyListEx,l=r.getIdxbyList,g=r.getIdxbyListEx,h=r.getVidx,p=r.oidname,f=r.hextooidstr,d=We,y=Ce;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return a(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return p(a(e,0,[0],"06"))},this.getIssuer=function(){var e={};return e.array=this.getX500Name(this.getIssuerHex()),e.str=this.getIssuerString(),e},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return d.hex2dn(this.getIssuerHex())},this.getSubject=function(){var e={};return e.array=this.getX500Name(this.getSubjectHex()),e.str=this.getSubjectString(),e},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return d.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=o(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=o(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ue.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.parseExt=function(e){var t,s,a;if(void 0===e){if(a=this.hex,3!==this.version)return-1;t=l(a,0,[0,7,0],"30"),s=n(a,t)}else{a=Ce(e);var u=l(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,u))return void(this.aExtInfo=new Array);t=l(a,0,[0,3,0,1,0],"30"),s=n(a,t),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<s.length;c++){var g={critical:!1},p=0;3===n(a,s[c]).length&&(g.critical=!0,p=1),g.oid=r.hextooidstr(o(a,s[c],[0],"06"));var f=l(a,s[c],[1+p]);g.vidx=h(a,f),this.aExtInfo.push(g)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=ce.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),a=parseInt(o,16);return n.cA=!0,n.pathLen=a,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=s(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(We.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var o=i(e,0);return n.kid={hex:o},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var a=n(e,0),u=0;u<a.length;u++){var c=e.substr(a[u],2);if("80"===c&&(o.kid={hex:i(e,a[u])}),"a1"===c){var l=s(e,a[u]),g=this.getGeneralNames(l);o.issuer=g[0].dn}"82"===c&&(o.sn={hex:i(e,a[u])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var a=n(e,0),u=0;u<a.length;u++)o.array.push(p(i(e,a[u])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=s(this.hex,e.vidx);if(""===r)return t;for(var o=n(r,0),a=0;a<o.length;a++)t.push(p(i(r,o[a])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],i=0;i<t.length;i++){var o=this.getGeneralName(s(e,t[i]));void 0!==o&&r.push(o)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=i(e,0),n=Ae(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"a4"==t?{dn:{hex:r}}:"86"==t?{uri:n}:"87"==t?{ip:je(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,u=s(this.hex,o.vidx),c=n(u,0),l=0;l<c.length;l++)r=u.substr(c[l],2),e=i(u,c[l]),"81"===r&&(t=we(e),a.push(["MAIL",t])),"82"===r&&(t=we(e),a.push(["DNS",t])),"84"===r&&(t=We.hex2dn(e,0),a.push(["DN",t])),"86"===r&&(t=we(e),a.push(["URI",t])),"87"===r&&(t=je(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=n(e,0),a=0;a<o.length;a++){var u=s(e,o[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),a=s(e,r[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(a))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),a=s(e,r[i]);"a0"==o&&(t.full=this.getGeneralNames(a))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),i=0;i<r.length;i++)try{var s=we(o(this.hex,r[i],[0,0,0],"86"));t.push(s)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),i=0;i<r.length;i++){var s=o(this.hex,r[i],[0],"06"),a=o(this.hex,r[i],[1],"86");"2b06010505073001"===s&&t.ocsp.push(we(a)),"2b06010505073002"===s&&t.caissuer.push(we(a))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=n(e,0),c=0;c<u.length;c++){var l=a(e,u[c],[0],"06"),g=we(o(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:g});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:g})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=n(e,0),a=0;a<o.length;a++){var u=s(e,o[a]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},r=o(e,0,[0],"06");t.policyoid=p(r);var i=g(e,0,[1],"30");if(-1!=i){t.array=[];for(var a=n(e,i),u=0;u<a.length;u++){var c=s(e,a[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=o(e,0,[0],"06");if("2b06010505070201"===r){var n=a(e,0,[1],"16");t.cps=Ae(n)}else if("2b06010505070202"===r){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=s(e,r[i]);"30"!=o.substr(0,2)&&(t.exptext=this.getDisplayText(o))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Ae(i(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:i(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(i(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=i(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=n(e,0);if(o.length>1){var a=s(e,o[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(o.length>2){var c=s(e,o[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<i.length;s++)r.push(i[s]);for(n=0;n<r.length;n++){var o=r[n],a=o.ds,u=o.value,c=o.type;if("prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==a)continue;return"mixed"}if(null==t)t=a;else if(t!==a)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getRDN(s(e,r[i])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getAttrTypeAndValue(s(e,r[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),i=o(e,r[0],[],"06"),s=o(e,r[1],[]),a=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(a),t.value=Ae(s),t.ds=this.HEX2STAG[e.substr(r[1],2)],t},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Te(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=g(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),i=0;i<r.length;i++){var o=s(e,r[i]),a=this.getExtParam(o);null!=a&&t.push(a)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=f(o(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var s=u(e,0,[t-1,0]),a=void 0;if("2.5.29.14"==r?a=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==r?a=this.getExtKeyUsage(s,i):"2.5.29.17"==r?a=this.getExtSubjectAltName(s,i):"2.5.29.18"==r?a=this.getExtIssuerAltName(s,i):"2.5.29.19"==r?a=this.getExtBasicConstraints(s,i):"2.5.29.31"==r?a=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==r?a=this.getExtCertificatePolicies(s,i):"2.5.29.35"==r?a=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.37"==r?a=this.getExtExtKeyUsage(s,i):"1.3.6.1.5.5.7.1.1"==r?a=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==r?a=this.getExtCRLNumber(s,i):"2.5.29.21"==r?a=this.getExtCRLReason(s,i):"1.3.6.1.5.5.7.48.1.2"==r?a=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==r?a=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==r&&(a=this.getExtAdobeTimeStamp(s,i)),null!=a)return a;var c={extname:r,extn:s};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var s=n[i].dpname.full,o=0;o<s.length;o++){var a=s[i];null!=a.uri&&(a.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=t)},this.getInfo=function(){var e,t,r,n,i=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var s=0;s<i.array.length;s++){var o=i.array[s];void 0!==o.cps&&(t+="    cps: "+o.cps+"\n")}}return t},s=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+We.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},o=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+He(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+He(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var a=0;a<r.length;a++){var u=r[a],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var g=this.getExtBasicConstraints();void 0===g.cA?e+="    {}\n":(e+="    cA=true",void 0!==g.pathLen&&(e+=", pathLen="+g.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var h=this.getExtAuthorityKeyIdentifier();void 0!==h.kid&&(e+="    kid="+h.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+(n=this.getExtSubjectAltName(),JSON.stringify(n.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===c?e+=s(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=o(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ne.prototype.sign=function(e,t){var r=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},ne.prototype.signWithMessageHash=function(e,t){var r=te(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return ke(this.doPrivate(r).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(e,t,r){var n,i=(n=xe(e),ce.crypto.Util.hashHex(n,t));return void 0===r&&(r=-1),this.signWithMessageHashPSS(i,t,r)},ne.prototype.signWithMessageHashPSS=function(e,t,r){var n,i=Ae(e),s=i.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=s;else if(-2===r)r=a-s-2;else if(r<-2)throw new Error("invalid salt length");if(a<s+r+2)throw new Error("data too long");var c="";r>0&&(c=new Array(r),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=Ae(u(xe("\0\0\0\0\0\0\0\0"+i+c))),g=[];for(n=0;n<a-r-s-2;n+=1)g[n]=0;var h=String.fromCharCode.apply(String,g)+""+c,p=qe(l,h.length,u),f=[];for(n=0;n<h.length;n+=1)f[n]=h.charCodeAt(n)^p.charCodeAt(n);var d=65280>>8*a-o&255;for(f[0]&=~d,n=0;n<s;n++)f.push(l.charCodeAt(n));return f.push(188),ke(this.doPrivate(new w(f)).toString(16),this.n.bitLength())},ne.prototype.verify=function(e,t){var r=te(t=(t=t.replace(Ve,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ke(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var i=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ne.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=te(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ke(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},ne.prototype.verifyPSS=function(e,t,r,n){var i,s=(i=xe(e),ce.crypto.Util.hashHex(i,r));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(s,t,r,n)},ne.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,s=new w(t,16),o=function(e){return ce.crypto.Util.hashHex(e,r)},a=Ae(e),u=a.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=l-u-2;else if(n<-2)throw new Error("invalid salt length");if(l<u+n+2)throw new Error("data too long");var g=this.doPublic(s).toByteArray();for(i=0;i<g.length;i+=1)g[i]&=255;for(;g.length<l;)g.unshift(0);if(188!==g[l-1])throw new Error("encoded message does not end in 0xbc");var h=(g=String.fromCharCode.apply(String,g)).substr(0,l-u-1),p=g.substr(h.length,u),f=65280>>8*l-c&255;if(0!=(h.charCodeAt(0)&f))throw new Error("bits beyond keysize not zero");var d=qe(p,h.length,o),y=[];for(i=0;i<h.length;i+=1)y[i]=h.charCodeAt(i)^d.charCodeAt(i);y[0]&=~f;var m=l-u-n-2;for(i=0;i<m;i+=1)if(0!==y[i])throw new Error("leftmost octets not zero");if(1!==y[m])throw new Error("0x01 marker not found");return p===Ae(o(xe("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,y.slice(-n)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,We.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var r=new Array,n=he.getChildIdx(e,t),i=0;i<n.length;i++)r.push(We.hex2rdn(e,n[i]));return"/"+(r=r.map((function(e){return e.replace("/","\\/")}))).join("/")},We.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=he.getChildIdx(e,t),i=0;i<n.length;i++)r.push(We.hex2attrTypeValue(e,n[i]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},We.hex2attrTypeValue=function(e,t){var r=he,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var s=n(e,i[0]),o=ce.asn1.ASN1Util.oidHexToInt(s);return ce.asn1.x509.OID.oid2atype(o)+"="+Ae(n(e,i[1]))},We.getPublicKeyFromCertHex=function(e){var t=new We;return t.readCertHex(e),t.getPublicKey()},We.getPublicKeyFromCertPEM=function(e){var t=new We;return t.readCertPEM(e),t.getPublicKey()},We.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=he.getVbyList,i={algparam:null};return(t=new We).readCertPEM(e),r=t.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},We.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],s=n[2],o=n[3],a=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!r){var u=be(o),c=te(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=ge(i),g=ge(s);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=g,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,r,n,i){var s,o,a,u=ce,c=u.jws.JWS,l=c.readSafeJSONString,g=c.isSafeJSONString,h=u.crypto,p=(h.ECDSA,h.Mac),f=h.Signature,d=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=t,s=d.stringify(o)),"string"==typeof t){if(!g(s=t))throw"JWS Head is not safe JSON string: "+s;o=l(s)}if(a=r,"object"==typeof r&&(a=d.stringify(r)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,s=d.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var y=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=c.jwsalg2sigalg[e];var m=le(s)+"."+le(a),v="";if("Hmac"==y.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var S=new p({alg:y,prov:"cryptojs",pass:n});S.updateString(m),v=S.doFinal()}else if(-1!=y.indexOf("withECDSA")){(E=new f({alg:y})).init(n,i),E.updateString(m);var b=E.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(b)}else{var E;"none"!=y&&((E=new f({alg:y})).init(n,i),E.updateString(m),v=E.sign())}return m+"."+Se(v)},ce.jws.JWS.verify=function(e,t,r){var n,i=ce,s=i.jws.JWS,o=s.readSafeJSONString,a=i.crypto,u=a.ECDSA,c=a.Mac,l=a.Signature;n=ne;var g=e.split(".");if(3!==g.length)return!1;var h,p=g[0]+"."+g[1],f=be(g[2]),d=o(ge(g[0])),y=null;if(void 0===d.alg)throw"algorithm not specified in header";if(h=(y=d.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ue.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+y;if("none"==(m=s.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new c({alg:m,pass:t});return v.updateString(p),f==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var S,b=null;try{b=u.concatSigToASN1Sig(f)}catch(e){return!1}return(S=new l({alg:m})).init(t),S.updateString(p),S.verify(b)}return(S=new l({alg:m})).init(t),S.updateString(p),S.verify(f)},ce.jws.JWS.parse=function(e){var t,r,n,i=e.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],r=i[1],3==i.length&&(n=i[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(ge(t)),s.payloadObj=ce.jws.JWS.readSafeJSONString(ge(r)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=ge(r):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==n&&(s.sigHex=be(n)),s},ce.jws.JWS.verifyJWT=function(e,t,r){var n=ce.jws,i=n.JWS,s=i.readSafeJSONString,o=i.inArray,a=i.includedArray,u=e.split("."),c=u[0],l=u[1],g=(be(u[2]),s(ge(c))),h=s(ge(l));if(void 0===g.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!o(g.alg,r.alg))return!1;if(void 0!==h.iss&&"object"==typeof r.iss&&!o(h.iss,r.iss))return!1;if(void 0!==h.sub&&"object"==typeof r.sub&&!o(h.sub,r.sub))return!1;if(void 0!==h.aud&&"object"==typeof r.aud)if("string"==typeof h.aud){if(!o(h.aud,r.aud))return!1}else if("object"==typeof h.aud&&!a(h.aud,r.aud))return!1;var p=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+r.gracePeriod<p||void 0!==h.nbf&&"number"==typeof h.nbf&&p<h.nbf-r.gracePeriod||void 0!==h.iat&&"number"==typeof h.iat&&p<h.iat-r.gracePeriod||void 0!==h.jti&&void 0!==r.jti&&h.jti!==r.jti||!i.verify(e,t,r.alg))},ce.jws.JWS.includedArray=function(e,t){var r=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,r){var n=null;try{return"object"!=typeof(n=ue(e))||n.constructor===Array?0:(t&&(t[r]=n),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ue(e))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=xe(t);return Se(ce.crypto.Util.hashHex(r,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ie(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,r,n){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=ce.jws.JWS.sign(e,t,this.sPayload,r,n).split(".");s[0],s[2],this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(2!==r.length)return!1;if(!1===this.verifyNth(t,r[0],r[1]))return!1}return!0},this.verifyNth=function(t,r,n){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],s=this.aSignature[t],o=i+"."+this.sPayload+"."+s,a=!1;try{a=e.verify(o,r,n)}catch(e){return!1}return a},this.readJWSJS=function(e){if("string"==typeof e){var r=t(e);if(null==r)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=$,t.BigInteger=w,t.RSAKey=ne,t.ECDSA=ce.crypto.ECDSA,t.DSA=ce.crypto.DSA,t.Signature=ce.crypto.Signature,t.MessageDigest=ce.crypto.MessageDigest,t.Mac=ce.crypto.Mac,t.Cipher=ce.crypto.Cipher,t.KEYUTIL=Ue,t.ASN1HEX=he,t.X509=We,t.X509CRL=function(e){var t=ce.lang.String.isHex,r=he,n=r.getV,i=r.getTLV,s=r.getVbyList,o=r.getTLVbyList,a=r.getTLVbyListEx,u=r.getIdxbyList,c=r.getIdxbyListEx,l=r.getChildIdx,g=new We;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this._setPos=function(){var e=u(this.hex,0,[0,0]),t=this.hex.substr(e,2);if("02"==t)this.posSigAlg=1;else{if("30"!=t)throw new Error("malformed 1st item of TBSCertList: "+t);this.posSigAlg=0}var r,n=u(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(n,2);if("17"==i||"18"==i)r=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=r&&"30"==this.hex.substr(r,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(s(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var e=o(this.hex,0,[0,this.posSigAlg],"30");return g.getAlgorithmIdentifierName(e)},this.getIssuer=function(){var e=o(this.hex,0,[0,this.posSigAlg+1],"30"),t={};return t.array=g.getX500Name(e),t},this.getThisUpdate=function(){var e=s(this.hex,0,[0,this.posSigAlg+2]);return result=Ae(e)},this.getNextUpdate=function(){var e=u(this.hex,0,[0,this.posSigAlg+3]),t=this.hex.substr(e,2);return"17"!=t&&"18"!=t?null:Ae(n(this.hex,e))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var e=[],t=u(this.hex,0,[0,this.posRevCert]),r=l(this.hex,t),n=0;n<r.length;n++){var s=i(this.hex,r[n]);e.push(this.getRevCert(s))}return e},this.getRevCert=function(e){var t={},r=l(e,0);return t.sn={hex:s(e,0,[0],"02")},t.date=Ae(s(e,0,[1])),3==r.length&&(t.ext=g.getExtParamArray(o(e,0,[2]))),t},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=o(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.getParam=function(){var e={},t=this.getVersion();null!=t&&(e.version=t),e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.thisupdate=this.getThisUpdate();var r=this.getNextUpdate();null!=r&&(e.nextupdate=r);var n=this.getRevCertArray();if(null!=n&&(e.revcert=n),-1!=c(this.hex,0,[0,"[0]"])){var i=a(this.hex,0,[0,"[0]",0]);e.ext=g.getExtParamArray(i)}return e.sighex=this.getSignatureValueHex(),e},"string"==typeof e&&(t(e)?this.hex=e:e.match(/-----BEGIN X509 CRL/)&&(this.hex=Ce(e)),this._setPos())},t.CryptoJS=y,t.b64tohex=b,t.b64toBA=E,t.ECFieldElementFp=se,t.ECPointFp=oe,t.ECCurveFp=ae,t.stoBA=pe,t.BAtos=fe,t.BAtohex=de,t.stohex=ye,t.stob64=function(e){return S(ye(e))},t.stob64u=function(e){return me(S(ye(e)))},t.b64utos=function(e){return fe(E(ve(e)))},t.b64tob64u=me,t.b64utob64=ve,t.hex2b64=S,t.hextob64u=Se,t.b64utohex=be,t.utf8tob64u=le,t.b64utoutf8=ge,t.utf8tob64=function(e){return S(De(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Oe(b(e)))},t.utf8tohex=Ee,t.hextoutf8=we,t.hextorstr=Ae,t.rstrtohex=xe,t.hextob64=Re,t.hextob64nl=Fe,t.b64nltohex=_e,t.hextopem=Te,t.pemtohex=Ce,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=Pe,t.zulutosec=Ie,t.zulutodate=function(e){return new Date(Pe(e))},t.datetozulu=function(e,t,r){var n,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var s=e.getUTCMilliseconds();0!==s&&(n+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=De,t.hextouricmp=Oe,t.ipv6tohex=Ne,t.hextoipv6=Be,t.hextoip=je,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ne(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=He,t.intarystrtohex=Me,t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.KJUR=ce,t.crypto=ce.crypto,t.asn1=ce.asn1,t.jws=ce.jws,t.lang=ce.lang},6452:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function s(e){var n="[A-Za-z]",i="[0-9]",s=t(i,"[A-Fa-f]"),o=r(r("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+r("%[89A-Fa-f]"+s+"%"+s+s)+"|"+r("%"+s+s)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),g=r(n+t(n,i,"[\\+\\-\\.]")+"*"),h=r(r(o+"|"+t(l,a,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+i)),f=r(p+"\\."+p+"\\."+p+"\\."+p),d=r(s+"{1,4}"),y=r(r(d+"\\:"+d)+"|"+f),m=r(r(d+"\\:")+"{6}"+y),v=r("\\:\\:"+r(d+"\\:")+"{5}"+y),S=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+y),b=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+y),E=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+y),w=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+y),A=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+y),x=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),R=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),F=r([m,v,S,b,E,w,A,x,R].join("|")),_=r(r(l+"|"+o)+"+"),T=(r(F+"\\%25"+_),r(F+r("\\%25|\\%(?!"+s+"{2})")+_)),C=r("[vV]"+s+"+\\."+t(l,a,"[\\:]")+"+"),P=r("\\["+r(T+"|"+F+"|"+C)+"\\]"),I=r(r(o+"|"+t(l,a))+"*"),D=r(P+"|"+f+"(?!"+I+")|"+I),O=r("[0-9]*"),N=r(r(h+"@")+"?"+D+r("\\:"+O)+"?"),B=r(o+"|"+t(l,a,"[\\:\\@]")),j=r(B+"*"),L=r(B+"+"),H=r(r(o+"|"+t(l,a,"[\\@]"))+"+"),M=r(r("\\/"+j)+"*"),U=r("\\/"+r(L+M)+"?"),V=r(H+M),k=r(L+M),q="(?!"+B+")",K=(r(M+"|"+U+"|"+V+"|"+k+"|"+q),r(r(B+"|"+t("[\\/\\?]",c))+"*")),W=r(r(B+"|[\\/\\?]")+"*"),z=r(r("\\/\\/"+N+M)+"|"+U+"|"+k+"|"+q),G=r(g+"\\:"+z+r("\\?"+K)+"?"+r("\\#"+W)+"?"),$=r(r("\\/\\/"+N+M)+"|"+U+"|"+V+"|"+q),Y=r($+r("\\?"+K)+"?"+r("\\#"+W)+"?");return r(G+"|"+Y),r(g+"\\:"+z+r("\\?"+K)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+D+")"+r("\\:("+O+")")+"?)")+"?("+M+"|"+U+"|"+k+"|"+q+")"),r("\\?("+K+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+D+")"+r("\\:("+O+")")+"?)")+"?("+M+"|"+U+"|"+V+"|"+q+")"),r("\\?("+K+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+D+")"+r("\\:("+O+")")+"?)")+"?("+M+"|"+U+"|"+k+"|"+q+")"),r("\\?("+K+")"),r("\\#("+W+")"),r("("+h+")@"),r("\\:("+O+")"),{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+F+")"+r(r("\\%25|\\%(?!"+s+"{2})")+"("+_+")")+"?\\]?$")}}var o=s(!1),a=s(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,g=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,y=String.fromCharCode;function m(e){throw new RangeError(f[e])}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,".")).split("."),t).join(".")}function S(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},E=function(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=l)e=d(e/35);return d(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,i=0,s=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var u=0;u<a;++u)e.charCodeAt(u)>=128&&m("not-basic"),r.push(e.charCodeAt(u));for(var g=a>0?a+1:0;g<n;){for(var h=i,p=1,f=l;;f+=l){g>=n&&m("invalid-input");var y=(t=e.charCodeAt(g++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(y>=l||y>d((c-i)/p))&&m("overflow"),i+=y*p;var v=f<=o?1:f>=o+26?26:f-o;if(y<v)break;var S=l-v;p>d(c/S)&&m("overflow"),p*=S}var b=r.length+1;o=E(i-h,b,0==h),d(i/b)>c-s&&m("overflow"),s+=d(i/b),i%=b,r.splice(i++,0,s)}return String.fromCodePoint.apply(String,r)},A=function(e){var t=[],r=(e=S(e)).length,n=128,i=0,s=72,o=!0,a=!1,u=void 0;try{for(var g,h=e[Symbol.iterator]();!(o=(g=h.next()).done);o=!0){var p=g.value;p<128&&t.push(y(p))}}catch(e){a=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(a)throw u}}var f=t.length,v=f;for(f&&t.push("-");v<r;){var w=c,A=!0,x=!1,R=void 0;try{for(var F,_=e[Symbol.iterator]();!(A=(F=_.next()).done);A=!0){var T=F.value;T>=n&&T<w&&(w=T)}}catch(e){x=!0,R=e}finally{try{!A&&_.return&&_.return()}finally{if(x)throw R}}var C=v+1;w-n>d((c-i)/C)&&m("overflow"),i+=(w-n)*C,n=w;var P=!0,I=!1,D=void 0;try{for(var O,N=e[Symbol.iterator]();!(P=(O=N.next()).done);P=!0){var B=O.value;if(B<n&&++i>c&&m("overflow"),B==n){for(var j=i,L=l;;L+=l){var H=L<=s?1:L>=s+26?26:L-s;if(j<H)break;var M=j-H,U=l-H;t.push(y(b(H+M%U,0))),j=d(M/U)}t.push(y(b(j,0))),s=E(i,C,v==f),i=0,++v}}}catch(e){I=!0,D=e}finally{try{!P&&N.return&&N.return()}finally{if(I)throw D}}++i,++n}return t.join("")},x=function(e){return v(e,(function(e){return h.test(e)?"xn--"+A(e):e}))},R=function(e){return v(e,(function(e){return g.test(e)?w(e.slice(4).toLowerCase()):e}))},F={};function _(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function T(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function C(e,t){function r(e){var r=T(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,_).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,_).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,_).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,_).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,_).replace(t.PCT_ENCODED,i)),e}function P(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(P).join("."):e}function D(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],s=n[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),a=u(o,2),c=a[0],l=a[1],g=l?l.split(":").map(P):[],h=c.split(":").map(P),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,d=h.length-f,y=Array(f),m=0;m<f;++m)y[m]=g[m]||h[d+m]||"";p&&(y[f-1]=I(y[f-1],t));var v=y.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],S=void 0;if(v&&v.length>1){var b=y.slice(0,v.index),E=y.slice(v.index+v.length);S=b.join(":")+"::"+E.join(":")}else S=y.join(":");return s&&(S+="%"+s),S}return e}var O=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,N=void 0==="".match(/(){0}/)[1];function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(O);if(i){N?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=D(I(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=F[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)C(r,n);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=x(r.host.replace(n.PCT_ENCODED,T).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}C(r,o)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function j(e,t){var r=!1!==t.iri?a:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(D(I(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var L=/^\.\.?\//,H=/^\/\.(\/|$)/,M=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function V(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(H))e=e.replace(H,"/");else if(e.match(M))e=e.replace(M,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(U);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:o,n=[],i=F[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?R(e.host):x(e.host.replace(r.PCT_ENCODED,T).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}C(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var s=j(e,t);if(void 0!==s&&("suffix"!==t.reference&&n.push("//"),n.push(s),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=V(u)),void 0===s&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=B(k(e,r),r),t=B(k(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=V(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=V(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=V(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=V(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function K(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:o.PCT_ENCODED,T)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var $={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),i=n[0],s=n[1];e.path=i&&"/"!==i?i:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},Y={scheme:"wss",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize},X={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",Q=r(r("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+r("%"+Z+Z)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(J,"g"),re=new RegExp(Q,"g"),ne=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),ie=new RegExp(t("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),se=ie;function oe(e){var t=T(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,s={},o=r.query.split("&"),a=0,u=o.length;a<u;++a){var c=o[a].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),g=0,h=l.length;g<h;++g)n.push(l[g]);break;case"subject":r.subject=K(c[1],t);break;case"body":r.body=K(c[1],t);break;default:i=!0,s[K(c[0],t)]=K(c[1],t)}}i&&(r.headers=s)}r.query=void 0;for(var p=0,f=n.length;p<f;++p){var d=n[p].split("@");if(d[0]=K(d[0]),t.unicodeSupport)d[1]=K(d[1],t).toLowerCase();else try{d[1]=x(K(d[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[p]=d.join("@")}return r},serialize:function(e,t){var r,n=e,s=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(s){for(var o=0,a=s.length;o<a;++o){var u=String(s[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(re,oe).replace(re,i).replace(ne,_),g=u.slice(c+1);try{g=t.iri?R(g):x(K(g,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}s[o]=l+"@"+g}n.path=s.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==X[f]&&p.push(f.replace(re,oe).replace(re,i).replace(ie,_)+"="+h[f].replace(re,oe).replace(re,i).replace(se,_));return p.length&&(n.query=p.join("&")),n}},ue=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ue),n=e;if(r){var i=t.scheme||n.scheme||"urn",s=r[1].toLowerCase(),o=r[2],a=i+":"+(t.nid||s),u=F[a];n.nid=s,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),s=F[i];s&&(e=s.serialize(e,t));var o=e,a=e.nss;return o.path=(n||t.nid)+":"+a,o}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ge={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(le)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};F[W.scheme]=W,F[z.scheme]=z,F[$.scheme]=$,F[Y.scheme]=Y,F[ae.scheme]=ae,F[ce.scheme]=ce,F[ge.scheme]=ge,e.SCHEMES=F,e.pctEncChar=_,e.pctDecChars=T,e.parse=B,e.removeDotSegments=V,e.serialize=k,e.resolveComponents=q,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return k(q(B(e,n),B(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=k(B(e,t),t):"object"===n(e)&&(e=B(k(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=k(B(e,r),r):"object"===n(e)&&(e=k(e,r)),"string"==typeof t?t=k(B(t,r),r):"object"===n(t)&&(t=k(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:o.ESCAPE,_)},e.unescapeComponent=K,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3970:(e,t,r)=>{const n=r(4604);class i{encode(e){return e?new Uint8Array(n.hextoArrayBuffer(n.utf8tohex(e))):new Uint8Array}}class s{validateInput(e,t,r){if(!(r&&null==e||"Uint8Array"===t.name&&e instanceof Uint8Array)&&(null==e||e.constructor!==t||e.constructor===Number&&e<0))throw new Error("Specified argument is illegal.")}}e.exports={CertificateRegistrationRequestBuilder:class{constructor(e){this.request=e}withCertHolderId(e){return this.certHolderId=e,this}withCertVersion(e){return this.certVersion=e,this}withCertPem(e){return this.certPem=e,this}async build(){const e=new s;e.validateInput(this.certHolderId,String),e.validateInput(this.certVersion,Number),e.validateInput(this.certPem,String);const t=this.request;return t.setCertHolderId(this.certHolderId),t.setCertVersion(this.certVersion),t.setCertPem(this.certPem),t}},FunctionRegistrationRequestBuilder:class{constructor(e){this.request=e}withFunctionId(e){return this.functionId=e,this}withFunctionBinaryName(e){return this.functionBinaryName=e,this}withFunctionByteCode(e){return this.functionByteCode=e,this}async build(){const e=new s;e.validateInput(this.functionId,String),e.validateInput(this.functionBinaryName,String),e.validateInput(this.functionByteCode,Uint8Array);const t=this.request;return t.setFunctionId(this.functionId),t.setFunctionBinaryName(this.functionBinaryName),t.setFunctionByteCode(this.functionByteCode),t}},ContractRegistrationRequestBuilder:class{constructor(e,t){this.request=e,this.signer=t}withContractId(e){return this.contractId=e,this}withContractBinaryName(e){return this.contractBinaryName=e,this}withContractByteCode(e){return this.contractByteCode=e,this}withContractProperties(e){return this.contractProperties=e,this}withCertHolderId(e){return this.certHolderId=e,this}withCertVersion(e){return this.certVersion=e,this}async build(){const e=new s;e.validateInput(this.contractId,String),e.validateInput(this.contractBinaryName,String),e.validateInput(this.contractByteCode,Uint8Array),e.validateInput(this.contractProperties,String,!0),e.validateInput(this.certHolderId,String),e.validateInput(this.certVersion,Number);const t=this.request;t.setContractId(this.contractId),t.setContractBinaryName(this.contractBinaryName),t.setContractByteCode(this.contractByteCode),t.setContractProperties(this.contractProperties),t.setCertHolderId(this.certHolderId),t.setCertVersion(this.certVersion);const r=new i("utf-8").encode(this.contractId),n=new i("utf-8").encode(this.contractBinaryName),o=this.contractByteCode,a=new i("utf-8").encode(this.contractProperties),u=new i("utf-8").encode(this.certHolderId),c=new DataView(new ArrayBuffer(4));c.setUint32(0,this.certVersion);const l=new Uint8Array(c.buffer),g=new Uint8Array(r.byteLength+n.byteLength+o.byteLength+a.byteLength+u.byteLength+l.byteLength);let h=0;return g.set(r,h),h+=r.byteLength,g.set(n,h),h+=n.byteLength,g.set(o,h),h+=o.byteLength,g.set(a,h),h+=a.byteLength,g.set(u,h),h+=u.byteLength,g.set(l,h),t.setSignature(await this.signer.sign(g)),t}},ContractsListingRequestBuilder:class{constructor(e,t){this.request=e,this.signer=t}withCertHolderId(e){return this.certHolderId=e,this}withCertVersion(e){return this.certVersion=e,this}withContractId(e){return this.contractId=e,this}async build(){const e=new s;e.validateInput(this.certHolderId,String),e.validateInput(this.certVersion,Number),e.validateInput(this.contractId,String,!0);const t=this.request;t.setCertHolderId(this.certHolderId),t.setCertVersion(this.certVersion),t.setContractId(this.contractId);const r=new i("utf-8").encode(this.certHolderId),n=new DataView(new ArrayBuffer(4));n.setUint32(0,this.certVersion);const o=new Uint8Array(n.buffer),a=new i("utf-8").encode(this.contractId),u=new Uint8Array(a.byteLength+r.byteLength+o.byteLength);let c=0;return u.set(a,c),c+=a.byteLength,u.set(r,c),c+=r.byteLength,u.set(o,c),t.setSignature(await this.signer.sign(u)),t}},LedgerValidationRequestBuilder:class{constructor(e,t){this.request=e,this.signer=t}withAssetId(e){return this.assetId=e,this}withStartAge(e){return this.startAge=e,this}withEndAge(e){return this.endAge=e,this}withCertHolderId(e){return this.certHolderId=e,this}withCertVersion(e){return this.certVersion=e,this}async build(){const e=new s;e.validateInput(this.assetId,String),e.validateInput(this.startAge,Number),e.validateInput(this.endAge,Number),e.validateInput(this.certHolderId,String),e.validateInput(this.certVersion,Number);const t=this.request;t.setAssetId(this.assetId),t.setStartAge(this.startAge),t.setEndAge(this.endAge),t.setCertHolderId(this.certHolderId),t.setCertVersion(this.certVersion);const r=new i("utf-8").encode(this.assetId),n=new DataView(new ArrayBuffer(4)),o=new DataView(new ArrayBuffer(4)),a=new DataView(new ArrayBuffer(4));n.setUint32(0,this.startAge);const u=new Uint8Array(n.buffer);o.setUint32(0,this.endAge);const c=new Uint8Array(o.buffer),l=new i("utf-8").encode(this.certHolderId);a.setUint32(0,this.certVersion);const g=new Uint8Array(a.buffer),h=new Uint8Array(r.byteLength+u.byteLength+c.byteLength+l.byteLength+g.byteLength);let p=0;return h.set(r,p),p+=r.byteLength,h.set(u,p),p+=u.byteLength,h.set(c,p),p+=c.byteLength,h.set(l,p),p+=l.byteLength,h.set(g,p),t.setSignature(await this.signer.sign(h)),t}},ContractExecutionRequestBuilder:class{constructor(e,t){this.request=e,this.signer=t}withContractId(e){return this.contractId=e,this}withContractArgument(e){return this.contractArgument=e,this}withCertHolderId(e){return this.certHolderId=e,this}withCertVersion(e){return this.certVersion=e,this}withFunctionArgument(e){return this.functionArgument=e,this}async build(){const e=new s;e.validateInput(this.contractId,String),e.validateInput(this.contractArgument,String),e.validateInput(this.certHolderId,String),e.validateInput(this.certVersion,Number),e.validateInput(this.functionArgument,String,!0);const t=this.request;t.setContractId(this.contractId),t.setContractArgument(this.contractArgument),t.setCertHolderId(this.certHolderId),t.setCertVersion(this.certVersion),t.setFunctionArgument(this.functionArgument);const r=new i("utf-8").encode(this.contractId),n=new i("utf-8").encode(this.contractArgument),o=new i("utf-8").encode(this.certHolderId),a=new DataView(new ArrayBuffer(4));a.setUint32(0,this.certVersion);const u=new Uint8Array(a.buffer),c=new Uint8Array(r.byteLength+n.byteLength+o.byteLength+u.byteLength);let l=0;return c.set(r,l),l+=r.byteLength,c.set(n,l),l+=n.byteLength,c.set(o,l),l+=o.byteLength,c.set(u,l),t.setSignature(await this.signer.sign(c)),t}}}},6303:e=>{e.exports={StatusCode:{OK:200,INVALID_HASH:300,INVALID_PREV_HASH:301,INVALID_CONTRACT:302,INVALID_OUTPUT:303,INVALID_NONCE:304,INCONSISTENT_STATES:305,INVALID_SIGNATURE:400,UNLOADABLE_KEY:401,UNLOADABLE_CONTRACT:402,CERTIFICATE_NOT_FOUND:403,CONTRACT_NOT_FOUND:404,CERTIFICATE_ALREADY_REGISTERED:405,CONTRACT_ALREADY_REGISTERED:406,INVALID_REQUEST:407,CONTRACT_CONTEXTUAL_ERROR:408,ASSET_NOT_FOUND:409,FUNCTION_NOT_FOUND:410,UNLOADABLE_FUNCTION:411,INVALID_FUNCTION:412,DATABASE_ERROR:500,UNKNOWN_TRANSACTION_STATUS:501,RUNTIME_ERROR:502,CLIENT_IO_ERROR:600,CLIENT_DATABASE_ERROR:601,CLIENT_RUNTIME_ERROR:602}}},2658:(e,t,r)=>{const{toCryptoKeyFromJwk:n,toJwkFromPkcs1:i}=r(2706),s=r(9642).Z,o="scalar",{ClientProperties:a,ClientPropertiesField:u}=r(903);class c extends Error{}class l extends Error{}e.exports={ClientServiceWithIndexedDb:class{constructor(e){const t=async function(){const e=new s(o);e.version(1).stores({keystore:"id"});const t=new a(this.properties,[u.CERT_HOLDER_ID,u.CERT_VERSION]),r=t.getPrivateKeyCryptoKey(),g=t.getPrivateKeyPem(),h=`${t.getCertHolderId()}_${t.getCertVersion()}`;let p;try{if(r||g)p=r||await n(i(g)),await e.keystore.put({id:h,key:p});else{const t=await e.keystore.get(h);p=t&&t.key}}catch(e){throw e instanceof s.DexieError?new l(e.message):e}if(!(p instanceof CryptoKey))throw new c;this.properties["scalar.dl.client.private_key_cryptokey"]=p,delete this.properties["scalar.dl.client.private_key_pem"]}.bind(e),r=async function(){const e=new s(o);e.version(1).stores({keystore:"id"});const t=new a(this.properties,[u.CERT_HOLDER_ID,u.CERT_VERSION]),r=`${t.getCertHolderId()}_${t.getCertVersion()}`;try{await e.keystore.delete(r)}catch(e){throw new l(e.message)}}.bind(e);return e.deleteIndexedDb=r,e.getIndexedDb=t,(async()=>(await t(),e))()}},IndexedDbKeyNotFoundError:c,IndexedDbOperationError:l}},2706:(e,t,r)=>{const n=r(1166);e.exports={toCryptoKeyFromJwk:async function(e){return window.crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])},toJwkFromPkcs1:function(e){e=e.replace("-----BEGIN EC PRIVATE KEY-----","").replace("-----END EC PRIVATE KEY-----","").replace(/\r\n/g,"");const t=n.KEYUTIL.getKey(n.b64utohex(e),null,"pkcs5prv");return n.KEYUTIL.getJWKFromKey(t)}}},9642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Mr});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}var s=Object.keys,o=Array.isArray,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function u(e,t){return"object"!=typeof t||s(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||a.Promise||(a.Promise=Promise);var c=Object.getPrototypeOf,l={}.hasOwnProperty;function g(e,t){return l.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(c(e))),s(t).forEach((function(r){f(e,r,t[r])}))}var p=Object.defineProperty;function f(e,t,r,n){p(e,t,u(r&&g(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var y=Object.getOwnPropertyDescriptor;function m(e,t){var r;return y(e,t)||(r=c(e))&&m(r,t)}var v=[].slice;function S(e,t,r){return v.call(e,t,r)}function b(e,t){return t(e)}function E(e){if(!e)throw new Error("Assertion Failed")}function w(e){a.setImmediate?setImmediate(e):setTimeout(e,0)}function A(e,t){return e.reduce((function(e,r,n){var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function x(e,t){if(g(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var s=x(e,t[n]);r.push(s)}return r}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:x(a,t.substr(o+1))}}function R(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){E("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)R(e,t[n],r[n])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),u=t.substr(s+1);if(""===u)void 0===r?o(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var c=e[a];c||(c=e[a]={}),R(c,u,r)}}else void 0===r?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function F(e,t){"string"==typeof t?R(e,t,void 0):"length"in t&&[].map.call(t,(function(t){R(e,t,void 0)}))}function _(e){var t={};for(var r in e)g(e,r)&&(t[r]=e[r]);return t}var T=[].concat;function C(e){return T.apply([],e)}var P="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(C([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return a[e]})),I=P.map((function(e){return a[e]})),D=A(P,(function(e){return[e,!0]}));function O(e){if(!e||"object"!=typeof e)return e;var t;if(o(e)){t=[];for(var r=0,n=e.length;r<n;++r)t.push(O(e[r]))}else if(I.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)g(e,i)&&(t[i]=O(e[i]));return t}var N={}.toString;function B(e){return N.call(e).slice(8,-1)}var j=function(e,t){return"Array"===t?""+e.map((function(e){return j(e,B(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function L(e,t,r,n){return r=r||{},n=n||"",s(e).forEach((function(i){if(g(t,i)){var s=e[i],o=t[i];if("object"==typeof s&&"object"==typeof o&&s&&o){var a=B(s),u=B(o);a===u?D[a]?j(s,a)!==j(o,u)&&(r[n+i]=t[i]):L(s,o,r,n+i+"."):r[n+i]=t[i]}else s!==o&&(r[n+i]=t[i])}else r[n+i]=void 0})),s(t).forEach((function(i){g(e,i)||(r[n+i]=t[i])})),r}var H="undefined"!=typeof Symbol&&Symbol.iterator,M=H?function(e){var t;return null!=e&&(t=e[H])&&t.apply(e)}:function(){return null},U={};function V(e){var t,r,n,i;if(1===arguments.length){if(o(e))return e.slice();if(this===U&&"string"==typeof e)return[e];if(i=M(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var k="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},q="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function K(e,t){q=e,W=t}var W=function(){return!0},z=!new Error("").stack;function G(){if(z)try{throw new Error}catch(e){return e}return new Error}function $(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(W).map((function(e){return"\n"+e})).join("")):""}var Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],X=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),J={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Z(e,t){this._e=G(),this.name=e,this.message=t}function Q(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,r){return r.indexOf(e)===t})).join("\n")}function ee(e,t,r,n){this._e=G(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Q(e,t)}function te(e,t){this._e=G(),this.name="BulkError",this.failures=t,this.message=Q(e,t)}d(Z).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(ee).from(Z),d(te).from(Z);var re=X.reduce((function(e,t){return e[t]=t+"Error",e}),{}),ne=Z,ie=X.reduce((function(e,t){var r=t+"Error";function n(e,n){this._e=G(),this.name=r,e?"string"==typeof e?(this.message=e+(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=J[t]||r,this.inner=null)}return d(n).from(ne),e[t]=n,e}),{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var se=Y.reduce((function(e,t){return e[t+"Error"]=ie[t],e}),{}),oe=X.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ie[t]),e}),{});function ae(){}function ue(e){return e}function ce(e,t){return null==e||e===ue?t:function(r){return t(e(r))}}function le(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ge(e,t){return e===ae?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?le(n,this.onsuccess):n),i&&(this.onerror=this.onerror?le(i,this.onerror):i),void 0!==s?s:r}}function he(e,t){return e===ae?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?le(r,this.onsuccess):r),n&&(this.onerror=this.onerror?le(n,this.onerror):n)}}function pe(e,t){return e===ae?t:function(r){var n=e.apply(this,arguments);u(r,n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?le(i,this.onsuccess):i),s&&(this.onerror=this.onerror?le(s,this.onerror):s),void 0===n?void 0===o?void 0:o:u(n,o)}}function fe(e,t){return e===ae?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function de(e,t){return e===ae?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return r.then((function(){return t.apply(n,s)}))}return t.apply(this,arguments)}}oe.ModifyError=ee,oe.DexieError=Z,oe.BulkError=te;var ye={},me="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),ve=me[0],Se=me[1],be=me[2],Ee=Se&&Se.then,we=ve&&ve.constructor,Ae=!!be,xe=!1,Re=be?function(){be.then($e)}:a.setImmediate?setImmediate.bind(null,$e):a.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){$e(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout($e,0)},Fe=function(e,t){Be.push([e,t]),Te&&(Re(),Te=!1)},_e=!0,Te=!0,Ce=[],Pe=[],Ie=null,De=ue,Oe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:St,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{St(e[0],e[1])}catch(e){}}))}},Ne=Oe,Be=[],je=0,Le=[];function He(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ae,this._lib=!1;var t=this._PSD=Ne;if(q&&(this._stackHolder=G(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ke(this,this._value))}this._state=null,this._value=null,++t.ref,Ve(this,e)}var Me={get:function(){var e=Ne,t=it;function r(r,n){var i=this,s=!e.global&&(e!==Ne||t!==it),o=s&&!ut(),a=new He((function(t,a){Ke(i,new Ue(yt(r,e,s,o),yt(n,e,s,o),t,a,e))}));return q&&Ge(a,this),a}return r.prototype=ye,r},set:function(e){f(this,"then",e&&e.prototype===ye?Me:{get:function(){return e},set:Me.set})}};function Ue(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function Ve(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Ye();t&&"function"==typeof t.then?Ve(e,(function(e,r){t instanceof He?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,qe(e)),r&&Xe()}}),ke.bind(null,e))}catch(t){ke(e,t)}}function ke(e,t){if(Pe.push(t),null===e._state){var r=e._lib&&Ye();t=De(t),e._state=!1,e._value=t,q&&null!==t&&"object"==typeof t&&!t._promise&&function(r,n,i){try{(function(){var r=m(t,"stack");t._promise=e,f(t,"stack",{get:function(){return xe?r&&(r.get?r.get.apply(t):r.value):e.stack}})}).apply(null,void 0)}catch(e){}}(),function(e){Ce.some((function(t){return t._value===e._value}))||Ce.push(e)}(e),qe(e),r&&Xe()}}function qe(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Ke(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===je&&(++je,Fe((function(){0==--je&&Je()}),[]))}function Ke(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++je,Fe(We,[r,e,t])}else e._listeners.push(t)}function We(e,t,r){try{Ie=t;var n,i=t._value;t._state?n=e(i):(Pe.length&&(Pe=[]),n=e(i),-1===Pe.indexOf(i)&&function(e){for(var t=Ce.length;t;)if(Ce[--t]._value===e._value)return void Ce.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{Ie=null,0==--je&&Je(),--r.psd.ref||r.psd.finalize()}}function ze(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,s,o=e._value;null!=o?(i=o.name||"Error",s=o.message||o,n=$(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+n)}return q&&((n=$(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&ze(e._prev,t,r)),t}function Ge(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function $e(){Ye()&&Xe()}function Ye(){var e=_e;return _e=!1,Te=!1,e}function Xe(){var e,t,r;do{for(;Be.length>0;)for(e=Be,Be=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(Be.length>0);_e=!0,Te=!0}function Je(){var e=Ce;Ce=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Le.slice(0),r=t.length;r;)t[--r]()}function Ze(e){return new He(ye,!1,e)}function Qe(e,t){var r=Ne;return function(){var n=Ye(),i=Ne;try{return ht(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ht(i,!1),n&&Xe()}}}h(He.prototype,{then:Me,_then:function(e,t){Ke(this,new Ue(null,null,e,t,Ne))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?r(e):Ze(e)})):this.then(null,(function(e){return e&&e.name===t?r(e):Ze(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ze(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{xe=!0;var e=ze(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{xe=!1}}},timeout:function(e,t){var r=this;return e<1/0?new He((function(n,i){var s=setTimeout((function(){return i(new ie.Timeout(t))}),e);r.then(n,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&f(He.prototype,Symbol.toStringTag,"Dexie.Promise"),Oe.env=pt(),h(He,{all:function(){var e=V.apply(null,arguments).map(ct);return new He((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach((function(i,s){return He.resolve(i).then((function(r){e[s]=r,--n||t(e)}),r)}))}))},resolve:function(e){if(e instanceof He)return e;if(e&&"function"==typeof e.then)return new He((function(t,r){e.then(t,r)}));var t=new He(ye,!0,e);return Ge(t,Ie),t},reject:Ze,race:function(){var e=V.apply(null,arguments).map(ct);return new He((function(t,r){e.map((function(e){return He.resolve(e).then(t,r)}))}))},PSD:{get:function(){return Ne},set:function(e){return Ne=e}},totalEchoes:{get:function(){return it}},newPSD:ot,usePSD:ft,scheduler:{get:function(){return Fe},set:function(e){Fe=e}},rejectionMapper:{get:function(){return De},set:function(e){De=e}},follow:function(e,t){return new He((function(r,n){return ot((function(t,r){var n=Ne;n.unhandleds=[],n.onunhandled=r,n.finalize=le((function(){var e=this;Le.push((function n(){0===e.unhandleds.length?t():r(e.unhandleds[0]),Le.splice(Le.indexOf(n),1)})),++je,Fe((function(){0==--je&&Je()}),[])}),n.finalize),e()}),t,r,n)}))}}),we&&(we.allSettled&&f(He,"allSettled",(function(){var e=V.apply(null,arguments).map(ct);return new He((function(t){0===e.length&&t([]);var r=e.length,n=new Array(r);e.forEach((function(e,i){return He.resolve(e).then((function(e){return n[i]={status:"fulfilled",value:e}}),(function(e){return n[i]={status:"rejected",reason:e}})).then((function(){return--r||t(n)}))}))}))})),we.any&&"undefined"!=typeof AggregateError&&f(He,"any",(function(){var e=V.apply(null,arguments).map(ct);return new He((function(t,r){0===e.length&&r(new AggregateError([]));var n=e.length,i=new Array(n);e.forEach((function(e,s){return He.resolve(e).then((function(e){return t(e)}),(function(e){i[s]=e,--n||r(new AggregateError(i))}))}))}))})));var et={awaits:0,echoes:0,id:0},tt=0,rt=[],nt=0,it=0,st=0;function ot(e,t,r,n){var i=Ne,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++st;var o=Oe.env;s.env=Ae?{Promise:He,PromiseProp:{value:He,configurable:!0,writable:!0},all:He.all,race:He.race,allSettled:He.allSettled,any:He.any,resolve:He.resolve,reject:He.reject,nthen:mt(o.nthen,s),gthen:mt(o.gthen,s)}:{},t&&u(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=ft(s,e,r,n);return 0===s.ref&&s.finalize(),a}function at(){return et.id||(et.id=++tt),++et.awaits,et.echoes+=100,et.id}function ut(){return!!et.awaits&&(0==--et.awaits&&(et.id=0),et.echoes=100*et.awaits,!0)}function ct(e){return et.echoes&&e&&e.constructor===we?(at(),e.then((function(e){return ut(),e}),(function(e){return ut(),bt(e)}))):e}function lt(e){++it,et.echoes&&0!=--et.echoes||(et.echoes=et.id=0),rt.push(Ne),ht(e,!0)}function gt(){var e=rt[rt.length-1];rt.pop(),ht(e,!1)}function ht(e,t){var r=Ne;if((t?!et.echoes||nt++&&e===Ne:!nt||--nt&&e===Ne)||dt(t?lt.bind(null,e):gt),e!==Ne&&(Ne=e,r===Oe&&(Oe.env=pt()),Ae)){var n=Oe.env.Promise,i=e.env;Se.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function pt(){var e=a.Promise;return Ae?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Se.then,gthen:e.prototype.then}:{}}function ft(e,t,r,n,i){var s=Ne;try{return ht(e,!0),t(r,n,i)}finally{ht(s,!1)}}function dt(e){Ee.call(ve,e)}function yt(e,t,r,n){return"function"!=typeof e?e:function(){var i=Ne;r&&at(),ht(t,!0);try{return e.apply(this,arguments)}finally{ht(i,!1),n&&dt(ut)}}}function mt(e,t){return function(r,n){return e.call(this,yt(r,t),yt(n,t))}}-1===(""+Ee).indexOf("[native code]")&&(at=ut=ae);var vt="unhandledrejection";function St(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var n,i={promise:t,reason:e};if(a.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(vt,!0,!0),u(n,i)):a.CustomEvent&&u(n=new CustomEvent(vt,{detail:i}),i),n&&a.dispatchEvent&&(dispatchEvent(n),!a.PromiseRejectionEvent&&a.onunhandledrejection))try{a.onunhandledrejection(n)}catch(e){}q&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var bt=He.reject;function Et(e,t,r,n){if(e._state.openComplete||Ne.letThrough){var i=e._createTransaction(t,r,e._dbSchema);try{i.create()}catch(e){return bt(e)}return i._promise(t,(function(e,t){return ot((function(){return Ne.trans=i,n(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return bt(new ie.DatabaseClosed);e.open().catch(ae)}return e._state.dbReadyPromise.then((function(){return Et(e,t,r,n)}))}var wt="3.0.3",At=String.fromCharCode(65535),xt=-1/0,Rt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ft="String expected.",_t=[],Tt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ct=Tt,Pt=Tt,It=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Dt="__dbnames",Ot="readonly",Nt="readwrite";function Bt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var jt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Lt(e){return function(t){return void 0===x(t,e)&&F(t=O(t),e),t}}var Ht=function(){function e(){}return e.prototype._trans=function(e,t,r){var n=this._tx||Ne.trans,i=this.name;function s(e,r,n){if(!n.schema[i])throw new ie.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}var o=Ye();try{return n&&n.db===this.db?n===Ne.trans?n._promise(e,s,r):ot((function(){return n._promise(e,s,r)}),{trans:n,transless:Ne.transless||Ne}):Et(this.db,e,[this.name],s)}finally{o&&Xe()}},e.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return r.core.get({trans:t,key:e}).then((function(e){return r.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(r&&this.db._maxKey!==At)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));!r&&q&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var n=this.schema.idxByName,i=this.db._deps.indexedDB;function a(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}var u=t.reduce((function(t,r){var i=t[0],s=t[1],u=n[r],c=e[r];return[i||u,i||!u?Bt(s,u&&u.multi?function(e){var t=x(e,r);return o(t)&&t.some((function(e){return a(c,e)}))}:function(e){return a(c,x(e,r))}):s]}),[null,null]),c=u[0],l=u[1];return c?this.where(c.name).equals(e[c.keyPath]).filter(l):r?this.filter(l):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var n in t)if(g(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){u(this,e)}))},e.prototype.add=function(e,t){var r=this,n=this.schema.primKey,i=n.auto,s=n.keyPath,o=e;return s&&i&&(o=Lt(s)(e)),this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?He.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{R(e,s,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||o(t))throw new ie.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||o(e))return this.where(":id").equals(e).modify(t);s(t).forEach((function(r){R(e,r,t[r])}));var r=x(e,this.schema.primKey.keyPath);return void 0===r?bt(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)},e.prototype.put=function(e,t){var r=this,n=this.schema.primKey,i=n.auto,s=n.keyPath,o=e;return s&&i&&(o=Lt(s)(e)),this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?He.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{R(e,s,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?He.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:jt})})).then((function(e){return e.numFailures?He.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(r){return t.core.getMany({keys:e,trans:r}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,r){var n=this,i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){var r=n.schema.primKey,o=r.auto,a=r.keyPath;if(a&&i)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=a&&o?e.map(Lt(a)):e;return n.core.mutate({trans:t,type:"add",keys:i,values:c,wantResults:s}).then((function(e){var t=e.numFailures,r=e.results,i=e.lastResult,o=e.failures;if(0===t)return s?r:i;throw new te(n.name+".bulkAdd(): "+t+" of "+u+" operations failed",Object.keys(o).map((function(e){return o[e]})))}))}))},e.prototype.bulkPut=function(e,t,r){var n=this,i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){var r=n.schema.primKey,o=r.auto,a=r.keyPath;if(a&&i)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,c=a&&o?e.map(Lt(a)):e;return n.core.mutate({trans:t,type:"put",keys:i,values:c,wantResults:s}).then((function(e){var t=e.numFailures,r=e.results,i=e.lastResult,o=e.failures;if(0===t)return s?r:i;throw new te(n.name+".bulkPut(): "+t+" of "+u+" operations failed",Object.keys(o).map((function(e){return o[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:e})})).then((function(e){var n=e.numFailures,i=e.lastResult,s=e.failures;if(0===n)return i;throw new te(t.name+".bulkDelete(): "+n+" of "+r+" operations failed",s)}))},e}();function Mt(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[r].subscribe.apply(null,s),e}if("string"==typeof r)return t[r]};r.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return r;function a(e,n,i){if("object"==typeof e)return u(e);n||(n=fe),i||(i=ae);var s={subscribers:[],fire:i,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=n(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(n,i)}};return t[e]=r[e]=s,s}function u(e){s(e).forEach((function(t){var r=e[t];if(o(r))a(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new ie.InvalidArgument("Invalid event config");var n=a(t,ue,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){w((function(){e.apply(null,t)}))}))}))}}))}}function Ut(e,t){return d(t).from({prototype:e}),t}function Vt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function kt(e,t){e.filter=Bt(e.filter,t)}function qt(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return Bt(n(),t())}:t,e.justLimit=r&&!n}function Kt(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new ie.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Wt(e,t,r){var n=Kt(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function zt(e,t,r,n){var i=e.replayFilter?Bt(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},o=function(e,r,n){if(!i||i(r,n,(function(e){return r.stop(e)}),(function(e){return r.fail(e)}))){var o=r.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),g(s,a)||(s[a]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(o,r),Gt(Wt(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Gt(Wt(e,n,r),Bt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Gt(e,t,r,n){var i=Qe(n?function(e,t,i){return r(n(e),t,i)}:r);return e.then((function(e){if(e)return e.start((function(){var r=function(){return e.continue()};t&&!t(e,(function(e){return r=e}),(function(t){e.stop(t),r=ae}),(function(t){e.fail(t),r=ae}))||i(e.value,e,(function(e){return r=e})),r()}))}))}var $t=function(){function e(){}return e.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,bt.bind(null,r.error)):r.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,bt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Bt(t.algorithm,e)},e.prototype._iterate=function(e,t){return zt(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&u(r,e),t._ctx=r,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(r){return zt(t,e,r,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var r=t._ctx,n=r.table.core;if(Vt(r,!0))return n.count({trans:e,query:{index:Kt(r,n.schema),range:r.range}}).then((function(e){return Math.min(e,r.limit)}));var i=0;return zt(r,(function(){return++i,!1}),e,n).then((function(){return i}))})).then(e)},e.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function s(e,t){return t?s(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var r=s(e,i),n=s(t,i);return r<n?-o:r>n?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var r=t._ctx;if("next"===r.dir&&Vt(r,!0)&&r.limit>0){var n=r.valueMapper,i=Kt(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then((function(e){var t=e.result;return n?t.map(n):t}))}var s=[];return zt(r,(function(e){return s.push(e)}),e,r.table.core).then((function(){return s}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Vt(t)?qt(t,(function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r((function(){e.advance(t),t=0})),!1))}})):qt(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),qt(this._ctx,(function(){var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this},e.prototype.until=function(e,t){return kt(this._ctx,(function(r,n,i){return!e(r.value)||(n(i),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,r;return kt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=Bt(t.isMatch,r),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&Vt(t,!0)&&t.limit>0)return this._read((function(e){var r=Kt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return kt(this._ctx,(function(e){var t=e.primaryKey.toString(),n=g(r,t);return r[t]=!0,!n})),this},e.prototype.modify=function(e){var t=this,r=this._ctx;return this._write((function(n){var i;if("function"==typeof e)i=e;else{var o=s(e),a=o.length;i=function(t){for(var r=!1,n=0;n<a;++n){var i=o[n],s=e[i];x(t,i)!==s&&(R(t,i,s),r=!0)}return r}}var u=r.table.core,c=u.schema.primaryKey,l=c.outbound,g=c.extractKey,h="testmode"in Lr?1:2e3,p=t.db.core.cmp,f=[],d=0,y=[],m=function(e,t){var r=t.failures,n=t.numFailures;d+=e-n;for(var i=0,o=s(r);i<o.length;i++){var a=o[i];f.push(r[a])}};return t.clone().primaryKeys().then((function(e){var t=function(r){var s=Math.min(h,e.length-r);return u.getMany({trans:n,keys:e.slice(r,r+s)}).then((function(o){for(var a=[],c=[],f=l?[]:null,d=[],y=0;y<s;++y){var v=o[y],S={value:O(v),primKey:e[r+y]};!1!==i.call(S,S.value,S)&&(null==S.value?d.push(e[r+y]):l||0===p(g(v),g(S.value))?(c.push(S.value),l&&f.push(e[r+y])):(d.push(e[r+y]),a.push(S.value)))}return Promise.resolve(a.length>0&&u.mutate({trans:n,type:"add",values:a}).then((function(e){for(var t in e.failures)d.splice(parseInt(t),1);m(a.length,e)}))).then((function(e){return c.length>0&&u.mutate({trans:n,type:"put",keys:f,values:c}).then((function(e){return m(c.length,e)}))})).then((function(){return d.length>0&&u.mutate({trans:n,type:"delete",keys:d}).then((function(e){return m(d.length,e)}))})).then((function(){return e.length>r+s&&t(r+h)}))}))};return t(0).then((function(){if(f.length>0)throw new ee("Error modifying one or more objects",f,d,y);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return Vt(e)&&(e.isPrimKey&&!Pt||3===t.type)?this._write((function(r){var n=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((function(t){return e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((function(e){var r=e.failures,n=(e.lastResult,e.results,e.numFailures);if(n)throw new ee("Could not delete some values",Object.keys(r).map((function(e){return r[e]})),t-n);return t-n}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function Yt(e,t){return e<t?-1:e===t?0:1}function Xt(e,t){return e>t?-1:e===t?0:1}function Jt(e,t,r){var n=e instanceof nr?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Zt(e){return new e.Collection(e,(function(){return rr("")})).limit(0)}function Qt(e,t,r,n,i,s){for(var o=Math.min(e.length,n.length),a=-1,u=0;u<o;++u){var c=t[u];if(c!==n[u])return i(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):i(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[u],c)<0&&(a=u)}return o<n.length&&"next"===s?e+r.substr(e.length):o<e.length&&"prev"===s?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function er(e,t,r,n){var i,s,o,a,u,c,l,g=r.length;if(!r.every((function(e){return"string"==typeof e})))return Jt(e,Ft);function h(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),o="next"===e?Yt:Xt;var t=r.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":n}h("next");var p=new e.Collection(e,(function(){return tr(a[0],u[g-1]+n)}));p._ondirectionchange=function(e){h(e)};var f=0;return p._addAlgorithm((function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var h=s(i);if(t(h,u,f))return!0;for(var p=null,d=f;d<g;++d){var y=Qt(i,h,a[d],u[d],o,c);null===y&&null===p?f=d+1:(null===p||o(p,y)>0)&&(p=y)}return r(null!==p?function(){e.continue(p+l)}:n),!1})),p}function tr(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function rr(e){return{type:1,lower:e,upper:e}}var nr=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?Zt(this):new this.Collection(this,(function(){return tr(e,t,!r,!n)}))}catch(e){return Jt(this,Rt)}},e.prototype.equals=function(e){return null==e?Jt(this,Rt):new this.Collection(this,(function(){return rr(e)}))},e.prototype.above=function(e){return null==e?Jt(this,Rt):new this.Collection(this,(function(){return tr(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?Jt(this,Rt):new this.Collection(this,(function(){return tr(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?Jt(this,Rt):new this.Collection(this,(function(){return tr(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?Jt(this,Rt):new this.Collection(this,(function(){return tr(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?Jt(this,Ft):this.between(e,e+At,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):er(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],At)},e.prototype.equalsIgnoreCase=function(e){return er(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=V.apply(U,arguments);return 0===e.length?Zt(this):er(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=V.apply(U,arguments);return 0===e.length?Zt(this):er(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,At)},e.prototype.anyOf=function(){var e=this,t=V.apply(U,arguments),r=this._cmp;try{t.sort(r)}catch(e){return Jt(this,Rt)}if(0===t.length)return Zt(this);var n=new this.Collection(this,(function(){return tr(t[0],t[t.length-1])}));n._ondirectionchange=function(n){r="next"===n?e._ascending:e._descending,t.sort(r)};var i=0;return n._addAlgorithm((function(e,n,s){for(var o=e.key;r(o,t[i])>0;)if(++i===t.length)return n(s),!1;return 0===r(o,t[i])||(n((function(){e.continue(t[i])})),!1)})),n},e.prototype.notEqual=function(e){return this.inAnyRange([[xt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=V.apply(U,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Jt(this,Rt)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[xt,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var r=this,n=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(0===e.length)return Zt(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var u,c=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,g=i;function h(e,t){return g(e[0],t[0])}try{(u=e.reduce((function(e,t){for(var r=0,i=e.length;r<i;++r){var s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=o(s[0],t[0]),s[1]=a(s[1],t[1]);break}}return r===i&&e.push(t),e}),[])).sort(h)}catch(e){return Jt(this,Rt)}var p=0,f=l?function(e){return i(e,u[p][1])>0}:function(e){return i(e,u[p][1])>=0},d=c?function(e){return s(e,u[p][0])>0}:function(e){return s(e,u[p][0])>=0},y=f,m=new this.Collection(this,(function(){return tr(u[0][0],u[u.length-1][1],!c,!l)}));return m._ondirectionchange=function(e){"next"===e?(y=f,g=i):(y=d,g=s),u.sort(h)},m._addAlgorithm((function(e,t,n){for(var s=e.key;y(s);)if(++p===u.length)return t(n),!1;return!!function(e){return!f(e)&&!d(e)}(s)||(0===r._cmp(s,u[p][1])||0===r._cmp(s,u[p][0])||t((function(){g===i?e.continue(u[p][0]):e.continue(u[p][1])})),!1)})),m},e.prototype.startsWithAnyOf=function(){var e=V.apply(U,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Zt(this):this.inAnyRange(e.map((function(e){return[e,e+At]}))):Jt(this,"startsWithAnyOf() only works with strings")},e}();function ir(e){return 1===e.length?e[0]:e}function sr(e){try{return e.only([[]]),[[]]}catch(e){return At}}function or(e){return Qe((function(t){return ar(t),e(t.target.error),!1}))}function ar(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var ur=function(){function e(){}return e.prototype._lock=function(){return E(!Ne.global),++this._reculock,1!==this._reculock||Ne.global||(Ne.lockOwnerFor=this),this},e.prototype._unlock=function(){if(E(!Ne.global),0==--this._reculock)for(Ne.global||(Ne.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ft(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&Ne.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,n=this.db._state.dbOpenError;if(E(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(n);case"MissingAPIError":throw new ie.MissingAPI(n.message,n);default:throw new ie.OpenFailed(n)}if(!this.active)throw new ie.TransactionInactive;return E(null===this._completion._state),(e=this.idbtrans=e||r.transaction(ir(this.storeNames),this.mode)).onerror=Qe((function(r){ar(r),t._reject(e.error)})),e.onabort=Qe((function(r){ar(r),t.active&&t._reject(new ie.Abort(e.error)),t.active=!1,t.on("abort").fire(r)})),e.oncomplete=Qe((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,r){var n=this;if("readwrite"===e&&"readwrite"!==this.mode)return bt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return bt(new ie.TransactionInactive);if(this._locked())return new He((function(i,s){n._blockedFuncs.push([function(){n._promise(e,t,r).then(i,s)},Ne])}));if(r)return ot((function(){var e=new He((function(e,r){n._lock();var i=t(e,r,n);i&&i.then&&i.then(e,r)}));return e.finally((function(){return n._unlock()})),e._lib=!0,e}));var i=new He((function(e,r){var i=t(e,r,n);i&&i.then&&i.then(e,r)}));return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),r=He.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return r}));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new He((function(e,n){r.then((function(r){return t._waitingQueue.push(Qe(e.bind(null,r)))}),(function(e){return t._waitingQueue.push(Qe(n.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new ie.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(g(t,e))return t[e];var r=this.schema[e];if(!r)throw new ie.NotFound("Table "+e+" not part of transaction");var n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n},e}();function cr(e,t,r,n,i,s,o){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:s,src:(r&&!o?"&":"")+(n?"*":"")+(i?"++":"")+lr(t)}}function lr(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function gr(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:A(r,(function(e){return[e.name,e]}))}}function hr(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return x(t,e)}}(e):function(t){return x(t,e)}}function pr(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function fr(e){return[].slice.call(e)}var dr=0;function yr(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function mr(e,t,r,n){var s=t.cmp.bind(t);function a(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,n=e.upper,i=e.lowerOpen,s=e.upperOpen;return void 0===t?void 0===n?null:r.upperBound(n,!!s):void 0===n?r.lowerBound(t,!!i):r.bound(t,n,!!i,!!s)}var u=function(e,t){var r=fr(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,r=e.autoIncrement,n=o(t),i=null==t,s={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:hr(t)},indexes:fr(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,r=e.unique,n=e.multiEntry,i=e.keyPath,a={name:t,compound:o(i),keyPath:i,unique:r,multiEntry:n,extractKey:hr(i)};return s[yr(i)]=a,a})),getIndexByKeyPath:function(e){return s[yr(e)]}};return s[":id"]=a.primaryKey,null!=t&&(s[yr(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),c=u.schema,l=u.hasGetAll,g=c.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(r){var n=r.trans,s=r.type,o=r.keys,u=r.values,c=r.range,l=r.wantResults;return new Promise((function(r,g){r=Qe(r);var h=n.objectStore(t),p=null==h.keyPath,f="put"===s||"add"===s;if(!f&&"delete"!==s&&"deleteRange"!==s)throw new Error("Invalid operation type: "+s);var d=(o||u||{length:1}).length;if(o&&u&&o.length!==u.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return r({numFailures:0,failures:{},results:[],lastResult:void 0});var y,m=l&&i(o||pr(e.primaryKey,{type:s,keys:o,values:u})),v=[],S=0,b=function(e){++S,ar(e),m&&(m[e.target._reqno]=void 0),v[e.target._reqno]=e.target.error},E=function(e){var t=e.target;m[t._reqno]=t.result};if("deleteRange"===s){if(4===c.type)return r({numFailures:S,failures:v,results:m,lastResult:void 0});y=3===c.type?h.clear():h.delete(a(c))}else{var w=f?p?[u,o]:[u,null]:[o,null],A=w[0],x=w[1];if(f)for(var R=0;R<d;++R)(y=x&&void 0!==x[R]?h[s](A[R],x[R]):h[s](A[R]))._reqno=R,m&&void 0===m[R]&&(y.onsuccess=E),y.onerror=b;else for(R=0;R<d;++R)(y=h[s](A[R]))._reqno=R,y.onerror=b}var F=function(e){var t=e.target.result;m&&(m[d-1]=t),r({numFailures:S,failures:v,results:m,lastResult:t})};y.onerror=function(e){b(e),F(e)},y.onsuccess=F}))},getMany:function(e){var r=e.trans,n=e.keys;return new Promise((function(e,i){e=Qe(e);for(var s,o=r.objectStore(t),a=n.length,u=new Array(a),c=0,l=0,g=function(t){var r=t.target;u[r._pos]=r.result,++l===c&&e(u)},h=or(i),p=0;p<a;++p)null!=n[p]&&((s=o.get(n[p]))._pos=p,s.onsuccess=g,s.onerror=h,++c);0===c&&e(u)}))},get:function(e){var r=e.trans,n=e.key;return new Promise((function(e,i){e=Qe(e);var s=r.objectStore(t).get(n);s.onsuccess=function(t){return e(t.target.result)},s.onerror=or(i)}))},query:function(e){return function(r){return new Promise((function(n,i){n=Qe(n);var s=r.trans,o=r.values,u=r.limit,c=r.query,l=u===1/0?void 0:u,g=c.index,h=c.range,p=s.objectStore(t),f=g.isPrimaryKey?p:p.index(g.name),d=a(h);if(0===u)return n({result:[]});if(e){var y=o?f.getAll(d,l):f.getAllKeys(d,l);y.onsuccess=function(e){return n({result:e.target.result})},y.onerror=or(i)}else{var m=0,v=o||!("openKeyCursor"in f)?f.openCursor(d):f.openKeyCursor(d),S=[];v.onsuccess=function(e){var t=v.result;return t?(S.push(o?t.value:t.primaryKey),++m===u?n({result:S}):void t.continue()):n({result:S})},v.onerror=or(i)}}))}}(l),openCursor:function(e){var r=e.trans,n=e.values,i=e.query,s=e.reverse,o=e.unique;return new Promise((function(e,u){e=Qe(e);var c=i.index,l=i.range,g=r.objectStore(t),h=c.isPrimaryKey?g:g.index(c.name),p=s?o?"prevunique":"prev":o?"nextunique":"next",f=n||!("openKeyCursor"in h)?h.openCursor(a(l),p):h.openKeyCursor(a(l),p);f.onerror=or(u),f.onsuccess=Qe((function(t){var n=f.result;if(n){n.___id=++dr,n.done=!1;var i=n.continue.bind(n),s=n.continuePrimaryKey;s&&(s=s.bind(n));var o=n.advance.bind(n),a=function(){throw new Error("Cursor not stopped")};n.trans=r,n.stop=n.continue=n.continuePrimaryKey=n.advance=function(){throw new Error("Cursor not started")},n.fail=Qe(u),n.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},n.start=function(e){var t=new Promise((function(e,t){e=Qe(e),f.onerror=or(t),n.fail=t,n.stop=function(t){n.stop=n.continue=n.continuePrimaryKey=n.advance=a,e(t)}})),r=function(){if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=function(){throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=Qe((function(e){f.onsuccess=r,r()})),n.continue=i,n.continuePrimaryKey=s,n.advance=o,r(),t},e(n)}else e(null)}),u)}))},count:function(e){var r=e.query,n=e.trans,i=r.index,s=r.range;return new Promise((function(e,r){var o=n.objectStore(t),u=i.isPrimaryKey?o:o.index(i.name),c=a(s),l=c?u.count(c):u.count();l.onsuccess=Qe((function(t){return e(t.target.result)})),l.onerror=or(r)}))}}}(e)})),h={};return g.forEach((function(e){return h[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!h[e])throw new Error("Table '"+e+"' not found");return h[e]},cmp:s,MIN_KEY:-1/0,MAX_KEY:sr(r),schema:c}}function vr(e,t){var r=t.db,i=function(e,t,r,i){var s=r.IDBKeyRange;return{dbcore:function(e,t){return t.reduce((function(e,t){var r=t.create;return n(n({},e),r(e))}),e)}(mr(t,r.indexedDB,s,i),e.dbcore)}}(e._middlewares,r,e._deps,t);e.core=i.dbcore,e.tables.forEach((function(t){var r=t.name;e.core.schema.tables.some((function(e){return e.name===r}))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function Sr(e,t,r,n){r.forEach((function(r){var i=n[r];t.forEach((function(t){var n=m(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,r,{get:function(){return this.table(r)},set:function(e){p(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))}))}))}function br(e,t){t.forEach((function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]}))}function Er(e,t){return e._cfg.version-t._cfg.version}function wr(e,t){var r,n={del:[],add:[],change:[]};for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],s=t[r];if(i){var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Tt)o.recreate=!0,n.change.push(o);else{var a=i.idxByName,u=s.idxByName,c=void 0;for(c in a)u[c]||o.del.push(c);for(c in u){var l=a[c],g=u[c];l?l.src!==g.src&&o.change.push(g):o.add.push(g)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function Ar(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((function(e){return xr(i,e)})),i}function xr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Rr(e,t,r){var n={};return S(t.objectStoreNames,0).forEach((function(e){for(var t=r.objectStore(e),i=t.keyPath,s=cr(lr(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),o=[],a=0;a<t.indexNames.length;++a){var u=t.index(t.indexNames[a]);i=u.keyPath;var c=cr(u.name,i,!!u.unique,!!u.multiEntry,!1,i&&"string"!=typeof i,!1);o.push(c)}n[e]=gr(e,s,o)})),n}function Fr(e,t,r){for(var n=r.db.objectStoreNames,i=0;i<n.length;++i){var s=n[i],o=r.objectStore(s);e._hasGetAll="getAll"in o;for(var u=0;u<o.indexNames.length;++u){var c=o.indexNames[u],l=o.index(c).keyPath,g="string"==typeof l?l:"["+S(l).join("+")+"]";if(t[s]){var h=t[s].idxByName[g];h&&(h.name=c,delete t[s].idxByName[g],t[s].idxByName[c]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var _r,Tr=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){s(e).forEach((function(r){if(null!==e[r]){var n=e[r].split(",").map((function(e,t){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return cr(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(n),0===t)})),i=n.shift();if(i.multi)throw new ie.Schema("Primary key cannot be multi-valued");n.forEach((function(e){if(e.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")})),t[r]=gr(r,i,n)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,e):e;var r=t._versions,n={},i={};return r.forEach((function(e){u(n,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(n,i)})),t._dbSchema=i,br(t,[t._allTables,t,t.Transaction.prototype]),Sr(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(i),i),t._storeNames=s(i),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function Cr(e){return ot((function(){return Ne.letThrough=!0,e()}))}function Pr(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?bt(t.dbOpenError):e}));q&&(t.openCanceller._stackHolder=G()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.dbReadyResolve,i=null;return He.race([t.openCanceller,new He((function(n,o){if(!r)throw new ie.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=e.name,u=t.autoSchema?r.open(a):r.open(a,Math.round(10*e.verno));if(!u)throw new ie.MissingAPI("IndexedDB API not available");u.onerror=or(o),u.onblocked=Qe(e._fireOnBlocked),u.onupgradeneeded=Qe((function(n){if(i=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=ar,i.abort(),u.result.close();var c=r.deleteDatabase(a);c.onsuccess=c.onerror=Qe((function(){o(new ie.NoSuchDatabase("Database "+a+" doesnt exist"))}))}else{i.onerror=or(o);var l=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;e.idbdb=u.result,function(e,t,r,n){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(n);var a=o._reject.bind(o),u=Ne.transless||Ne;ot((function(){Ne.trans=o,Ne.transless=u,0===t?(s(i).forEach((function(e){Ar(r,e,i[e].primKey,i[e].indexes)})),vr(e,r),He.follow((function(){return e.on.populate.fire(o)})).catch(a)):function(e,t,r,n){var i=[],o=e._versions,a=e._dbSchema=Rr(0,e.idbdb,n),u=!1;return o.filter((function(e){return e._cfg.version>=t})).forEach((function(o){i.push((function(){var i=a,c=o._cfg.dbschema;Fr(e,i,n),Fr(e,c,n),a=e._dbSchema=c;var l=wr(i,c);l.add.forEach((function(e){Ar(n,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){return xr(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),xr(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var g=o._cfg.contentUpgrade;if(g&&o._cfg.version>t){vr(e,n),r._memoizedTables={},u=!0;var h=_(c);l.del.forEach((function(e){h[e]=i[e]})),br(e,[e.Transaction.prototype]),Sr(e,[e.Transaction.prototype],s(h),h),r.schema=h;var p,f=k(g);f&&at();var d=He.follow((function(){if((p=g(r))&&f){var e=ut.bind(null,null);p.then(e,e)}}));return p&&"function"==typeof p.then?He.resolve(p):d.then((function(){return p}))}})),i.push((function(t){u&&Ct||function(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var n=t.db.objectStoreNames[r];null==e[n]&&t.db.deleteObjectStore(n)}}(o._cfg.dbschema,t),br(e,[e.Transaction.prototype]),Sr(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return i.length?He.resolve(i.shift()(r.idbtrans)).then(e):He.resolve()}().then((function(){var e,t;t=n,s(e=a).forEach((function(r){t.db.objectStoreNames.contains(r)||Ar(t,r,e[r].primKey,e[r].indexes)}))}))}(e,t,o,r).catch(a)}))}(e,l/10,i,o)}}),o),u.onsuccess=Qe((function(){i=null;var r=e.idbdb=u.result,o=S(r.objectStoreNames);if(o.length>0)try{var c=r.transaction(ir(o),"readonly");t.autoSchema?function(e,t,r){e.verno=t.version/10;var n=e._dbSchema=Rr(0,t,r);e._storeNames=S(t.objectStoreNames,0),Sr(e,[e._allTables],s(n),n)}(e,r,c):(Fr(e,e._dbSchema,c),function(e,t){var r=wr(Rr(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((function(e){return e.add.length||e.change.length})))}(e,c)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vr(e,c)}catch(e){}_t.push(e),r.onversionchange=Qe((function(r){t.vcFired=!0,e.on("versionchange").fire(r)})),_r.add(a),n()}),o)}))]).then((function(){return t.onReadyBeingFired=[],He.resolve(Cr(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(de,ae);return t.onReadyBeingFired=[],He.resolve(Cr(r)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(r){try{i&&i.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=r,bt(t.dbOpenError)})).finally((function(){t.openComplete=!0,n()}))}function Ir(e){var t=function(t){return e.next(t)},r=i(t),n=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(r,n):o(s)?Promise.all(s).then(r,n):r(s)}}return i(t)()}function Dr(e,t,r){var n=arguments.length;if(n<2)throw new ie.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var s=C(i);return[e,s,r]}function Or(e,t,r,n,i){return He.resolve().then((function(){var s=Ne.transless||Ne,o=e._createTransaction(t,r,e._dbSchema,n),a={trans:o,transless:s};n?o.idbtrans=n.idbtrans:o.create();var u,c=k(i);c&&at();var l=He.follow((function(){if(u=i.call(o,o))if(c){var e=ut.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Ir(u))}),a);return(u&&"function"==typeof u.then?He.resolve(u).then((function(e){return o.active?e:bt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return u}))).then((function(e){return n&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),bt(e)}))}))}function Nr(e,t,r){for(var n=o(e)?e.slice():[e],i=0;i<r;++i)n.push(t);return n}var Br={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return n(n({},e),{table:function(t){var r=e.table(t),i=r.schema,s={},o=[];function a(e,t,r){var i=yr(e),u=s[i]=s[i]||[],c=null==e?0:"string"==typeof e?1:e.length,l=t>0,g=n(n({},r),{isVirtual:l,isPrimaryKey:!l&&r.isPrimaryKey,keyTail:t,keyLength:c,extractKey:hr(e),unique:!l&&r.unique});return u.push(g),g.isPrimaryKey||o.push(g),c>1&&a(2===c?e[0]:e.slice(0,c-1),t+1,r),u.sort((function(e,t){return e.keyTail-t.keyTail})),g}var u=a(i.primaryKey.keyPath,0,i.primaryKey);s[":id"]=[u];for(var c=0,l=i.indexes;c<l.length;c++){var g=l[c];a(g.keyPath,0,g)}function h(t){var r,i,s=t.query.index;return s.isVirtual?n(n({},t),{query:{index:s,range:(r=t.query.range,i=s.keyTail,{type:1===r.type?2:r.type,lower:Nr(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Nr(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):t}return n(n({},r),{schema:n(n({},i),{primaryKey:u,indexes:o,getIndexByKeyPath:function(e){var t=s[yr(e)];return t&&t[0]}}),count:function(e){return r.count(h(e))},query:function(e){return r.query(h(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,s=n.isVirtual,o=n.keyLength;return s?r.openCursor(h(t)).then((function(r){return r&&function(r){return Object.create(r,{continue:{value:function(n){null!=n?r.continue(Nr(n,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?r.continue(Nr(r.key,t.reverse?e.MIN_KEY:e.MAX_KEY,i)):r.continue()}},continuePrimaryKey:{value:function(t,n){r.continuePrimaryKey(Nr(t,e.MAX_KEY,i),n)}},key:{get:function(){var e=r.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return r.value}}})}(r)})):r.openCursor(t)}})}})}},jr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return n(n({},e),{table:function(t){var r=e.table(t),s=r.schema.primaryKey;return n(n({},r),{mutate:function(e){var o=Ne.trans,a=o.table(t).hook,u=a.deleting,c=a.creating,l=a.updating;switch(e.type){case"add":if(c.fire===ae)break;return o._promise("readwrite",(function(){return h(e)}),!0);case"put":if(c.fire===ae&&l.fire===ae)break;return o._promise("readwrite",(function(){return h(e)}),!0);case"delete":if(u.fire===ae)break;return o._promise("readwrite",(function(){return h(e)}),!0);case"deleteRange":if(u.fire===ae)break;return o._promise("readwrite",(function(){return function(e){return p(e.trans,e.range,1e4)}(e)}),!0)}return r.mutate(e);function h(e){var t=Ne.trans,o=e.keys||pr(s,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?n(n({},e),{keys:o,wantResults:!0}):n({},e)).type&&(e.values=i(e.values)),e.keys&&(e.keys=i(e.keys)),function(e,t,r){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:r})}(r,e,o).then((function(n){var i=o.map((function(r,i){var o=n[i],a={onerror:null,onsuccess:null};if("delete"===e.type)u.fire.call(a,r,o,t);else if("add"===e.type||void 0===o){var h=c.fire.call(a,r,e.values[i],t);null==r&&null!=h&&(r=h,e.keys[i]=r,s.outbound||R(e.values[i],s.keyPath,r))}else{var p=L(o,e.values[i]),f=l.fire.call(a,p,r,o,t);if(f){var d=e.values[i];Object.keys(f).forEach((function(e){g(d,e)?d[e]=f[e]:R(d,e,f[e])}))}}return a}));return r.mutate(e).then((function(t){for(var r=t.failures,s=t.results,a=t.numFailures,u=t.lastResult,c=0;c<o.length;++c){var l=s?s[c]:o[c],g=i[c];null==l?g.onerror&&g.onerror(r[c]):g.onsuccess&&g.onsuccess("put"===e.type&&n[c]?e.values[c]:l)}return{failures:r,results:s,numFailures:a,lastResult:u}})).catch((function(e){return i.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function p(e,t,i){return r.query({trans:e,values:!1,query:{index:s,range:t},limit:i}).then((function(r){var s=r.result;return h({type:"delete",keys:s,trans:e}).then((function(r){return r.numFailures>0?Promise.reject(r.failures[0]):s.length<i?{failures:[],numFailures:0,lastResult:void 0}:p(e,n(n({},t),{lower:s[s.length-1],lowerOpen:!0}),i)}))}))}}})}})}},Lr=function(){function e(t,r){var i=this;this._middlewares={},this.verno=0;var s=e.dependencies;this._options=r=n({addons:e.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var o=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var a,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ae,dbReadyPromise:null,cancelOpen:ae,openCanceller:null,autoSchema:!0};u.dbReadyPromise=new He((function(e){u.dbReadyResolve=e})),u.openCanceller=new He((function(e,t){u.cancelOpen=t})),this._state=u,this.name=t,this.on=Mt(this,"populate","blocked","versionchange",{ready:[de,ae]}),this.on.ready.subscribe=b(this.on.ready.subscribe,(function(t){return function(r,n){e.vip((function(){var e=i._state;if(e.openComplete)e.dbOpenError||He.resolve().then(r),n&&t(r);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(r),n&&t(r);else{t(r);var s=i;n||t((function e(){s.on.ready.unsubscribe(r),s.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,Ut($t.prototype,(function(e,t){this.db=a;var r=jt,n=null;if(t)try{r=t()}catch(e){n=e}var i=e._ctx,s=i.table,o=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:o!==ue?o:null}}))),this.Table=function(e){return Ut(Ht.prototype,(function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:Mt(null,{creating:[ge,ae],reading:[ce,ue],updating:[pe,ae],deleting:[he,ae]})}))}(this),this.Transaction=function(e){return Ut(ur.prototype,(function(t,r,n,i){var s=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.idbtrans=null,this.on=Mt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new He((function(e,t){s._resolve=e,s._reject=t})),this._completion.then((function(){s.active=!1,s.on.complete.fire()}),(function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),bt(e)}))}))}(this),this.Version=function(e){return Ut(Tr.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Ut(nr.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};var i=e._deps.indexedDB;if(!i)throw new ie.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+i.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+i.name+"'. Closing db now to resume the delete request."),i.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+i.name+"') was blocked"):console.warn("Upgrade '"+i.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=sr(r.IDBKeyRange),this._createTransaction=function(e,t,r,n){return new i.Transaction(e,t,r,n)},this._fireOnBlocked=function(e){i.on("blocked").fire(e),_t.filter((function(e){return e.name===i.name&&e!==i&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Br),this.use(jr),o.forEach((function(e){return e(i)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ie.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter((function(t){return t._cfg.version===e}))[0];return r||(r=new this.Version(e),t.push(r),t.sort(Er),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||Ne.letThrough?e():new He((function(e,r){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void r(new ie.DatabaseClosed);t.open().catch(ae)}t._state.dbReadyPromise.then(e,r)})).then(e)},e.prototype.use=function(e){var t=e.stack,r=e.create,n=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:r,level:null==n?10:n,name:i}),s.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,r=e.name,n=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return n?e.create!==n:!!r&&e.name!==r}))),this},e.prototype.open=function(){return Pr(this)},e.prototype.close=function(){var e=_t.indexOf(this),t=this._state;if(e>=0&&_t.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new ie.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new He((function(e){t.dbReadyResolve=e})),t.openCanceller=new He((function(e,r){t.cancelOpen=r}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,r=this._state;return new He((function(n,i){var s=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Qe((function(){_r.remove(e.name),n()})),t.onerror=or(i),t.onblocked=e._fireOnBlocked};if(t)throw new ie.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return s(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=Dr.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,r){var n=this,i=Ne.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var s,o,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){var t=e instanceof n.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Ot)s=Ot;else{if("rw"!=e&&e!=Nt)throw new ie.InvalidArgument("Invalid transaction mode: "+e);s=Nt}if(i){if(i.mode===Ot&&s===Nt){if(!a)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!a)throw new ie.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),a&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,(function(t,r){r(e)})):bt(e)}var u=Or.bind(null,this,s,o,i,r);return i?i._promise(s,u,"lock"):Ne.trans?ft(Ne.transless,(function(){return n._whenReady(u)})):this._whenReady(u)},e.prototype.table=function(e){if(!g(this._allTables,e))throw new ie.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),Hr=Lr;h(Hr,n(n({},oe),{delete:function(e){return new Hr(e).delete()},exists:function(e){return new Hr(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return _r?_r.getDatabaseNames().then(e):He.resolve([])},defineClass:function(){return function(e){u(this,e)}},ignoreTransaction:function(e){return Ne.trans?ft(Ne.transless,e):e()},vip:Cr,async:function(e){return function(){try{var t=Ir(e.apply(this,arguments));return t&&"function"==typeof t.then?t:He.resolve(t)}catch(e){return bt(e)}}},spawn:function(e,t,r){try{var n=Ir(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:He.resolve(n)}catch(e){return bt(e)}},currentTransaction:{get:function(){return Ne.trans||null}},waitFor:function(e,t){var r=He.resolve("function"==typeof e?Hr.ignoreTransaction(e):e).timeout(t||6e4);return Ne.trans?Ne.trans.waitFor(r):r},Promise:He,debug:{get:function(){return q},set:function(e){K(e,"dexie"===e?function(){return!0}:It)}},derive:d,extend:u,props:h,override:b,Events:Mt,getByKeyPath:x,setByKeyPath:R,delByKeyPath:F,shallowClone:_,deepClone:O,getObjectDiff:L,asap:w,minKey:xt,addons:[],connections:_t,errnames:re,dependencies:function(){try{return{indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:wt,version:wt.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,r){return e+t/Math.pow(10,2*r)})),default:Hr,Dexie:Hr})),Hr.maxKey=sr(Hr.dependencies.IDBKeyRange),function(e){try{_r=function(e){var t,r=e&&"function"==typeof e.databases;if(!r){var n=new Lr(Dt,{addons:[]});n.version(1).stores({dbnames:"name"}),t=n.table("dbnames")}return{getDatabaseNames:function(){return r?He.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==Dt}))})):t.toCollection().primaryKeys()},add:function(e){return!r&&e!==Dt&&t.put({name:e}).catch(ae)},remove:function(e){return!r&&e!==Dt&&t.delete(e).catch(ae)}}}(e)}catch(e){}}(Lr.dependencies.indexedDB),He.rejectionMapper=function(e,t){if(!e||e instanceof Z||e instanceof TypeError||e instanceof SyntaxError||!e.name||!se[e.name])return e;var r=new se[e.name](t||e.message,e);return"stack"in e&&f(r,"stack",{get:function(){return this.inner.stack}}),r},K(q,It);const Mr=Lr},3019:function(__unused_webpack_module,exports,__webpack_require__){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var s=e[i];if(t.call(r,s,i,e))return{i,v:s}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==__webpack_require__.g&&null!=__webpack_require__.g?__webpack_require__.g:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,i=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var s=0;s<i&&t<n;)if(r[t++]!=e[s++])return!1;return s>=i}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var s=goog.basePath+goog.TRANSPILER,o=goog.loadFileSync_(s);if(o){if(function(){(0,eval)(o+"\n//# sourceURL="+s)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var i=Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.superClass_.constructor.apply(e,i)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];s=!1;for(var o=e.constructor.prototype;o;o=Object.getPrototypeOf(o))if(o[t]===n)s=!0;else if(s)return o[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var i=0;i<e.length;i++){var s=this.getPathFromDeps_(e[i]);if(!s)throw Error("Unregonized namespace: "+e[i]);t.push(this.dependencies_[s])}s=goog.require;var o=0;for(i=0;i<e.length;i++)s(e[i]),t[i].onLoad((function(){++o==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],n=function(e){var i=t.getPathFromDeps_(e);if(!i)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[i]){for(t.written_[i]=!0,e=t.dependencies_[i],i=0;i<e.requires.length;i++)goog.isProvided_(e.requires[i])||n(e.requires[i]);r.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var s={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(s)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,i){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1)),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())})),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var i=t.createElement("script");i.defer=goog.Dependency.defer_,i.async=!1,i.type="text/javascript",(n=goog.getScriptNonce())&&i.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(e.loaded(),e.resume())}):i.onload=function(){i.onload=null,e.loaded()},i.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(i)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){e=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&n.setAttribute("nonce",i),r?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var i=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(i),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+i+'")'),n(this.path,void 0);var s=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(s),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+s+'", m)');var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+o+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),i)var s=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),s)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var s=1<e.pending().length,o=s&&goog.DebugLoader_.IS_OLD_IE_;if(s=goog.Dependency.defer_&&(s||goog.isDocumentLoading_()),o||s)e.defer((function(){r()}));else{var a=goog.global.document;if(o=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!o){goog.Dependency.defer_=!0,e.pause();var u=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=u,r(),e.resume()),goog.isFunction(u)&&u.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,i,s){goog.TransformedDependency.call(this,e,t,r,n,i),this.transpiler=s},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,i){goog.TransformedDependency.call(this,e,t,r,n,i)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,i,s,o){goog.TransformedDependency.call(this,e,t,r,n,i),this.needsTranspile_=s,this.transpiler_=o},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(i,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,i,s){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,i,s,this.transpiler):s?new goog.TranspiledDependency(e,t,r,n,i,this.transpiler):i.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,i):new goog.Es6ModuleDependency(e,t,r,n,i):new goog.Dependency(e,t,r,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var s=n}else e&&(i+=": "+e,s=t);e=new goog.asserts.AssertionError(""+i,s||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)s in i&&t.call(r,i[s],s,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(r,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=[],s=0,o=goog.isString(e)?e.split(""):e,a=0;a<n;a++)if(a in o){var u=o[a];t.call(r,u,a,e)&&(i[s++]=u)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=Array(n),s=goog.isString(e)?e.split(""):e,o=0;o<n;o++)o in s&&(i[o]=t.call(r,s[o],o,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEach(e,(function(r,s){i=t.call(n,i,r,s,e)})),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEachRight(e,(function(r,s){i=t.call(n,i,r,s,e)})),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in i&&t.call(r,i[s],s,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in i&&!t.call(r,i[s],s,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,(function(e,i,s){t.call(r,e,i,s)&&++n}),r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in i&&t.call(r,i[s],s,e))return s;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(r,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,(function(i,s){t.call(r,i,s,e)&&goog.array.removeAt(e,s)&&n++})),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var i=e.length||0,s=n.length||0;e.length=i+s;for(var o=0;o<s;o++)e[i+o]=n[o]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var i=0,s=0;s<e.length;){var o=e[s++],a=r(o);Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,t[i++]=o)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,i){for(var s,o=0,a=e.length;o<a;){var u=o+a>>1,c=r?t.call(i,e[u],u,e):t(n,e[u]);0<c?o=u+1:(a=u,s=!c)}return s?o:~o},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return i(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return n(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var s=r(e[i],t[i]);if(0!=s)return s}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},i=0;i<e.length;i++){var s=e[i],o=t.call(r,s,i,e);goog.isDef(o)&&(n[o]||(n[o]=[])).push(s)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,(function(i,s){n[t.call(r,i,s,e)]=i})),n},goog.array.range=function(e,t,r){var n=[],i=0,s=e;if(void 0!==t&&(i=e,s=t),0>(r=r||1)*(s-i))return[];if(0<r)for(e=i;e<s;e+=r)n.push(e);else for(e=i;e>s;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var i=0;i<n.length;i+=8192){var s=goog.array.slice(n,i,i+8192);s=goog.array.flatten.apply(null,s);for(var o=0;o<s.length;o++)t.push(s[o])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);255<i&&(t[r++]=255&i,i>>=8),t[r++]=i}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var s=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(239<i&&365>i){s=e[r++];var o=e[r++];i=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else s=e[r++],o=e[r++],t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),i=0;0==r&&i<n;i++){var s=e[i]||"",o=t[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;r=0==s[1].length?0:parseInt(s[1],10);var a=0==o[1].length?0:parseInt(o[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==s[2].length,0==o[2].length)||goog.string.internal.compareElements_(s[2],o[2]),s=s[3],o=o[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,i=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var s=e[t];goog.i18n.bidi.startsWithRtl(s)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?i=!0:goog.i18n.bidi.hasAnyLtr(s)?n++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var n in r){var i=r[n];i=goog.isArray(i)?i:[i];for(var s=0;s<i.length;s++){var o=i[s];null!=o&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(o)))}}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&r?t=!t:'"'==i&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var i=e.charAt(n);if("]"==i){if(t)return!1;t=!0}else if("["==i){if(!t)return!1;t=!1}else if(!t&&!r.test(i))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,n){var i="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return i=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+i+e+i+n}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,i={};for(n in e)t.call(r,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,r){var n,i={};for(n in e)i[n]=t.call(r,e[n],n,e);return i},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var s=0;s<goog.object.PROTOTYPE_FIELDS_.length;s++)r=goog.object.PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),s=0;s<i.length;s++)n[i[s]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var i=e[n];if(t[i])r.push(t[i]);else if(goog.object.contains(t,i)&&r.pop()!=i)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox="",e=goog.html.SafeHtml.combineAttributes(i,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[],i=function(e){goog.isArray(e)?goog.array.forEach(e,i):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,i="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),i+=">"):(n=goog.html.SafeHtml.concat(r),i+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var i=t[n];goog.isDefAndNotNull(i)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,i))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];for(n in r){var s=n.toLowerCase();if(s in e)throw Error('Cannot override "'+s+'" attribute, got "'+n+'" with value "'+r[n]+'"');s in t&&delete i[s],i[n]=r[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(i){goog.global.clearTimeout(n);var s=arguments;n=goog.global.setTimeout((function(){e.apply(r,s)}),t)}},goog.functions.throttle=function(e,t,r){var n=0,i=!1,s=[],o=function(){n=0,i&&(i=!1,a())},a=function(){n=goog.global.setTimeout(o,t),e.apply(r,s)};return function(e){s=arguments,n?i=!0:a()}},goog.functions.rateLimit=function(e,t,r){var n=0,i=function(){n=0};return function(s){n||(n=goog.global.setTimeout(i,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild||(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),t.parentElement))})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",n,i)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),s=Math.min(n.length,i.length),o=0;o<s;o++){r=n[o];var a=i[o];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var i=r[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=1==r?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var s=0;s<t.length;s++)n[s+1]=Math.min(n[s]+1,r[s+1]+1,r[s]+Number(e[i]!=t[s]));for(s=0;s<r.length;s++)r[s]=n[s]}return n[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],s=n+1<e.length,o=s?e[n+1]:0,a=n+2<e.length,u=a?e[n+2]:0,c=i>>2;i=(3&i)<<4|o>>4,o=(15&o)<<2|u>>6,u&=63,a||(u=64,s||(o=64)),r.push(t[c],t[i],t[o]||"",t[u]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){n[i++]=e})),n.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var i=r(-1),s=r(0),o=r(64),a=r(64);if(64===a&&-1===i)break;t(i<<2|s>>4),64!=o&&(t(s<<4&240|o>>2),64!=a&&t(o<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var i=0;i<n.length;i++){var s=n[i],o=goog.crypt.base64.charToByteMap_[s];void 0===o?goog.crypt.base64.charToByteMap_[s]=i:goog.asserts.assert(o===i)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=e.charCodeAt(4),o=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(i<<24)>>>0,jspb.utils.split64High=s+(o<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),i=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+i)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var i=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(i++;;){var s=e[t++];if(0==(128&s))break}else for(;t<r;){for(s=n;128<s;){if(e[t]!=(127&s|128))return i;t++,s>>=7}if(e[t++]!=s)break;for(i++;0!=(128&(s=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,n,i){var s=0;if(128>n)for(;t<r&&e[t++]==n;)s++,t+=i;else for(;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return s;o>>=7}if(e[t++]!=o)break;s++,t+=i}return s},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var i=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var s=n;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++;for(var o=0,a=1;o+=(127&(s=e[t++]))*a,a*=128,0!=(128&s););t+=o}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||"undefined"!=typeof Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,i=0,s=r+7;s>=r;s--)n=n<<8|t[s],i=i<<8|t[s+4];return e(n,i)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],i="";r<e;){var s=t[r++];if(128>s)n.push(s);else{if(192>s)continue;if(224>s){var o=t[r++];n.push((31&s)<<6|63&o)}else if(240>s){o=t[r++];var a=t[r++];n.push((15&s)<<12|(63&o)<<6|63&a)}else 248>s&&(s=(7&s)<<18|(63&(o=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],s-=65536,n.push(55296+(s>>10&1023),56320+(1023&s)))}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=goog.crypt.byteArrayToString(n),this.cursor_=r,i},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],i=e[t+2],s=e[t+3],o=e[t+4],a=e[t+5],u=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,i,s,o,a,u,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],i=0;i<r.length;i++){var s=this.map_[r[i][0].toString()];this.wrapEntry_(s);var o=s.valueWrapper;o?(goog.asserts.assert(t),n.push([s.key,t(e,o)])):n.push([s.key,s.value])}return n},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var i=e[n][0],s=r(e[n][1]);t.set(i,s)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var i=this.map_[r[n]];e.call(t,this.wrapEntry_(i),i.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,n,i){var s=this.stringKeys_();s.sort();for(var o=0;o<s.length;o++){var a=this.map_[s[o]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(a),i):n.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,n,i,s,o){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?s=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(i),o||(o=new e.valueCtor_),n.call(t,o,i)):o=n.call(t))}goog.asserts.assert(null!=s),goog.asserts.assert(null!=o),e.set(s,o)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=i},jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,i,s){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=i,this.isPacked=s},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,i,s){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)(r=i[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(s&&s.length)for(t=0;t<s.length;t++)jspb.Message.computeOneofCase(e,s[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n},jspb.Message.toObjectExtension=function(e,t,r,n,i){for(var s in r){var o=r[s],a=n.call(e,o);if(null!=a){for(var u in o.fieldName)if(o.fieldName.hasOwnProperty(u))break;t[u]=o.toObjectFn?o.isRepeated?jspb.Message.toObjectList(a,o.toObjectFn,i):o.toObjectFn(i,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var s=r[i],o=s.fieldInfo;if(!s.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(e,o);if(null!=a)if(o.isMessageType()){if(!s.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");s.binaryWriterFn.call(t,o.fieldIndex,a,s.binaryMessageSerializeFn)}else s.binaryWriterFn.call(t,o.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,n,i){var s=r[t.getFieldNumber()];if(s){if(r=s.fieldInfo,!s.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var o=new r.ctor;s.binaryReaderFn.call(t,o,s.binaryMessageDeserializeFn)}else o=s.binaryReaderFn.call(t);r.isRepeated&&!s.isPacked?(t=n.call(e,r))?t.push(o):i.call(e,r,[o]):i.call(e,r,o)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,n)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},jspb.Message.computeOneofCase=function(e,t){for(var r,n,i=0;i<t.length;i++){var s=t[i],o=jspb.Message.getField(e,s);null!=o&&(r=s,n=o,jspb.Message.setField(e,s,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(n||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),i=[],s=0;s<n.length;s++)i[s]=new t(n[s]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.setOneofWrapperField=function(e,t,r,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,i)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,i){jspb.Message.wrapRepeatedField_(e,n,t);var s=e.wrappers_[t];return s||(s=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=i?(s.splice(i,0,r),e.splice(i,0,r.toArray())):(s.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,n){for(var i={},s=0;s<e.length;s++)i[t.call(e[s])]=r?r.call(e[s],n,e[s]):e[s];return i},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],i=0,s=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),i=1);i<s;i++)jspb.Message.compareFields(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,s=Math.max(e.length,t.length);for(r=0;r<s;r++){var o=e[r],a=t[r];if(o&&o.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===e.length-1),n=o,o=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(r===t.length-1),i=a,a=void 0),!jspb.Message.compareFields(o,a))return!1}return!n&&!i||(n=n||{},i=i||{},jspb.Message.compareExtensions(n,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*((e>>>=16)*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var i=parseInt(e[n],10);r.lo=i,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var s=t[i];e.set(s,n),n+=s.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,goog.asserts.assert(n==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitFixed64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitZigzagVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitFixed64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitVarint64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=this.encoder_,s=0;s<t.length;s++)jspb.utils.toZigzag64(r(t[s]),n(t[s]),(function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},6774:(e,t,r)=>{var n=r(3019),i=n,s=Function("return this")();i.exportSymbol("proto.google.protobuf.Empty",null,s),proto.google.protobuf.Empty=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.google.protobuf.Empty,n.Message),i.DEBUG&&!COMPILED&&(proto.google.protobuf.Empty.displayName="proto.google.protobuf.Empty"),n.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Empty.prototype.toObject=function(e){return proto.google.protobuf.Empty.toObject(e,this)},proto.google.protobuf.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Empty.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.google.protobuf.Empty;return proto.google.protobuf.Empty.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Empty.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.google.protobuf.Empty.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.google.protobuf.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Empty.serializeBinaryToWriter=function(e,t){},i.object.extend(t,proto.google.protobuf)},3040:function(e,t,r){function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},s=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r.g&&r.g,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t){var r=s;e=e.split(".");for(var n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&i(r,e,{configurable:!0,writable:!0,value:t})}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var i=r[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function n(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=s.setTimeout;r.prototype.c=function(e){i(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new r;return t.prototype.o=function(e){var t=this.f();e.w(t.resolve,t.reject)},t.prototype.u=function(e,t){var r=this.f();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){s(e)}}:t}var i,s,o=new t((function(e,t){i=e,s=t}));return this.w(n(e,i),n(r,s)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.w=function(e,t){function r(){switch(n.b){case 1:e(n.c);break;case 2:t(n.c);break;default:throw Error("Unexpected state: "+n.b)}}var n=this;null==this.a?o.b(r):this.a.push(r)},t.resolve=n,t.reject=function(e){return new t((function(t,r){r(e)}))},t.race=function(e){return new t((function(t,r){for(var i=a(e),s=i.next();!s.done;s=i.next())n(s.value).w(t,r)}))},t.all=function(e){var r=a(e),i=r.next();return i.done?n([]):new t((function(e,t){function s(t){return function(r){o[t]=r,0==--a&&e(o)}}var o=[],a=0;do{o.push(void 0),a++,n(i.value).w(s(o.length-1),t),i=r.next()}while(!i.done)}))},t}));var u=u||{},c=this||self;function l(e,t){e=e.split("."),t=t||c;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t}function g(){}function h(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function y(e,t,r){return e.call.apply(e.bind,arguments)}function m(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function v(e,t,r){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}var S=Date.now||function(){return+new Date};function b(e,t){function r(){}r.prototype=t.prototype,e.S=t.prototype,e.prototype=new r,e.prototype.constructor=e}function E(){this.a={}}function w(e,t,r,n){this.f=e,this.c=t,this.b=r,this.a=n}function A(e,t,r,n){r=void 0===r?{}:r,this.c=e,this.a=r,this.b=t,this.f=void 0===n?null:n}function x(e,t,r,n,i,s){this.name=e,this.a=i,this.b=s}function R(e,t,r){r=void 0===r?{}:r;var n=void 0===n?new E:n;return new w(t,e,r,n)}function F(e,t,r,n){return n instanceof x?n:new x(e,r,n.b||t.constructor,n.f,n.a,n.c)}function _(e){this.a=e}function T(e){switch(e){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function C(e){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function P(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");C.call(this,r+e[n])}function I(){this.j=null,this.i=[],this.l=0,this.b=D,this.f=this.a=this.h=0,this.c=null,this.g=0}E.prototype.get=function(e){return this.a[e]},E.prototype.f=function(){return Object.keys(this.a)},w.prototype.getRequestMessage=function(){return this.f},w.prototype.getMethodDescriptor=function(){return this.c},w.prototype.getMetadata=function(){return this.b},w.prototype.getCallOptions=function(){return this.a},A.prototype.getResponseMessage=function(){return this.c},A.prototype.getMetadata=function(){return this.a},A.prototype.getMethodDescriptor=function(){return this.b},A.prototype.getStatus=function(){return this.f},_.prototype.on=function(e,t){return"data"==e||"error"==e?this:this.a.on(e,t)},_.prototype.removeListener=function(e,t){return this.a.removeListener(e,t)},_.prototype.cancel=function(){this.a.cancel()},b(C,Error),C.prototype.name="CustomError",b(P,C),P.prototype.name="AssertionError";var D=0,O=128;function N(e,t,r,n){throw e.b=3,e.j="The stream is broken @"+e.l+"/"+r+". Error: "+n+". With input:\n"+t,Error(e.j)}var B,j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},L=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function H(e,t){return-1!=e.indexOf(t)}function M(e,t){return e<t?-1:e>t?1:0}e:{var U=c.navigator;if(U){var V=U.userAgent;if(V){B=V;break e}}B=""}var k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(e){var t=1;e=e.split(":");for(var r=[];0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function K(e){return K[" "](e),e}K[" "]=g;var W,z,G=H(B,"Opera"),$=H(B,"Trident")||H(B,"MSIE"),Y=H(B,"Edge"),X=H(B,"Gecko")&&!(H(B.toLowerCase(),"webkit")&&!H(B,"Edge"))&&!(H(B,"Trident")||H(B,"MSIE"))&&!H(B,"Edge"),J=H(B.toLowerCase(),"webkit")&&!H(B,"Edge");function Z(){var e=c.document;return e?e.documentMode:void 0}e:{var Q="",ee=(z=B,X?/rv:([^\);]+)(\)|;)/.exec(z):Y?/Edge\/([\d\.]+)/.exec(z):$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):J?/WebKit\/(\S+)/.exec(z):G?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(ee&&(Q=ee?ee[1]:""),$){var te=Z();if(null!=te&&te>parseFloat(Q)){W=String(te);break e}}W=Q}var re,ne={};function ie(e){return function(e,t){var r=ne;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t()}(e,(function(){for(var t=0,r=L(String(W)).split("."),n=L(String(e)).split("."),i=Math.max(r.length,n.length),s=0;0==t&&s<i;s++){var o=r[s]||"",a=n[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=M(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||M(0==o[2].length,0==a[2].length)||M(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}c.document&&$?re=Z()||parseInt(W,10)||void 0:re=void 0;var se=re;function oe(){0!=ae&&(Object.prototype.hasOwnProperty.call(this,f)&&this[f]||(this[f]=++d)),this.F=this.F}var ae=0;oe.prototype.F=!1;var ue,ce=Object.freeze||function(e){return e};(ue=!$)||(ue=9<=Number(se));var le=ue,ge=$&&!ie("9"),he=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",g,t),c.removeEventListener("test",g,t)}catch(e){}return e}();function pe(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function fe(e,t){if(pe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(X){e:{try{K(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:de[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}pe.prototype.b=function(){this.defaultPrevented=!0},b(fe,pe);var de=ce({2:"touch",3:"pen",4:"mouse"});fe.prototype.b=function(){fe.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ge)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ye="closure_listenable_"+(1e6*Math.random()|0),me=0;function ve(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.A=i,this.key=++me,this.s=this.v=!1}function Se(e){e.s=!0,e.listener=null,e.proxy=null,e.src=null,e.A=null}function be(e){this.src=e,this.a={},this.b=0}function Ee(e,t){var r=t.type;if(r in e.a){var n,i=e.a[r],s=j(i,t);(n=0<=s)&&Array.prototype.splice.call(i,s,1),n&&(Se(t),0==e.a[r].length&&(delete e.a[r],e.b--))}}function we(e,t,r,n){for(var i=0;i<e.length;++i){var s=e[i];if(!s.s&&s.listener==t&&s.capture==!!r&&s.A==n)return i}return-1}be.prototype.add=function(e,t,r,n,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.b++);var o=we(e,t,n,i);return-1<o?(t=e[o],r||(t.v=!1)):((t=new ve(t,this.src,s,!!n,i)).v=r,e.push(t)),t};var Ae="closure_lm_"+(1e6*Math.random()|0),xe={};function Re(e,t,r,n,i){if(n&&n.once)_e(e,t,r,n,i);else if(Array.isArray(t))for(var s=0;s<t.length;s++)Re(e,t[s],r,n,i);else r=je(r),e&&e[ye]?e.f.add(String(t),r,!1,p(n)?!!n.capture:!!n,i):Fe(e,t,r,!1,n,i)}function Fe(e,t,r,n,i,s){if(!t)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i,a=Ne(e);if(a||(e[Ae]=a=new be(e)),!(r=a.add(t,r,n,o,s)).proxy)if(n=function(){var e=Oe,t=le?function(r){return e.call(t.src,t.listener,r)}:function(r){if(!(r=e.call(t.src,t.listener,r)))return r};return t}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)he||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(Pe(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}}function _e(e,t,r,n,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)_e(e,t[s],r,n,i);else r=je(r),e&&e[ye]?e.f.add(String(t),r,!0,p(n)?!!n.capture:!!n,i):Fe(e,t,r,!0,n,i)}function Te(e,t,r,n,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Te(e,t[s],r,n,i);else n=p(n)?!!n.capture:!!n,r=je(r),e&&e[ye]?(e=e.f,(t=String(t).toString())in e.a&&-1<(r=we(s=e.a[t],r,n,i))&&(Se(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[t],e.b--))):e&&(e=Ne(e))&&(t=e.a[t.toString()],e=-1,t&&(e=we(t,r,n,i)),(r=-1<e?t[e]:null)&&Ce(r))}function Ce(e){if("number"!=typeof e&&e&&!e.s){var t=e.src;if(t&&t[ye])Ee(t.f,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(Pe(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=Ne(t))?(Ee(r,e),0==r.b&&(r.src=null,t[Ae]=null)):Se(e)}}}function Pe(e){return e in xe?xe[e]:xe[e]="on"+e}function Ie(e,t,r,n){var i=!0;if((e=Ne(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==r&&!s.s&&(s=De(s,n),i=i&&!1!==s)}return i}function De(e,t){var r=e.listener,n=e.A||e.src;return e.v&&Ce(e),r.call(n,t)}function Oe(e,t){if(e.s)return!0;if(!le){var r=t||l("window.event");t=new fe(r,this);var n=!0;if(!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.a;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.a=r[i];var s=Ie(r[i],e,!0,t);n=n&&s}for(i=0;i<r.length;i++)t.a=r[i],s=Ie(r[i],e,!1,t),n=n&&s}return n}return De(e,new fe(t,this))}function Ne(e){return(e=e[Ae])instanceof be?e:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(e){return"function"==h(e)?e:(e[Be]||(e[Be]=function(t){return e.handleEvent(t)}),e[Be])}function Le(){oe.call(this),this.f=new be(this),this.N=this}function He(e,t){e=e.N;var r=t.type||t;if("string"==typeof t)t=new pe(t,e);else if(t instanceof pe)t.target=t.target||e;else{var n=t;!function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var s=0;s<k.length;s++)r=k[s],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}(t=new pe(r,e),n)}Me(e=t.a=e,r,!0,t),Me(e,r,!1,t)}function Me(e,t,r,n){if(t=e.f.a[String(t)]){t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.s&&o.capture==r){var a=o.listener,u=o.A||o.src;o.v&&Ee(e.f,o),i=!1!==a.call(u,n)&&i}}}}function Ue(e,t,r){if("function"==h(e))r&&(e=v(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function Ve(e,t,r){this.reset(e,t,r,void 0,void 0)}function ke(e){this.f=e,this.b=this.c=this.a=null}function qe(e,t){this.name=e,this.value=t}b(Le,oe),Le.prototype[ye]=!0,Le.prototype.addEventListener=function(e,t,r,n){Re(this,e,t,r,n)},Le.prototype.removeEventListener=function(e,t,r,n){Te(this,e,t,r,n)},Ve.prototype.a=null,Ve.prototype.reset=function(e,t,r,n,i){n||S(),delete this.a},qe.prototype.toString=function(){return this.name};var Ke=new qe("SEVERE",1e3),We=new qe("CONFIG",700),ze=new qe("FINE",500);function Ge(e){return e.c?e.c:e.a?Ge(e.a):(function(e,t){throw new P("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}ke.prototype.log=function(e,t,r){if(e.value>=Ge(this).value)for("function"==h(t)&&(t=t()),e=new Ve(e,String(t),this.f),r&&(e.a=r),r=this;r;)r=r.a};var $e,Ye={},Xe=null;function Je(e,t){e&&e.log(ze,t,void 0)}function Ze(){}function Qe(e){var t;return(t=e.a)||(t={},rt(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function et(){}function tt(e){return(e=rt(e))?new ActiveXObject(e):new XMLHttpRequest}function rt(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<t.length;r++){var n=t[r];try{return new ActiveXObject(n),e.b=n}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function nt(e,t){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var n=0;n<r;n+=2)this.set(arguments[n],arguments[n+1])}else e&&st(this,e)}function it(e){if(e.c!=e.a.length){for(var t=0,r=0;t<e.a.length;){var n=e.a[t];ot(e.b,n)&&(e.a[r++]=n),t++}e.a.length=r}if(e.c!=e.a.length){var i={};for(r=t=0;t<e.a.length;)ot(i,n=e.a[t])||(e.a[r++]=n,i[n]=1),t++;e.a.length=r}}function st(e,t){if(t instanceof nt)for(var r=t.f(),n=0;n<r.length;n++)e.set(r[n],t.get(r[n]));else for(r in t)e.set(r,t[r])}function ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Ze.prototype.a=null,b(et,Ze),$e=new et,nt.prototype.f=function(){return it(this),this.a.concat()},nt.prototype.get=function(e,t){return ot(this.b,e)?this.b[e]:t},nt.prototype.set=function(e,t){ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},nt.prototype.forEach=function(e,t){for(var r=this.f(),n=0;n<r.length;n++){var i=r[n],s=this.get(i);e.call(t,s,i,this)}};var at=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ut(e){Le.call(this),this.headers=new nt,this.D=e||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=ct,this.B=this.H=!1}b(ut,Le);var ct="",lt=ut.prototype,gt=function e(t){var r;if(Xe||(Xe=new ke(""),Ye[""]=Xe,Xe.c=We),!(r=Ye[t])){r=new ke(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=e(t.substr(0,n))).b||(n.b={}),n.b[i]=r,r.a=n,Ye[t]=r}return r}("goog.net.XhrIo");lt.b=gt;var ht=/^https?$/i,pt=["POST","PUT"];function ft(e){return"content-type"==e.toLowerCase()}function dt(e,t){e.c=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.i=t,e.g=5,yt(e),vt(e)}function yt(e){e.G||(e.G=!0,He(e,"complete"),He(e,"error"))}function mt(e){if(e.c&&void 0!==u)if(e.C[1]&&4==bt(e)&&2==e.getStatus())Je(e.b,wt(e,"Local request error detected and ignored"));else if(e.m&&4==bt(e))Ue(e.K,0,e);else if(He(e,"readystatechange"),4==bt(e)){Je(e.b,wt(e,"Request complete")),e.c=!1;try{var t,r=e.getStatus();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(t=n)){var i;if(i=0===r){var s=String(e.o).match(at)[1]||null;if(!s&&c.self&&c.self.location){var o=c.self.location.protocol;s=o.substr(0,o.length-1)}i=!ht.test(s?s.toLowerCase():"")}t=i}if(t)He(e,"complete"),He(e,"success");else{e.g=6;try{var a=2<bt(e)?e.a.statusText:""}catch(t){Je(e.b,"Can not get status: "+t.message),a=""}e.i=a+" ["+e.getStatus()+"]",yt(e)}}finally{vt(e)}}}function vt(e){if(e.a){St(e);var t=e.a,r=e.C[0]?g:null;e.a=null,e.C=null,He(e,"ready");try{t.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Ke,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function St(e){e.a&&e.B&&(e.a.ontimeout=null),e.u&&(c.clearTimeout(e.u),e.u=null)}function bt(e){return e.a?e.a.readyState:0}function Et(e,t){if(e.a&&4==bt(e))return null===(e=e.a.getResponseHeader(t))?void 0:e}function wt(e,t){return t+" ["+e.J+" "+e.o+" "+e.getStatus()+"]"}ut.prototype.L=function(){void 0!==u&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Je(this.b,wt(this,this.i)),He(this,"timeout"),this.abort(8))},ut.prototype.abort=function(e){this.a&&this.c&&(Je(this.b,wt(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=e||7,He(this,"complete"),He(this,"abort"),vt(this))},ut.prototype.K=function(){this.F||(this.I||this.m||this.h?mt(this):this.O())},ut.prototype.O=function(){mt(this)},ut.prototype.getStatus=function(){try{return 2<bt(this)?this.a.status:-1}catch(e){return-1}};var At={},xt=null;function Rt(){if(!xt){xt={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));At[r]=n;for(var i=0;i<n.length;i++){var s=n[i];void 0===xt[s]&&(xt[s]=i)}}}}var Ft=["content-type","grpc-status","grpc-message"];function _t(e){this.a=e.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new I;var t=this;Re(this.a,"readystatechange",(function(){var e=t.a;if(e=e.a?e.a.getResponseHeader("Content-Type"):null){if(0==(e=e.toLowerCase()).lastIndexOf("application/grpc-web-text",0)){e=t.a;try{var r=e.a?e.a.responseText:""}catch(t){Je(e.b,"Can not get responseText: "+t.message),r=""}if(r=(e=r||"").length-e.length%4,0==(e=e.substr(t.i,r-t.i)).length)return;t.i=r,e=function(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):H("=.",e[t-1])&&(r=H("=.",e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=xt[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}Rt();for(var n=0;;){var i=r(-1),s=r(0),o=r(64),a=r(64);if(64===a&&-1===i)break;t(i<<2|s>>4),64!=o&&(t(s<<4&240|o>>2),64!=a&&t(o<<6&192|a))}}(e,(function(e){n[i++]=e})),n.subarray(0,i)}(e)}else{if(0!=e.lastIndexOf("application/grpc",0))return void Ct(t,{code:2,message:"Unknown Content-type received.",metadata:{}});e=new Uint8Array(function(e){try{if(!e.a)return null;if("response"in e.a)return e.a.response;switch(e.j){case ct:case"text":return e.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.a)return e.a.mozResponseArrayBuffer}var t=e.b;return t&&t.log(Ke,"Response type "+e.j+" is not supported on this browser",void 0),null}catch(t){return Je(e.b,"Can not get response: "+t.message),null}}(t.a))}r=null;try{r=function(e,t){function r(e){a.f++,a.a=(a.a<<8)+e,4==a.f&&(a.b=2,a.g=0,"undefined"!=typeof Uint8Array?a.c=new Uint8Array(a.a):a.c=Array(a.a),0==a.a&&i())}function n(e){a.c[a.g++]=e,a.g==a.a&&i()}function i(){var e={};e[a.h]=a.c,a.i.push(e),a.b=D}var s,o,a=e,u=0;for(s=t instanceof Uint8Array||t instanceof Array?t:new Uint8Array(t);u<s.length;){switch(a.b){case 3:N(a,s,u,"stream already broken");break;case D:0==(o=s[u])||o==O?a.h=o:N(a,s,u,"invalid frame byte"),a.b=1,a.a=0,a.f=0;break;case 1:r(s[u]);break;case 2:n(s[u]);break;default:throw Error("unexpected parser state: "+a.b)}a.l++,u++}return e=a.i,a.i=[],0<e.length?e:null}(t.m,e)}catch(e){Ct(t,{code:2,message:"Error in parsing response body",metadata:{}})}if(r)for(e=0;e<r.length;e++){if(0 in r[e]){var n=r[e][0];if(n)try{var i=t.l(n);if(i){n=t;for(var s=i,o=0;o<n.b.length;o++)n.b[o](s)}}catch(e){Ct(t,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(O in r[e]&&0<r[e][O].length){for(n="",s=0;s<r[e][O].length;s++)n+=String.fromCharCode(r[e][O][s]);for(n=n.trim().split("\r\n"),s={},o=0;o<n.length;o++){var a=n[o].indexOf(":");s[n[o].substring(0,a).trim()]=n[o].substring(a+1).trim()}n=s,s=0,o="","grpc-status"in n&&(s=n["grpc-status"],delete n["grpc-status"]),"grpc-message"in n&&(o=n["grpc-message"],delete n["grpc-message"]),Ct(t,{code:Number(s),message:o,metadata:n})}}}})),Re(this.a,"complete",(function(){var e=t.a.g,r="",n={},i=function(e){var t={};e=(e.a&&4==bt(e)&&e.a.getAllResponseHeaders()||"").split("\r\n");for(var r=0;r<e.length;r++)if(!/^[\s\xa0]*$/.test(e[r])){var n=q(e[r]),i=n[0];if("string"==typeof(n=n[1])){n=n.trim();var s=t[i]||[];t[i]=s,s.push(n)}}return function(e,t){var r,n={};for(r in e)n[r]=t.call(void 0,e[r],r,e);return n}(t,(function(e){return e.join(", ")}))}(t.a);if(Object.keys(i).forEach((function(e){Ft.includes(e)||(n[e]=i[e])})),function(e,t){for(var r=0;r<e.g.length;r++)e.g[r](t)}(t,n),0!=e){switch(e){case 7:var s=10;break;case 8:s=4;break;case 6:s=function(e){switch(e){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(t.a.getStatus());break;default:s=14}10==s&&t.j||Ct(t,{code:s,message:T(e),metadata:{}})}else e=!1,"grpc-status"in i&&(s=Et(t.a,"grpc-status"),"grpc-message"in i&&(r=Et(t.a,"grpc-message")),0!=Number(s)&&(Ct(t,{code:Number(s),message:r,metadata:i}),e=!0)),e||function(e){for(var t=0;t<e.c.length;t++)e.c[t]()}(t)}))}function Tt(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function Ct(e,t){if(0!=t.code)for(var r={code:t.code,message:decodeURIComponent(t.message||""),metadata:t.metadata},n=0;n<e.f.length;n++)e.f[n](r);for(t={code:t.code,details:decodeURIComponent(t.message||""),metadata:t.metadata},r=0;r<e.h.length;r++)e.h[r](t)}function Pt(e){this.a=l("format",e)||"text",this.f=l("suppressCorsPreflight",e)||!1,this.c=l("withCredentials",e)||!1,this.b=l("streamInterceptors",e)||[],this.g=l("unaryInterceptors",e)||[]}function It(e,t,r){var n=t.getMethodDescriptor(),i=r+n.name;(r=new ut).H=e.c;var s=new _t({T:r});if(s.l=n.b,st(r.headers,t.getMetadata()),"text"==e.a?(r.headers.set("Content-Type","application/grpc-web-text"),r.headers.set("Accept","application/grpc-web-text")):r.headers.set("Content-Type","application/grpc-web+proto"),r.headers.set("X-User-Agent","grpc-web-javascript/0.1"),r.headers.set("X-Grpc-Web","1"),ot(r.headers.b,"deadline")){var o=r.headers.get("deadline");o=Math.round(o-(new Date).getTime());var a=r.headers;ot(a.b,"deadline")&&(delete a.b.deadline,a.c--,a.a.length>2*a.c&&it(a)),1/0===o&&(o=0),0<o&&r.headers.set("grpc-timeout",o+"m")}if(e.f){it(a=r.headers),o={};for(var u=0;u<a.a.length;u++){var l=a.a[u];o[l]=a.b[l]}(a=r.headers).b={},a.a.length=0,a.c=0;e:{for(g in o){var g=!1;break e}g=!0}g||(o=function(e){var t="";return function(e,t){for(var r in e)t.call(void 0,e[r],r,e)}(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}(o),"string"==typeof i?(g=encodeURIComponent("$httpHeaders"),(g+=o=null!=o?"="+encodeURIComponent(String(o)):"")&&(0>(o=i.indexOf("#"))&&(o=i.length),0>(a=i.indexOf("?"))||a>o?(a=o,u=""):u=i.substring(a+1,o),o=(i=[i.substr(0,a),u,i.substr(o)])[1],i[1]=g?o?o+"&"+g:g:o,i=i[0]+(i[1]?"?"+i[1]:"")+i[2])):i.a("$httpHeaders",o))}for(n=(t=(0,n.a)(t.getRequestMessage())).length,g=[0,0,0,0],o=new Uint8Array(5+n),a=3;0<=a;a--)g[a]=n%256,n>>>=8;if(o.set(new Uint8Array(g),1),o.set(t,5),t=o,"text"==e.a){var h;for(e=t,void 0===h&&(h=0),Rt(),h=At[h],t=[],n=0;n<e.length;n+=3){l=e[n];var p=(g=n+1<e.length)?e[n+1]:0;a=l>>2,l=(3&l)<<4|p>>4,p=(15&p)<<2|(u=(o=n+2<e.length)?e[n+2]:0)>>6,u&=63,o||(u=64,g||(p=64)),t.push(h[a],h[l],h[p]||"",h[u]||"")}t=t.join("")}else"binary"==e.a&&(r.j="arraybuffer");return function(e,t,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.o+"; newUri="+t);e.o=t,e.i="",e.g=0,e.J="POST",e.G=!1,e.c=!0,e.a=e.D?tt(e.D):tt($e),e.C=e.D?Qe(e.D):Qe($e),e.a.onreadystatechange=v(e.K,e);try{Je(e.b,wt(e,"Opening Xhr")),e.I=!0,e.a.open("POST",String(t),!0),e.I=!1}catch(t){return Je(e.b,wt(e,"Error opening Xhr: "+t.message)),void dt(e,t)}t=r||"";var n=function(e){e:{for(var t=ft,r=e.length,n="string"==typeof e?e.split(""):e,i=0;i<r;i++)if(i in n&&t.call(void 0,n[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}((r=new nt(e.headers)).f()),i=c.FormData&&t instanceof c.FormData;!(0<=j(pt,"POST"))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.j&&(e.a.responseType=e.j),"withCredentials"in e.a&&e.a.withCredentials!==e.H&&(e.a.withCredentials=e.H);try{St(e),0<e.l&&(e.B=function(e){return $&&ie(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Je(e.b,wt(e,"Will abort after "+e.l+"ms if incomplete, xhr2 "+e.B)),e.B?(e.a.timeout=e.l,e.a.ontimeout=v(e.L,e)):e.u=Ue(e.L,e.l,e)),Je(e.b,wt(e,"Sending request")),e.m=!0,e.a.send(t),e.m=!1}catch(t){Je(e.b,wt(e,"Send error: "+t.message)),dt(e,t)}}(r,i,t),s}function Dt(e,t,r){var n=null,i=!1;e.on("data",(function(e){n=e})),e.on("error",(function(e){0==e.code||i||(i=!0,t(e,null))})),e.on("status",(function(e){0==e.code||i?r&&t(null,null,e):(i=!0,t({code:e.code,message:e.details,metadata:e.metadata},null))})),r&&e.on("metadata",(function(e){t(null,null,null,e)})),e.on("end",(function(){i||(null==n?t({code:2,message:"Incomplete response"}):t(null,n)),r&&t(null,null)}))}function Ot(e,t){var r=e;return t.forEach((function(e){var t=r;r=function(r){return e.intercept(r,t)}})),r}_t.prototype.on=function(e,t){return"data"==e?this.b.push(t):"status"==e?this.h.push(t):"metadata"==e?this.g.push(t):"end"==e?this.c.push(t):"error"==e&&this.f.push(t),this},_t.prototype.removeListener=function(e,t){return"data"==e?Tt(this.b,t):"status"==e?Tt(this.h,t):"metadata"==e?Tt(this.g,t):"end"==e?Tt(this.c,t):"error"==e&&Tt(this.f,t),this},_t.prototype.cancel=function(){this.j=!0,this.a.abort()},_t.prototype.cancel=_t.prototype.cancel,_t.prototype.removeListener=_t.prototype.removeListener,_t.prototype.on=_t.prototype.on,Pt.prototype.P=function(e,t,r,n,i){var s=this;n=F(e,t,"unary",n);var o=e.substr(0,e.length-n.name.length);return Dt(e=Ot((function(e){return It(s,e,o)}),this.b).call(this,R(n,t,r)),i,!1),new _(e)},Pt.prototype.M=function(e,t,r,n){var i=this;n=F(e,t,"unary",n);var s=e.substr(0,e.length-n.name.length);return Ot((function(e){return new Promise((function(t,r){var n,o,a;Dt(It(i,e,s),(function(i,s,u,c){i?r(i):s?a=s:u?o=u:c?n=c:(i=e.getMethodDescriptor(),t(new A(a,i,s=void 0===(s=n)?{}:s,void 0===o?null:o)))}),!0)}))}),this.g).call(this,R(n,t,r)).then((function(e){return e.getResponseMessage()}))},Pt.prototype.unaryCall=function(e,t,r,n){return this.M(e,t,r,n)},Pt.prototype.R=function(e,t,r,n){var i=this;n=F(e,t,"server_streaming",n);var s=e.substr(0,e.length-n.name.length);return Ot((function(e){return It(i,e,s)}),this.b).call(this,R(n,t,r))},Pt.prototype.serverStreaming=Pt.prototype.R,Pt.prototype.unaryCall=Pt.prototype.unaryCall,Pt.prototype.thenableCall=Pt.prototype.M,Pt.prototype.rpcCall=Pt.prototype.P,e.exports.AbstractClientBase={MethodInfo:function(e,t,r,n,i){this.name=n,this.b=i,this.f=e,this.a=t,this.c=r}},e.exports.GrpcWebClientBase=Pt,e.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},e.exports.MethodDescriptor=x,e.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}},1166:(e,t)=>{var r={userAgent:!1},n={};if(void 0===i)var i={};i.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var s;for(s in n)e.prototype[s]=n[s];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(o=function(e,t){for(s=0;s<a.length;s+=1){var r=a[s],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(e){}o(e.prototype,n)}}};var s,o,a,u,c,l,g,h,p,f,d,y=y||(s=Math,a=(o={}).lib={},u=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||g).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),l=o.enc={},g=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,o=n/(4*i),a=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,u=s.min(4*a,n);if(a){for(var l=0;l<a;l+=i)this._doProcessBlock(r,l);var g=r.splice(0,a);t.sigBytes-=u}return new c.init(g,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=f.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),d=o.algo={},o);!function(e){var t,r=(t=y).lib,n=r.Base,i=r.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var s=e[n];r.push(s.high),r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),y.lib.Cipher||function(e){var t=(p=y).lib,r=t.Base,n=t.WordArray,i=t.BufferedBlockAlgorithm,s=p.enc.Base64,o=p.algo.EvpKDF,a=t.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,n){return("string"==typeof r?f:h).encrypt(e,t,r,n)},decrypt:function(t,r,n){return("string"==typeof r?f:h).decrypt(e,t,r,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=p.mode={},c=function(e,t,r){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]},l=(t.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;c.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),l.Decryptor=l.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=e.slice(t,t+n);r.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=i}}),u=u.CBC=l,l=(p.pad={}).Pkcs7={pad:function(e,t){for(var r,i=(r=(r=4*t)-e.sigBytes%r)<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(i);r=n.create(s,r),e.concat(r)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:l}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var g=t.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(u=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){var t=(e=s.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var r=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},t.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n);return t=i.finalize(t),i=i.cfg,g.create({ciphertext:t,key:r,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,r,i){return i||(i=n.random(8)),e=o.create({keySize:t+r}).compute(e,i),r=n.create(e.words.slice(t),4*r),e.sigBytes=4*t,g.create({key:e,iv:r,salt:i})}},f=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:p}),encrypt:function(e,t,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize),n.iv=r.iv,(e=h.encrypt.call(this,e,t,r.key,n)).mixIn(r),e},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt),n.iv=r.iv,h.decrypt.call(this,e,t,r.key,n)}})}(),function(){for(var e=y,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],s=[],o=[],a=[],u=[],c=[],l=[],g=[],h=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:f<<1^283;var d=0,m=0;for(f=0;256>f;f++){var v=(v=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&v^99;n[d]=v,i[v]=d;var S=p[d],b=p[S],E=p[b],w=257*p[v]^16843008*v;s[d]=w<<24|w>>>8,o[d]=w<<16|w>>>16,a[d]=w<<8|w>>>24,u[d]=w,w=16843009*E^65537*b^257*S^16843008*d,c[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,g[v]=w<<8|w>>>24,h[v]=w,d?(d=S^p[p[p[E^S]]],m^=p[p[m]]):d=m=1}var A=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=t.extend({_doReset:function(){for(var e=(r=this._key).words,t=r.sigBytes/4,r=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],s=0;s<r;s++)if(s<t)i[s]=e[s];else{var o=i[s-1];s%t?6<t&&4==s%t&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=A[s/t|0]<<24),i[s]=i[s-t]^o}for(e=this._invKeySchedule=[],t=0;t<r;t++)s=r-t,o=t%4?i[s]:i[s-4],e[t]=4>t||4>=s?o:c[n[o>>>24]]^l[n[o>>>16&255]]^g[n[o>>>8&255]]^h[n[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,a,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,l,g,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,o,a){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],g=e[t+2]^r[2],h=e[t+3]^r[3],p=4,f=1;f<u;f++){var d=n[c>>>24]^i[l>>>16&255]^s[g>>>8&255]^o[255&h]^r[p++],y=n[l>>>24]^i[g>>>16&255]^s[h>>>8&255]^o[255&c]^r[p++],m=n[g>>>24]^i[h>>>16&255]^s[c>>>8&255]^o[255&l]^r[p++];h=n[h>>>24]^i[c>>>16&255]^s[l>>>8&255]^o[255&g]^r[p++],c=d,l=y,g=m}d=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[g>>>8&255]<<8|a[255&h])^r[p++],y=(a[l>>>24]<<24|a[g>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[p++],m=(a[g>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^r[p++],h=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&g])^r[p++],e[t]=d,e[t+1]=y,e[t+2]=m,e[t+3]=h},keySize:8}),e.AES=t._createHelper(r)}(),function(){function e(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function t(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}var r=y,n=(i=r.lib).WordArray,i=i.BlockCipher,s=r.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=s.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;56>r;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(e=this._subKeys=[],n=0;16>n;n++){var i=e[n]=[],s=u[n];for(r=0;24>r;r++)i[r/6|0]|=t[(a[r]-1+s)%28]<<31-r%6,i[4+(r/6|0)]|=t[28+(a[r+24]-1+s)%28]<<31-r%6;for(i[0]=i[0]<<1|i[0]>>>31,r=1;7>r;r++)i[r]>>>=4*(r-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],r=0;16>r;r++)t[r]=e[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(r,n,i){this._lBlock=r[n],this._rBlock=r[n+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var s=0;16>s;s++){for(var o=i[s],a=this._lBlock,u=this._rBlock,g=0,h=0;8>h;h++)g|=c[h][((u^o[h])&l[h])>>>0];this._lBlock=u,this._rBlock=a^g}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),r[n]=this._lBlock,r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=i._createHelper(g),s=s.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=g.createEncryptor(n.create(e.slice(0,2))),this._des2=g.createEncryptor(n.create(e.slice(2,4))),this._des3=g.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=i._createHelper(s)}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)e.push(n.charAt(s>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],s=0,o=0;o<r;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,u=n.indexOf(e.charAt(o))>>>6-o%4*2;i[s>>>2]|=(a|u)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,r,n,i,s,o){return((e=e+(t&r|~t&n)+i+o)<<s|e>>>32-s)+t}function r(e,t,r,n,i,s,o){return((e=e+(t&n|r&~n)+i+o)<<s|e>>>32-s)+t}function n(e,t,r,n,i,s,o){return((e=e+(t^r^n)+i+o)<<s|e>>>32-s)+t}function i(e,t,r,n,i,s,o){return((e=e+(r^(t|~n))+i+o)<<s|e>>>32-s)+t}for(var s=y,o=(u=s.lib).WordArray,a=u.Hasher,u=s.algo,c=[],l=0;64>l;l++)c[l]=4294967296*e.abs(e.sin(l+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var o=0;16>o;o++){var a=e[u=s+o];e[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}o=this._hash.words;var u=e[s+0],l=(a=e[s+1],e[s+2]),g=e[s+3],h=e[s+4],p=e[s+5],f=e[s+6],d=e[s+7],y=e[s+8],m=e[s+9],v=e[s+10],S=e[s+11],b=e[s+12],E=e[s+13],w=e[s+14],A=e[s+15],x=t(x=o[0],_=o[1],F=o[2],R=o[3],u,7,c[0]),R=t(R,x,_,F,a,12,c[1]),F=t(F,R,x,_,l,17,c[2]),_=t(_,F,R,x,g,22,c[3]);x=t(x,_,F,R,h,7,c[4]),R=t(R,x,_,F,p,12,c[5]),F=t(F,R,x,_,f,17,c[6]),_=t(_,F,R,x,d,22,c[7]),x=t(x,_,F,R,y,7,c[8]),R=t(R,x,_,F,m,12,c[9]),F=t(F,R,x,_,v,17,c[10]),_=t(_,F,R,x,S,22,c[11]),x=t(x,_,F,R,b,7,c[12]),R=t(R,x,_,F,E,12,c[13]),F=t(F,R,x,_,w,17,c[14]),x=r(x,_=t(_,F,R,x,A,22,c[15]),F,R,a,5,c[16]),R=r(R,x,_,F,f,9,c[17]),F=r(F,R,x,_,S,14,c[18]),_=r(_,F,R,x,u,20,c[19]),x=r(x,_,F,R,p,5,c[20]),R=r(R,x,_,F,v,9,c[21]),F=r(F,R,x,_,A,14,c[22]),_=r(_,F,R,x,h,20,c[23]),x=r(x,_,F,R,m,5,c[24]),R=r(R,x,_,F,w,9,c[25]),F=r(F,R,x,_,g,14,c[26]),_=r(_,F,R,x,y,20,c[27]),x=r(x,_,F,R,E,5,c[28]),R=r(R,x,_,F,l,9,c[29]),F=r(F,R,x,_,d,14,c[30]),x=n(x,_=r(_,F,R,x,b,20,c[31]),F,R,p,4,c[32]),R=n(R,x,_,F,y,11,c[33]),F=n(F,R,x,_,S,16,c[34]),_=n(_,F,R,x,w,23,c[35]),x=n(x,_,F,R,a,4,c[36]),R=n(R,x,_,F,h,11,c[37]),F=n(F,R,x,_,d,16,c[38]),_=n(_,F,R,x,v,23,c[39]),x=n(x,_,F,R,E,4,c[40]),R=n(R,x,_,F,u,11,c[41]),F=n(F,R,x,_,g,16,c[42]),_=n(_,F,R,x,f,23,c[43]),x=n(x,_,F,R,m,4,c[44]),R=n(R,x,_,F,b,11,c[45]),F=n(F,R,x,_,A,16,c[46]),x=i(x,_=n(_,F,R,x,l,23,c[47]),F,R,u,6,c[48]),R=i(R,x,_,F,d,10,c[49]),F=i(F,R,x,_,w,15,c[50]),_=i(_,F,R,x,p,21,c[51]),x=i(x,_,F,R,b,6,c[52]),R=i(R,x,_,F,g,10,c[53]),F=i(F,R,x,_,v,15,c[54]),_=i(_,F,R,x,a,21,c[55]),x=i(x,_,F,R,y,6,c[56]),R=i(R,x,_,F,A,10,c[57]),F=i(F,R,x,_,f,15,c[58]),_=i(_,F,R,x,E,21,c[59]),x=i(x,_,F,R,h,6,c[60]),R=i(R,x,_,F,S,10,c[61]),F=i(F,R,x,_,l,15,c[62]),_=i(_,F,R,x,m,21,c[63]),o[0]=o[0]+x|0,o[1]=o[1]+_|0,o[2]=o[2]+F|0,o[3]=o[3]+R|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296);for(r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(r.length+1),this._process(),r=(t=this._hash).words,n=0;4>n;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),function(){var e=y,t=(i=e.lib).WordArray,r=i.Hasher,n=[],i=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var l=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=l<<1|l>>>31}l=(i<<5|i>>>27)+u+n[c],l=20>c?l+(1518500249+(s&o|~s&a)):40>c?l+(1859775393+(s^o^a)):60>c?l+((s&o|s&a|o&a)-1894007588):l+((s^o^a)-899497514),u=a,a=o,o=s<<30|s>>>2,s=i,i=l}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i)}(),function(e){for(var t=y,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,s=[],o=[],a=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var g=e.sqrt(l),h=2;h<=g;h++)if(!(l%h)){l=!1;break e}l=!0}l&&(8>c&&(s[c]=a(e.pow(u,.5))),o[c]=a(e.pow(u,1/3)),c++),u++}var p=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],u=r[4],c=r[5],l=r[6],g=r[7],h=0;64>h;h++){if(16>h)p[h]=0|e[t+h];else{var f=p[h-15],d=p[h-2];p[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[h-7]+((d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+p[h-16]}f=g+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+o[h]+p[h],d=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&s^i&s),g=l,l=c,c=u,u=a+f|0,a=s,s=i,i=n,n=f+d|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+g|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){var e=y,t=e.lib.WordArray,r=(n=e.algo).SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(n),e.HmacSHA224=r._createHmacHelper(n)}(),function(){function e(){return n.create.apply(n,arguments)}for(var t=y,r=t.lib.Hasher,n=(s=t.x64).Word,i=s.WordArray,s=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=e();s=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(g=this._hash.words)[0],n=g[1],i=g[2],s=g[3],u=g[4],c=g[5],l=g[6],g=g[7],h=r.high,p=r.low,f=n.high,d=n.low,y=i.high,m=i.low,v=s.high,S=s.low,b=u.high,E=u.low,w=c.high,A=c.low,x=l.high,R=l.low,F=g.high,_=g.low,T=h,C=p,P=f,I=d,D=y,O=m,N=v,B=S,j=b,L=E,H=w,M=A,U=x,V=R,k=F,q=_,K=0;80>K;K++){var W=a[K];if(16>K)var z=W.high=0|e[t+2*K],G=W.low=0|e[t+2*K+1];else{z=((G=(z=a[K-15]).high)>>>1|($=z.low)<<31)^(G>>>8|$<<24)^G>>>7;var $=($>>>1|G<<31)^($>>>8|G<<24)^($>>>7|G<<25),Y=((G=(Y=a[K-2]).high)>>>19|(X=Y.low)<<13)^(G<<3|X>>>29)^G>>>6,X=(X>>>19|G<<13)^(X<<3|G>>>29)^(X>>>6|G<<26),J=(G=a[K-7]).high,Z=(Q=a[K-16]).high,Q=Q.low;z=(z=(z=z+J+((G=$+G.low)>>>0<$>>>0?1:0))+Y+((G+=X)>>>0<X>>>0?1:0))+Z+((G+=Q)>>>0<Q>>>0?1:0),W.high=z,W.low=G}J=j&H^~j&U,Q=L&M^~L&V,W=T&P^T&D^P&D;var ee=C&I^C&O^I&O,te=($=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),Y=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),(X=o[K]).high),re=X.low;Z=k+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9))+((X=q+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9)))>>>0<q>>>0?1:0),k=U,q=V,U=H,V=M,H=j,M=L,j=N+(Z=(Z=(Z=Z+J+((X+=Q)>>>0<Q>>>0?1:0))+te+((X+=re)>>>0<re>>>0?1:0))+z+((X+=G)>>>0<G>>>0?1:0))+((L=B+X|0)>>>0<B>>>0?1:0)|0,N=D,B=O,D=P,O=I,P=T,I=C,T=Z+(W=$+W+((G=Y+ee)>>>0<Y>>>0?1:0))+((C=X+G|0)>>>0<X>>>0?1:0)|0}p=r.low=p+C,r.high=h+T+(p>>>0<C>>>0?1:0),d=n.low=d+I,n.high=f+P+(d>>>0<I>>>0?1:0),m=i.low=m+O,i.high=y+D+(m>>>0<O>>>0?1:0),S=s.low=S+B,s.high=v+N+(S>>>0<B>>>0?1:0),E=u.low=E+L,u.high=b+j+(E>>>0<L>>>0?1:0),A=c.low=A+M,c.high=w+H+(A>>>0<M>>>0?1:0),R=l.low=R+V,l.high=x+U+(R>>>0<V>>>0?1:0),_=g.low=_+q,g.high=F+k+(_>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(s),t.HmacSHA512=r._createHmacHelper(s)}(),function(){var e=y,t=(i=e.x64).Word,r=i.WordArray,n=(i=e.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}(),function(){var e=y,t=(n=e.lib).WordArray,r=n.Hasher,n=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=r.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;16>r;r++){var n=e[E=t+r];e[E]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var l,g,h,p,f,d,y,m,v,S,b,E=this._hash.words,w=(n=u.words,c.words),A=i.words,x=s.words,R=o.words,F=a.words;for(d=l=E[0],y=g=E[1],m=h=E[2],v=p=E[3],S=f=E[4],r=0;80>r;r+=1)b=l+e[t+A[r]]|0,b=16>r?b+((g^h^p)+n[0]):32>r?b+((g&h|~g&p)+n[1]):48>r?b+(((g|~h)^p)+n[2]):64>r?b+((g&p|h&~p)+n[3]):b+((g^(h|~p))+n[4]),b=(b=(b|=0)<<R[r]|b>>>32-R[r])+f|0,l=f,f=p,p=h<<10|h>>>22,h=g,g=b,b=d+e[t+x[r]]|0,b=16>r?b+((y^(m|~v))+w[0]):32>r?b+((y&v|m&~v)+w[1]):48>r?b+(((y|~m)^v)+w[2]):64>r?b+((y&m|~y&v)+w[3]):b+((y^m^v)+w[4]),b=(b=(b|=0)<<F[r]|b>>>32-F[r])+S|0,d=S,S=v,v=m<<10|m>>>22,m=y,y=b;b=E[1]+h+v|0,E[1]=E[2]+p+S|0,E[2]=E[3]+f+d|0,E[3]=E[4]+l+y|0,E[4]=E[0]+g+m|0,E[0]=b},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;for(t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,r=0;5>r;r++)n=t[r],t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=r._createHelper(n),e.HmacRIPEMD160=r._createHmacHelper(n)}(Math),function(){var e=y,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r)),r.clamp();for(var s=this._oKey=r.clone(),o=this._iKey=r.clone(),a=s.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=y,r=(e=t.lib).Base,n=e.WordArray,i=(e=t.algo).HMAC,s=e.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var r=this.cfg,s=i.create(r.hasher,e),o=n.create(),a=n.create([1]),u=o.words,c=a.words,l=r.keySize;for(r=r.iterations;u.length<l;){var g=s.update(t).finalize(a);s.reset();for(var h=g.words,p=h.length,f=g,d=1;d<r;d++){f=s.finalize(f),s.reset();for(var y=f.words,m=0;m<p;m++)h[m]^=y[m]}o.concat(g),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,r){return s.create(r).compute(e,t)}}();var m,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function S(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=v.charAt(r>>6)+v.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=v.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=v.charAt(r>>2)+v.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function b(e){var t,r,n,i="",s=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=v.indexOf(e.charAt(t)))<0||(0==s?(i+=_(n>>2),r=3&n,s=1):1==s?(i+=_(r<<2|n>>4),r=15&n,s=2):2==s?(i+=_(r),i+=_(n>>2),r=3&n,s=3):(i+=_(r<<2|n>>4),i+=_(15&n),s=0));return 1==s&&(i+=_(r<<2)),i}function E(e){var t,r=b(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function w(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function A(){return new w(null)}"Microsoft Internet Explorer"==r.appName?(w.prototype.am=function(e,t,r,n,i,s){for(var o=32767&t,a=t>>15;--s>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*o;i=((u=o*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},m=30):"Netscape"!=r.appName?(w.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var o=t*this[e++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},m=26):(w.prototype.am=function(e,t,r,n,i,s){for(var o=16383&t,a=t>>14;--s>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*o;i=((u=o*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+a*c,r[n++]=268435455&u}return i},m=28),w.prototype.DB=m,w.prototype.DM=(1<<m)-1,w.prototype.DV=1<<m,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-m,w.prototype.F2=2*m-52;var x,R,F=new Array;for(x="0".charCodeAt(0),R=0;R<=9;++R)F[x++]=R;for(x="a".charCodeAt(0),R=10;R<36;++R)F[x++]=R;for(x="A".charCodeAt(0),R=10;R<36;++R)F[x++]=R;function _(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var r=F[e.charCodeAt(t)];return null==r?-1:r}function C(e){var t=A();return t.fromInt(e),t}function P(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function I(e){this.m=e}function D(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function O(e,t){return e&t}function N(e,t){return e|t}function B(e,t){return e^t}function j(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function H(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function M(){}function U(e){return e}function V(e){this.r2=A(),this.q3=A(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},D.prototype.convert=function(e){var t=A();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},D.prototype.revert=function(e){var t=A();return e.copyTo(t),this.reduce(t),t},D.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},D.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},D.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var o=8==r?255&e[n]:T(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<i,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},w.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},w.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=A());var s=A(),o=this.s,a=e.s,u=this.DB-P(n[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,l=s[c-1];if(0!=l){var g=l*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),h=this.FV/g,p=(1<<this.F1)/g,f=1<<this.F2,d=r.t,y=d-c,m=null==t?A():t;for(s.dlShiftTo(y,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),w.ONE.dlShiftTo(c,m),m.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--y>=0;){var v=r[--d]==l?this.DM:Math.floor(r[d]*h+(r[d-1]+f)*p);if((r[d]+=s.am(0,v,r,y,0,c))<v)for(s.dlShiftTo(y,m),r.subTo(m,r);r[d]<--v;)r.subTo(m,r)}null!=t&&(r.drShiftTo(c,t),o!=a&&w.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&w.ZERO.subTo(r,r)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var r=A(),n=A(),i=t.convert(this),s=P(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var o=r;r=n,n=o}return t.revert(r)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=_(r));o>=0;)a<t?(r=(this[o]&(1<<a)-1)<<t-a,r|=this[--o]>>(a+=this.DB-t)):(r=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=_(r));return i?s:"0"},w.prototype.negate=function(){var e=A();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+P(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=A();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new I(t):new D(t),this.exp(e,r)},w.ZERO=C(0),w.ONE=C(1),M.prototype.convert=U,M.prototype.revert=U,M.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},M.prototype.sqrTo=function(e,t){e.squareTo(t)},V.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=A();return e.copyTo(t),this.reduce(t),t},V.prototype.revert=function(e){return e},V.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},V.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},V.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k,q,K,W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],z=(1<<26)/W[W.length-1];function G(){this.i=0,this.j=0,this.S=new Array}function $(){!function(e){q[K++]^=255&e,q[K++]^=e>>8&255,q[K++]^=e>>16&255,q[K++]^=e>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=C(r),i=A(),s=A(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var u=T(e,a);u<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(o=t*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},w.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},w.prototype.changeBit=function(e,t){var r=w.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},w.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},w.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>W.length&&(e=W.length);for(var i=A(),s=0;s<e;++s){i.fromInt(W[Math.floor(Math.random()*W.length)]);var o=i.modPow(n,this);if(0!=o.compareTo(w.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<r&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=A();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=A();return this.bitwiseTo(e,O,t),t},w.prototype.or=function(e){var t=A();return this.bitwiseTo(e,N,t),t},w.prototype.xor=function(e){var t=A();return this.bitwiseTo(e,B,t),t},w.prototype.andNot=function(e){var t=A();return this.bitwiseTo(e,j,t),t},w.prototype.not=function(){for(var e=A(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=A();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=A();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=H(this[r]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,N)},w.prototype.clearBit=function(e){return this.changeBit(e,j)},w.prototype.flipBit=function(e){return this.changeBit(e,B)},w.prototype.add=function(e){var t=A();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=A();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=A();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=A();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=A();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=A(),r=A();return this.divRemTo(e,t,r),new Array(t,r)},w.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=C(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new I(t):t.isEven()?new V(t):new D(t);var o=new Array,a=3,u=r-1,c=(1<<r)-1;if(o[1]=n.convert(this),r>1){var l=A();for(n.sqrTo(o[1],l);a<=c;)o[a]=A(),n.mulTo(l,o[a-2],o[a]),a+=2}var g,h,p=e.t-1,f=!0,d=A();for(i=P(e[p])-1;p>=0;){for(i>=u?g=e[p]>>i-u&c:(g=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(g|=e[p-1]>>this.DB+i-u)),a=r;0==(1&g);)g>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),f)o[g].copyTo(s),f=!1;else{for(;a>1;)n.sqrTo(s,d),n.sqrTo(d,s),a-=2;a>0?n.sqrTo(s,d):(h=s,s=d,d=h),n.mulTo(d,o[g],s)}for(;p>=0&&0==(e[p]&1<<i);)n.sqrTo(s,d),h=s,s=d,d=h,--i<0&&(i=this.DB-1,--p)}return n.revert(s)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var r=e.clone(),n=this.clone(),i=C(1),s=C(0),o=C(0),a=C(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(w.ONE)?w.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},w.prototype.pow=function(e){return this.exp(e,new M)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},w.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=W[W.length-1]){for(t=0;t<W.length;++t)if(r[0]==W[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<W.length;){for(var n=W[t],i=t+1;i<W.length&&n<z;)n*=W[i++];for(n=r.modInt(n);t<i;)if(n%W[t++]==0)return!1}return r.millerRabin(e)},w.prototype.square=function(){var e=A();return this.squareTo(e),e},G.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==q){var Y;if(q=new Array,K=0,void 0!==n&&(void 0!==n.crypto||void 0!==n.msCrypto)){var X=n.crypto||n.msCrypto;if(X.getRandomValues){var J=new Uint8Array(32);for(X.getRandomValues(J),Y=0;Y<32;++Y)q[K++]=J[Y]}else if("Netscape"==r.appName&&r.appVersion<"5"){var Z=n.crypto.random(32);for(Y=0;Y<Z.length;++Y)q[K++]=255&Z.charCodeAt(Y)}}for(;K<256;)Y=Math.floor(65536*Math.random()),q[K++]=Y>>>8,q[K++]=255&Y;K=0,$()}function Q(){if(null==k){for($(),(k=new G).init(q),K=0;K<q.length;++K)q[K]=0;K=0}return k.next()}function ee(){}function te(e,t){return new w(e,t)}function re(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t,r){for(var n="",i=0;n.length<t;)n+=r(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return n}function se(e,t){this.x=t,this.q=e}function oe(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?w.ONE:n,this.zinv=null}function ae(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Q()},ne.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ne.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var s=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);r[--t]=o[0]}return r[--t]=2,r[--t]=0,new w(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},ne.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,o=null;if(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(e){return Ae(s.hashHex(xe(e),o))}),e.length+2*n+2>t)throw"Message too long for RSA";var a,u="";for(a=0;a<t-e.length-2*n-2;a+=1)u+="\0";var c=r("")+u+""+e,l=new Array(n);(new ee).nextBytes(l);var g=re(l,c.length,r),h=[];for(a=0;a<c.length;a+=1)h[a]=c.charCodeAt(a)^g.charCodeAt(a);var p=re(h,l.length,r),f=[0];for(a=0;a<l.length;a+=1)f[a+1]=l[a]^p.charCodeAt(a);return new w(f.concat(h))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},ne.prototype.type="RSA",ne.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},ne.prototype.setPrivate=function(e,t,r){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=r;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(r,16)}},ne.prototype.setPrivateEx=function(e,t,r,n,i,s,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(r,16),this.p=te(n,16),this.q=te(i,16),this.dmp1=te(s,16),this.dmq1=te(o,16),this.coeff=te(a,16)},ne.prototype.generate=function(e,t){var r=new ee,n=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16);;){for(;this.p=new w(e-n,1,r),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(n,1,r),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(w.ONE),a=this.q.subtract(w.ONE),u=o.multiply(a);if(0==u.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(u),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ne.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),r=this.doPrivate(t);return null==r?null:function(e,t){for(var r=e.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=t-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var i="";++n<r.length;){var s=255&r[n];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&s)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},ne.prototype.decryptOAEP=function(e,t,r){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=te(e,16),i=this.doPrivate(n);return null==i?null:function(e,t,r,n){var i=ce.crypto.MessageDigest,s=ce.crypto.Util,o=null;for(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(e){return Ae(s.hashHex(xe(e),o))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*n+2)throw"Cipher too short";var a,u=e.substr(1,n),c=e.substr(n+1),l=ie(c,n,r),g=[];for(a=0;a<u.length;a+=1)g[a]=u.charCodeAt(a)^l.charCodeAt(a);var h=ie(String.fromCharCode.apply(String,g),e.length-n,r),p=[];for(a=0;a<c.length;a+=1)p[a]=c.charCodeAt(a)^h.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,n)!==r(""))throw"Hash mismatch";var f=(p=p.substr(n)).indexOf("");if((-1!=f?p.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return p.substr(f+1)}(i,this.n.bitLength()+7>>3,t,r)},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},se.prototype.toBigInteger=function(){return this.x},se.prototype.negate=function(){return new se(this.q,this.x.negate().mod(this.q))},se.prototype.add=function(e){return new se(this.q,this.x.add(e.toBigInteger()).mod(this.q))},se.prototype.subtract=function(e){return new se(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},se.prototype.multiply=function(e){return new se(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},se.prototype.square=function(){return new se(this.q,this.x.square().mod(this.q))},se.prototype.divide=function(e){return new se(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(r))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new w("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),a=o.multiply(r),u=i.multiply(o),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(a).multiply(r).mod(this.curve.q),g=u.multiply(n).multiply(t).subtract(s.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),h=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(g),h)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=t.square().multiply(e);w.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s)));var a=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=o.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new w("3")),i=this.negate(),s=this,o=this.curve.q.subtract(e),a=o.multiply(new w("3")),u=new oe(this.curve,this.x,this.y),c=u.negate();for(t=n.bitLength()-2;t>0;--t){s=s.twice();var l=n.testBit(t);l!=r.testBit(t)&&(s=s.add(l?this:i))}for(t=a.bitLength()-2;t>0;--t){u=u.twice();var g=a.testBit(t);g!=o.testBit(t)&&(u=u.add(g?u:c))}return s},oe.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(s):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new se(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new w(r,16)),this.fromBigInteger(new w(n,16)));default:return null}},se.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},oe.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var s=new w(n),o=new w(i);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(o))},oe.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),s=new w(n,16),o=new w(i,16);return new oe(e,e.fromBigInteger(s),e.fromBigInteger(o))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new w("3")),i=this.negate(),s=this;for(t=n.bitLength()-2;t>0;--t){s=s.twice();var o=n.testBit(t);o!=r.testBit(t)&&(s=s.add2D(o?this:i))}return s},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return s.equals(o)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(w.ONE)<0||r.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var i=new String(""),s=Object.hasOwnProperty;return function(r,o){var a,u,c=r.match(e),l=c[0],g=!1;"{"===l?a={}:"["===l?a=[]:(a=[],g=!0);for(var h=[a],p=1-g,f=c.length;p<f;++p){var d;switch((l=c[p]).charCodeAt(0)){default:(d=h[0])[u||d.length]=+l,u=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,n)),d=h[0],!u){if(!(d instanceof Array)){u=l||i;break}u=d.length}d[u]=l,u=void 0;break;case 91:d=h[0],h.unshift(d[u||d.length]=[]),u=void 0;break;case 93:h.shift();break;case 102:(d=h[0])[u||d.length]=!1,u=void 0;break;case 110:(d=h[0])[u||d.length]=null,u=void 0;break;case 116:(d=h[0])[u||d.length]=!0,u=void 0;break;case 123:d=h[0],h.unshift(d[u||d.length]={}),u=void 0;break;case 125:h.shift()}}if(g){if(1!==h.length)throw new Error;a=a[0]}else if(h.length)throw new Error;if(o){var y=function(e,t){var r=e[t];if(r&&"object"==typeof r){var n=null;for(var i in r)if(s.call(r,i)&&r!==e){var a=y(r,i);void 0!==a?r[i]=a:(n||(n=[]),n.push(i))}if(n)for(var u=n.length;--u>=0;)delete r[n[u]]}return o.call(e,t,r)};a=y({"":a},"")}return a}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new w(n,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Te(e,t)},this.newObject=function(e){var t=ce.asn1,r=t.ASN1Object,n=t.DERBoolean,i=t.DERInteger,s=t.DERBitString,o=t.DEROctetString,a=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,g=t.DERNumericString,h=t.DERPrintableString,p=t.DERTeletexString,f=t.DERIA5String,d=t.DERUTCTime,y=t.DERGeneralizedTime,m=t.DERVisibleString,v=t.DERBMPString,S=t.DERSequence,b=t.DERSet,E=t.DERTaggedObject,w=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var A=Object.keys(e);if(1!=A.length)throw new Error("key of param shall be only one.");var x=A[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+x+":"))throw new Error("undefined key: "+x);if("bool"==x)return new n(e[x]);if("int"==x)return new i(e[x]);if("bitstr"==x)return new s(e[x]);if("octstr"==x)return new o(e[x]);if("null"==x)return new a(e[x]);if("oid"==x)return new u(e[x]);if("enum"==x)return new c(e[x]);if("utf8str"==x)return new l(e[x]);if("numstr"==x)return new g(e[x]);if("prnstr"==x)return new h(e[x]);if("telstr"==x)return new p(e[x]);if("ia5str"==x)return new f(e[x]);if("utctime"==x)return new d(e[x]);if("gentime"==x)return new y(e[x]);if("visstr"==x)return new m(e[x]);if("bmpstr"==x)return new v(e[x]);if("asn1"==x)return new r(e[x]);if("seq"==x){for(var R=e[x],F=[],_=0;_<R.length;_++){var T=w(R[_]);F.push(T)}return new S({array:F})}if("set"==x){for(R=e[x],F=[],_=0;_<R.length;_++)T=w(R[_]),F.push(T);return new b({array:F})}if("tag"==x){var C=e[x];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var P=w(C[2]);return new E({tag:C[0],explicit:C[1],obj:P})}return new E(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var s=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=s.substr(1,7),"0"==s.substr(0,1)&&(t=t+"."+new w(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new w(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=t(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ee(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},i.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),s=String(i.getFullYear());"utc"==t&&(s=s.substr(2,2));var o=s+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var u=n(String(a),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ye(e)},this.setByDateValue=function(e,t,r,n,i,s){var o=new Date(Date.UTC(e,t-1,r,n,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},i.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},i.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},i.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},i.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},i.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=Ve(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},i.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},i.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},i.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},i.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},i.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},i.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},i.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ye(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ye(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},i.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ye(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ye(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},i.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},i.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},i.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==typeof e.obj&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,ge,he=new function(){};function pe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function fe(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function de(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function ye(e){return de(pe(e))}function me(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ve(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Se(e){return e.length%2==1&&(e="0"+e),me(S(e))}function be(e){return b(ve(e))}function Ee(e){return De(Le(e))}function we(e){return decodeURIComponent(Oe(e))}function Ae(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function xe(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Re(e){return S(e)}function Fe(e){var t=Re(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function _e(e){return b(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Te(e,t){return"-----BEGIN "+t+"-----\r\n"+Fe(e)+"\r\n-----END "+t+"-----\r\n"}function Ce(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return _e(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){var t,r,n,i,s,o,a,u,c,l,g;if(g=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=g[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(g[2])-1,n=parseInt(g[3]),i=parseInt(g[4]),s=parseInt(g[5]),o=parseInt(g[6]),a=0,""!==(c=g[7])&&(l=(c.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(t,r,n,i,s,o,a);throw"unsupported zulu format: "+e}function Ie(e){return~~(Pe(e)/1e3)}function De(e){return e.replace(/%/g,"")}function Oe(e){return e.replace(/(..)/g,"%$1")}function Ne(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),i=(e=e.replace("::",n)).split(":");if(8!=i.length)throw t;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Be(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(e=e.replace(i,"::")).slice(1,-1)}function je(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Be(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Le(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+ye(t[n]);return r}function He(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Ue(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}}function Ve(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=parseInt(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};try{if(!e.match(/^[0-9.]+$/))return null;var n="",i=e.split("."),s=40*parseInt(i[0],10)+parseInt(i[1],10);n+=t(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n}catch(e){return null}}function ke(e){if(!He(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var i=e.substr(2),s=[],o=0;o<i.length/2;o++)s.push(parseInt(i.substr(2*o,2),16));var a=[],u="";for(o=0;o<s.length;o++)128&s[o]?u+=qe((127&s[o]).toString(2),7):(u+=qe((127&s[o]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=t.join(".");return a.length>0&&(c=c+"."+a.join(".")),c}catch(e){return null}}he.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},he.getL=function(e,t){var r=he.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},he.getVblen=function(e,t){var r;return""==(r=he.getL(e,t))?-1:("8"===r.substr(0,1)?new w(r.substr(2),16):new w(r,16)).intValue()},he.getVidx=function(e,t){var r=he.getLblen(e,t);return r<0?r:t+2*(r+1)},he.getV=function(e,t){var r=he.getVidx(e,t),n=he.getVblen(e,t);return e.substr(r,2*n)},he.getTLV=function(e,t){return e.substr(t,2)+he.getL(e,t)+he.getV(e,t)},he.getTLVblen=function(e,t){return 2+2*he.getLblen(e,t)+2*he.getVblen(e,t)},he.getNextSiblingIdx=function(e,t){return he.getVidx(e,t)+2*he.getVblen(e,t)},he.getChildIdx=function(e,t){var r,n,i,s=he,o=[];r=s.getVidx(e,t),n=2*s.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),i=0;for(var a=r;i<=n;){var u=s.getTLVblen(e,a);if((i+=u)<=n&&o.push(a),a+=u,i>=n)break}return o},he.getNthChildIdx=function(e,t,r){return he.getChildIdx(e,t)[r]},he.getIdxbyList=function(e,t,r,n){var i,s,o=he;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(i=r.shift())>=(s=o.getChildIdx(e,t)).length?-1:o.getIdxbyList(e,s[i],r,n)},he.getIdxbyListEx=function(e,t,r,n){var i,s,o=he;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;i=r.shift(),s=o.getChildIdx(e,t);for(var a=0,u=0;u<s.length;u++){var c=e.substr(s[u],2);if("number"==typeof i&&!o.isContextTag(c)&&a==i||"string"==typeof i&&o.isContextTag(c,i))return o.getIdxbyListEx(e,s[u],r,n);o.isContextTag(c)||a++}return-1},he.getTLVbyList=function(e,t,r,n){var i=he,s=i.getIdxbyList(e,t,r,n);return-1==s||s>=e.length?null:i.getTLV(e,s)},he.getTLVbyListEx=function(e,t,r,n){var i=he,s=i.getIdxbyListEx(e,t,r,n);return-1==s?null:i.getTLV(e,s)},he.getVbyList=function(e,t,r,n,i){var s,o,a=he;return-1==(s=a.getIdxbyList(e,t,r,n))||s>=e.length?null:(o=a.getV(e,s),!0===i&&(o=o.substr(2)),o)},he.getVbyListEx=function(e,t,r,n,i){var s,o,a=he;return-1==(s=a.getIdxbyListEx(e,t,r,n))?null:(o=a.getV(e,s),"03"==e.substr(s,2)&&!1!==i&&(o=o.substr(2)),o)},he.getInt=function(e,t,r){null==r&&(r=-1);try{var n=e.substr(t,2);if("02"!=n&&"03"!=n)return r;var i=he.getV(e,t);return"02"==n?parseInt(i,16):Ke(i)}catch(e){return r}},he.getOID=function(e,t,r){null==r&&(r=null);try{return"06"!=e.substr(t,2)?r:ke(he.getV(e,t))}catch(e){return r}},he.getOIDName=function(e,t,r){null==r&&(r=null);try{var n=he.getOID(e,t,r);if(n==r)return r;var i=ce.asn1.x509.OID.oid2name(n);return""==i?n:i}catch(e){return r}},he.getString=function(e,t,r){null==r&&(r=null);try{return Ae(he.getV(e,t))}catch(e){return r}},he.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var s=e.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(2*a,2),16));var u=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=t((127&o[a]).toString(2),7):(c+=t((127&o[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=r.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},he.dump=function(e,t,r,n){var i=he,s=i.getV,o=i.dump,a=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,g=t.ommit_long_octet;if("01"==(l=u.substr(r,2)))return"00"==(h=s(u,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+c(h=s(u,r),g)+"\n";if("03"==l){var h=s(u,r);return i.isASN1HEX(h.substr(2))?(E=n+"BITSTRING, encapsulates\n")+o(h.substr(2),t,0,n+"  "):n+"BITSTRING "+c(h,g)+"\n"}if("04"==l)return h=s(u,r),i.isASN1HEX(h)?(E=n+"OCTETSTRING, encapsulates\n")+o(h,t,0,n+"  "):n+"OCTETSTRING "+c(h,g)+"\n";if("05"==l)return n+"NULL\n";if("06"==l){var p=s(u,r),f=ce.asn1.ASN1Util.oidHexToInt(p),d=ce.asn1.x509.OID.oid2name(f),y=f.replace(/\./g," ");return""!=d?n+"ObjectIdentifier "+d+" ("+y+")\n":n+"ObjectIdentifier ("+y+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(s(u,r))+"\n";if("0c"==l)return n+"UTF8String '"+we(s(u,r))+"'\n";if("13"==l)return n+"PrintableString '"+we(s(u,r))+"'\n";if("14"==l)return n+"TeletexString '"+we(s(u,r))+"'\n";if("16"==l)return n+"IA5String '"+we(s(u,r))+"'\n";if("17"==l)return n+"UTCTime "+we(s(u,r))+"\n";if("18"==l)return n+"GeneralizedTime "+we(s(u,r))+"\n";if("1a"==l)return n+"VisualString '"+we(s(u,r))+"'\n";if("1e"==l)return n+"BMPString '"+we(s(u,r))+"'\n";if("30"==l){if("3000"==u.substr(r,4))return n+"SEQUENCE {}\n";E=n+"SEQUENCE\n";var m=t;if((2==(b=a(u,r)).length||3==b.length)&&"06"==u.substr(b[0],2)&&"04"==u.substr(b[b.length-1],2)){d=i.oidname(s(u,b[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=d,m=v}for(var S=0;S<b.length;S++)E+=o(u,m,b[S],n+"  ");return E}if("31"==l){E=n+"SET\n";var b=a(u,r);for(S=0;S<b.length;S++)E+=o(u,t,b[S],n+"  ");return E}if(0!=(128&(l=parseInt(l,16)))){var E,w=31&l;if(0!=(32&l)){for(E=n+"["+w+"]\n",b=a(u,r),S=0;S<b.length;S++)E+=o(u,t,b[S],n+"  ");return E}return h=s(u,r),he.isASN1HEX(h)?(E=n+"["+w+"]\n")+o(h,t,0,n+"  "):(("68747470"==h.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==w)&&(h=we(h)),n+"["+w+"] "+h+"\n")}return n+"UNKNOWN("+l+") "+s(u,r)+"\n"},he.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},he.isASN1HEX=function(e){var t=he;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0);return e.length-n.length-i.length==2*r},he.checkStrictDER=function(e,t,r,n,i){var s=he;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");r=e.length,i=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(s.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var o=s.getVblen(e,t);if(o>n)throw new Error("value of L too long than hex: idx="+t);var a=s.getTLV(e,t),u=a.length-2-s.getL(e,t).length;if(u!==2*o)throw new Error("V string length and L's value not the same:"+u+"/"+2*o);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var c=e.substr(t,2);if("02"===c){var l=s.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var g=s.getVblen(e,t),h=0,p=s.getChildIdx(e,t),f=0;f<p.length;f++)h+=s.getTLV(e,p[f]).length,s.checkStrictDER(e,p[f],r,n,i);if(2*g!=h)throw new Error("sum of children's TLV length and L unmatch: "+2*g+"!="+h)}},he.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,r=t.DERBitString,n=t.DERSequence,i=t.x509,s=i.TBSCertificate,o=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var r=e.tbsobj.getEncodedHex(),n=new ce.crypto.Signature({alg:t});n.init(e.cakey),n.updateHex(r),e.sighex=n.sign()},this.getPEM=function(){return Te(this.getEncodedHex(),"CERTIFICATE")},this.getEncodedHex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new s(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).getEncodedHex()},null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,r=t.x509,n=t.DERTaggedObject,i=t.DERInteger,s=t.DERSequence,o=r.AlgorithmIdentifier,a=r.Time,u=r.X500Name,c=r.Extensions,l=r.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var r=2;null!=t.version&&(r=t.version-1);var g=new n({obj:new i({int:r})});e.push(g)}return e.push(new i(t.serial)),e.push(new o({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new s({array:[new a(t.notbefore),new a(t.notafter)]})),e.push(new u(t.subject)),e.push(new l(We.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new n({tag:"a3",obj:new c(t.ext)})),new ce.asn1.DERSequence({array:e}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extensions=function(e){ce.asn1.x509.Extensions.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.getEncodedHex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],s=i.extname,o=null;if(null!=i.extn)o=new n.PrivateExtension(i);else if("subjectKeyIdentifier"==s)o=new n.SubjectKeyIdentifier(i);else if("keyUsage"==s)o=new n.KeyUsage(i);else if("subjectAltName"==s)o=new n.SubjectAltName(i);else if("issuerAltName"==s)o=new n.IssuerAltName(i);else if("basicConstraints"==s)o=new n.BasicConstraints(i);else if("cRLDistributionPoints"==s)o=new n.CRLDistributionPoints(i);else if("certificatePolicies"==s)o=new n.CertificatePolicies(i);else if("authorityKeyIdentifier"==s)o=new n.AuthorityKeyIdentifier(i);else if("extKeyUsage"==s)o=new n.ExtKeyUsage(i);else if("authorityInfoAccess"==s)o=new n.AuthorityInfoAccess(i);else if("cRLNumber"==s)o=new n.CRLNumber(i);else if("cRLReason"==s)o=new n.CRLReason(i);else if("ocspNonce"==s)o=new n.OCSPNonce(i);else if("ocspNoCheck"==s)o=new n.OCSPNoCheck(i);else if("adobeTimeStamp"==s)o=new n.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=s)throw new Error("extension not supported:"+JSON.stringify(i));o=new n.SubjectDirectoryAttributes(i)}null!=o&&e.push(o)}return new r({array:e}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.Extensions,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,r=t.DERObjectIdentifier,n=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),s=t.DERSequence;this.getEncodedHex=function(){var e=new r({oid:this.oid}),t=new n({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new i),o.push(t),new s({array:o}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},i.lang.extend(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Xe.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ce.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var r=e.names,n="000000000",i=0;i<r.length;i++)for(var s=0;s<t.length;s++)r[i]===t[s]&&(n=n.substring(0,s)+"1"+n.substring(s+1,n.length));this.asn1ExtnValue=new ce.asn1.DERBitString({bin:n})}},i.lang.extend(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERBoolean,n=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new r),this.pathLen>-1&&e.push(new n({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},i.lang.extend(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,r=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){for(var n=[],i=0;i<e.length;i++)if(e[i]instanceof ce.asn1.ASN1Object)n.push(e[i]);else{var s=new r.DistributionPoint(e[i]);n.push(s)}this.asn1ExtnValue=new t.DERSequence({array:n})},this.setByOneURI=function(e){var t=new r.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},i.lang.extend(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1,r=t.x509.DistributionPointName;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var r=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(r)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new r(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new r({full:[{uri:e.fulluri}]})))},i.lang.extend(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,r=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},i.lang.extend(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,r=t.x509,n=t.DERSequence,i=r.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var r=new n({array:e});return this.asn1ExtnValue=r,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new n(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],s=0;s<this.params.array.length;s++)t.push(new i(this.params.array[s]));t.length>0&&e.push(new r({array:t}))}return new r({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERSequence,n=t.DERIA5String,i=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,r=(ce.asn1.DERInteger,ce.asn1.x509.DisplayText),n=ce.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new r(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,r=ce.asn1.DERInteger,n=ce.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var i=[],s=this.params.noticenum,o=0;o<s.length;o++)i.push(new r(s[o]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},i.lang.extend(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var r=0;r<e.length;r++){var n=new t.DERObjectIdentifier(e[r]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},i.lang.extend(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce,r=t.asn1,n=r.DERTaggedObject,i=r.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new r.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=We.getKey(e));var r=We.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:r})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new Xe;t.readCertPEM(e);var r=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:r})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},i.lang.extend(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var r=e;"string"==typeof e&&(r=We.getKey(e));var n=We.getKeyID(r);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},i.lang.extend(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,r=ce.asn1,n=r.DERSequence,i=r.DERObjectIdentifier,s=r.x509.GeneralName,o=0;o<e.length;o++){var a,u=e[o];if(void 0!==u.ocsp)a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new s({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new s({uri:u.caissuer})]})}t.push(a)}this.asn1ExtnValue=new n({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},i.lang.extend(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},i.lang.extend(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},i.lang.extend(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.SubjectDirectoryAttributes=function(e){ce.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERSequence,n=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var s=this.params.array[t],o={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={gentime:s.str};else if("placeOfBirth"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={utf8str:s.str};else if("gender"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str};else if("countryOfCitizenship"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str};else{if("countryOfResidence"!=s.attr)throw new Error("unsupported attribute: "+s.attr);o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str}}e.push(new n(o))}var a=new r({array:e});return this.asn1ExtnValue=a,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.x509.SubjectDirectoryAttributes,ce.asn1.x509.Extension),ce.asn1.x509.PrivateExtension=function(e){ce.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=ce,r=t.lang.String.isHex,n=t.asn1,i=n.x509.OID.name2oid,s=n.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&r(e))return e;if("object"==typeof e)try{return s(e).getEncodedHex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.PrivateExtension,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.DERBitString,i=t.x509,s=i.AlgorithmIdentifier,o=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).getEncodedHex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var r=t.sign();this.params.sighex=r},this.getPEM=function(){return Te(this.getEncodedHex(),"X509 CRL")},this.getEncodedHex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new s({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).getEncodedHex()},null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,r=t.DERInteger,n=t.DERSequence,i=t.DERTaggedObject,s=(t.DERObjectIdentifier,t.x509),o=s.AlgorithmIdentifier,a=s.Time,u=s.Extensions,c=s.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var s=[new r(t[i].sn),new a(t[i].date)];null!=t[i].ext&&s.push(new u(t[i].ext)),e.push(new n({array:s}))}return new n({array:e})},this.getEncodedHex=function(){var e=[],t=this.params;if(null!=t.version){var s=t.version-1,l=new r({int:s});e.push(l)}if(e.push(new o({name:t.sigalg})),e.push(new c(t.issuer)),e.push(new a(t.thisupdate)),null!=t.nextupdate&&e.push(new a(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var g=new u(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:g}))}return new n({array:e}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},i.lang.extend(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.CRLNumber=function(e){ce.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERInteger(this.params.num),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRLNumber,ce.asn1.x509.Extension),ce.asn1.x509.CRLReason=function(e){ce.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.CRLReason,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNonce=function(e){ce.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEROctetString(this.params),this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.OCSPNonce,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNoCheck=function(e){ce.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERNull,this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},i.lang.extend(ce.asn1.x509.OCSPNoCheck,ce.asn1.x509.Extension),ce.asn1.x509.AdobeTimeStamp=function(e){ce.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=ce.asn1,r=t.DERInteger,n=t.DERBoolean,i=t.DERSequence,s=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new r(1)];return t.push(new s({uri:e.uri})),null!=e.reqauth&&t.push(new n(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.getEncodedHex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.AdobeTimeStamp,ce.asn1.x509.Extension),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1,r=t.x509,n=r.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var r=e.split("/");r.shift();for(var i=[],s=0;s<r.length;s++)if(r[s].match(/^[^=]+=.+$/))i.push(r[s]);else{var o=i.length-1;i[o]=i[o]+"/"+r[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new n({str:i[s],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var n=r.X500Name.ldapToCompat(e);this.setByString(n,t)},this.setByObject=function(e,t){for(var r in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(r)){var i=new n({str:r+"="+e[r],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new Xe).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new Xe).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var r={array:this.paramArray[e]};"utf8"!=this.sRule&&(r.rule=this.sRule);var i=new n(r);this.asn1Array.push(i)}var s=new t.DERSequence({array:this.asn1Array});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(!0===r){var o=(n.pop()+","+s).replace(/\\,/g,",");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}return(n=n.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+n.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),r=0;r<t.length;r++)this.addByString(t[r])},this.getEncodedHex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var r=this.paramArray[e];void 0!==r.rule&&"utf8"!=this.sRule&&(r.rule=this.sRule);var n=new t(r);this.asn1Array.push(n)}var i=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=i.getEncodedHex(),this.TLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),r=!1,n=[],i=0;t.length>0;i++){var s=t.shift();if(!0===r){var o=(n.pop()+"+"+s).replace(/\\\+/g,"+");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}var a=!1,u=[];for(i=0;n.length>0;i++){if(s=n.shift(),!0===a){var c=u.pop();s.match(/"$/)?(o=(c+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),u.push(o),a=!1):u.push(c+"+"+s)}else u.push(s);s.match(/^[^=]+="/)&&(a=!0)}return u},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=ce,r=t.asn1,n=r.DERSequence,i=r.DERUTF8String,s=r.DERPrintableString,o=r.DERTeletexString,a=r.DERIA5String,u=r.DERVisibleString,c=r.DERBMPString,l=t.lang.String.isMail,g=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var r=e.match(/^([^=]+)=(.+)$/);if(!r)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(r[1],r[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,r=this.sRule;return"prn"===r?"CN"==e&&l(t)?"ia5":g(t)?"prn":"utf8":"utf8"===r?"CN"==e&&l(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,r){void 0!==r&&(this.sRule=r),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new s({str:t});if("tel"==e)return new o({str:t});if("ia5"==e)return new a({str:t});if("vis"==e)return new u({str:t});if("bmp"==e)return new c({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.getEncodedHex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=ce.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),r=new n({array:[e,t]});return this.TLV=r.getEncodedHex(),this.TLV},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce,r=t.asn1,n=r.DERInteger,i=r.DERBitString,s=r.DERObjectIdentifier,o=r.DERSequence,a=r.ASN1Util.newObject,u=r.x509.AlgorithmIdentifier,c=t.crypto;c.ECDSA,c.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ne){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof ce.crypto.ECDSA){var r=new s({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof ce.crypto.DSA){r=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new u({name:"dsa",asn1params:r});var o=new n({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+o.getEncodedHex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},i.lang.extend(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,r=t.DERUTCTime,n=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new n(this.timeParams):"utc"==this.type?new r:new n,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},i.lang.extend(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,r=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var n in r)n===this.nameAlg&&(e=r[n]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var s=new t.DERSequence({array:i});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},i.lang.extend(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},r=ce.asn1,n=(r.DERSequence,r.DEROctetString),i=r.DERIA5String,s=r.DERTaggedObject,o=r.ASN1Object,a=r.x509.X500Name,u=Ce;this.explicit=!1,this.setByParam=function(e){var r=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",r=new i({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",r=new i({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",r=new i({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,r="string"==typeof e.dn?new a({str:e.dn}):e.dn instanceof ce.asn1.x509.X500Name?e.dn:new a(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,r=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var c=null;if((g=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=g.indexOf("-----BEGIN ")&&(c=u(g)),null==c)throw"certissuer param not cert";(h=new Xe).hex=c;var l=h.getIssuerHex();(r=new o).hTLV=l}if(void 0!==e.certsubj){var g,h;if(this.type="dn",this.explicit=!0,c=null,(g=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=g.indexOf("-----BEGIN ")&&(c=u(g)),null==c)throw"certsubj param not cert";(h=new Xe).hex=c,l=h.getSubjectHex(),(r=new o).hTLV=l}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var p,f=e.ip,d="malformed IP address";if(f.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(p=Ue("["+f.split(".").join(",")+"]")).length)throw d}else if(f.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))p=Ne(f);else{if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw d;p=f}r=new n({hex:p})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new s({explicit:this.explicit,tag:t[this.type],obj:r})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var r=0;r<e.length;r++){var n=new t.x509.GeneralName(e[r]);this.asn1Array.push(n)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},i.lang.extend(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=this.name2oidList[e],r=new ce.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=r,r},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];var t;if(e.match(/^\d+\.\d+\.[0-9.]+$/))t=e;else if(void 0!==this.atype2oidList[e])t=this.atype2oidList[e];else{if(void 0===this.name2oidList[e])throw"AttributeType name undefined: "+e;t=this.name2oidList[e]}var r=new ce.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=r,r}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var r in t)if(t[r]==e)return r;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var r in t)if(t[r]==e)return r;return e},ce.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERSet,s=r.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.getEncodedHex=function(){var e=new s({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new n({array:[e,t]}).getEncodedHex()}},i.lang.extend(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t=ce.asn1,r=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new r(this.params)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=n.cms,o=s.ESSCertID;r.crypto,s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!he.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertID=function(e){ce.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,r=ce,n=r.asn1,i=n.DEROctetString,s=n.DERSequence,o=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,n){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!he.isASN1HEX(e))return e;var i,s,o;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(s=-1!=i.indexOf("-----BEGIN")?Ce(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?s=Ce(e):he.isASN1HEX(e)&&(s=e)),null!=e.alg)o=e.alg;else{if(null==n)throw new t("hash alg unspecified");o=n}return r.crypto.Util.hashHex(s,o)},this.getEncodedHex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),r=[];return r.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&r.push(new o(e)),new s({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ESSCertID,ce.asn1.ASN1Object),ce.asn1.cms.SigningCertificateV2=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=(n.x509,n.cms),o=s.ESSCertIDv2;r.crypto,s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];null==e.alg&&0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!he.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=e.alg&&(a.alg=e.alg),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertIDv2=function(e){ce.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=ce.asn1,r=t.DEROctetString,n=t.DERSequence,i=t.cms.IssuerSerial,s=t.x509.AlgorithmIdentifier;this.params=null,this.getEncodedHex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),o=[];return null!=e.alg&&"sha256"!=e.alg&&o.push(new s({name:e.alg})),o.push(new r({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&o.push(new i(e)),new n({array:o}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ESSCertIDv2,ce.asn1.cms.ESSCertID),ce.asn1.cms.IssuerSerial=function(e){var t=Error,r=ce.asn1,n=r.DERInteger,i=r.DERSequence,s=r.cms,o=r.x509.GeneralNames,a=Xe;s.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e,r,s=this.params;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN")||null!=s.cert){var u;u=null!=s.cert?s.cert:s;var c=new a;c.readCertPEM(u),e=c.getIssuer(),r={hex:c.getSerialNumberHex()}}else{if(null==s.issuer||!s.serial)throw new t("cert or issuer and serial parameter not specified");e=s.issuer,r=s.serial}var l=new o([{dn:e}]),g=new n(r);return new i({array:[l,g]}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.SignerIdentifier=function(e){var t=ce.asn1,r=(t.DERInteger,t.DERSequence,t.cms),n=r.IssuerAndSerialNumber,i=r.SubjectKeyIdentifier;t.x509.X500Name,Error,r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if("isssn"==e.type)return new n(e).getEncodedHex();if("skid"==e.type)return new i(e).getEncodedHex();throw new Error("wrong property for isssn or skid")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignerIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,r=t.DERInteger,n=t.DERSequence,i=t.cms,s=t.x509.X500Name,o=Xe,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var u;u=null!=i.cert?i.cert:i;var c=new o;c.readCertPEM(u),e=c.getIssuer(),t={hex:c.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var l=new s(e),g=new r(t);return new n({array:[l,g]}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.SubjectKeyIdentifier=function(e){var t=ce.asn1,r=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),n=t.cms,i=(n.IssuerAndSerialName,n.SubjectKeyIdentifier,t.x509.X500Name,Xe),s=Error;n.SubjectKeyIdentifier.superclass.constructor.call(this),this.getEncodedHex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new s("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),r({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SubjectKeyIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=Error,r=ce.asn1,n=r.DERSet,i=r.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var r=!0;null!=e.sortflag&&(r=e.sortflag);for(var s=e.array,o=[],a=0;a<s.length;a++){var u=s[a],c=u.attr;if("contentType"==c)o.push(new i.ContentType(u));else if("messageDigest"==c)o.push(new i.MessageDigest(u));else if("signingTime"==c)o.push(new i.SigningTime(u));else if("signingCertificate"==c)o.push(new i.SigningCertificate(u));else if("signingCertificateV2"==c)o.push(new i.SigningCertificateV2(u));else if("signaturePolicyIdentifier"==c)o.push(new ce.asn1.cades.SignaturePolicyIdentifier(u));else{if("signatureTimeStamp"!=c&&"timeStampToken"!=c)throw new t("unknown attr: "+c);o.push(new ce.asn1.cades.SignatureTimeStamp(u))}}var l=new n({array:o,sortflag:r});return this.hTLV=l.getEncodedHex(),this.hTLV},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERInteger,s=n.DEROctetString,o=n.DERSequence,a=n.DERTaggedObject,u=n.cms,c=u.SignerIdentifier,l=u.AttributeList,g=(u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData,n.x509.AlgorithmIdentifier),h=r.crypto,p=We;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,r=new l(e.sattrs).getEncodedHex(),n=p.getKey(e.signkey),i=new h.Signature({alg:t});i.init(n),i.updateHex(r);var s=i.sign();e.sighex=s},this.getEncodedHex=function(){var e=this.params,r=[];if(r.push(new i({int:e.version})),r.push(new c(e.id)),r.push(new g({name:e.hashalg})),null!=e.sattrs){var n=new l(e.sattrs);try{r.push(new a({tag:"a0",explicit:!1,obj:n}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?r.push(new g({name:e.sigalgfield})):r.push(new g({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),r.push(new s({hex:e.sighex})),null!=e.uattrs){n=new l(e.uattrs);try{r.push(new a({tag:"a1",explicit:!1,obj:n}))}catch(e){throw new t("si uattr error: "+e)}}return new o({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,r=t.DERTaggedObject,n=t.DERSequence,i=t.DERObjectIdentifier,s=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var o=new s(e.content),a=new r({tag:"a0",explicit:!0,obj:o});t.push(a)}return new n({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,r=t.DERTaggedObject,n=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];t.push(new i(e.type));var s=new r({tag:"a0",explicit:!0,obj:e.obj});return t.push(s),new n({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){Error;var t=ce.asn1,r=(t.ASN1Object,t.DERInteger),n=t.DERSet,i=t.DERSequence,s=(t.DERTaggedObject,t.cms),o=s.EncapsulatedContentInfo,a=s.SignerInfo,u=s.ContentInfo,c=s.CertificateSet,l=s.RevocationInfoChoices,g=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},r=e.sinfos,n=0;n<r.length;n++)t[r[n].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,r=e.sinfos,n=0;n<r.length;n++){var i=r[n];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,r=(e.econtent.type,t.content.hex);null==r&&"data"==t.type&&null!=t.content.str&&(r=xe(t.content.str));for(var n=e.sinfos,i=0;i<n.length;i++){var s=n[i],o=s.hashalg,a=this._getAttrParamByName(s,"messageDigest"),u=ce.crypto.Util.hashHex(r,o);a.hex=u}},this._getAttrParamByName=function(e,t){for(var r=e.sattrs.array,n=0;n<r.length;n++)if(r[n].attr==t)return r[n]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,r=0;r<t.length;r++){var n=t[r],i=1;"skid"==n.id.type&&(i=3),n.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,r=0;r<t.length;r++)if(null!=t[r].ocsp)return 5;var n=e.sinfos;for(r=0;r<n.length;r++)if(3==e.sinfos[r].version)return 3;return"data"!=e.econtent.type?3:1},this.getEncodedHex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new r({int:e.version}));for(var s=[],u=0;u<e.hashalgs.length;u++){var h=e.hashalgs[u];s.push(new g({name:h}))}t.push(new n({array:s})),t.push(new o(e.econtent)),null!=e.certs&&t.push(new c(e.certs)),null!=e.revinfos&&t.push(new l(e.revinfos));var p=[];for(u=0;u<e.sinfos.length;u++){var f=e.sinfos[u];p.push(new a(f))}return t.push(new n({array:p})),new i({array:t}).getEncodedHex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CertificateSet=function(e){ce.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.DERTaggedObject,i=r.DERSet,s=r.ASN1Object;this.params=null,this.getEncodedHex=function(){var e,r=this.params,o=[];if(r instanceof Array)e=r;else{if(null==r.array)throw new t("cert array not specified");e=r.array}for(var a=0;a<e.length;a++){var u=Ce(e[a]),c=new s;c.hTLV=u,o.push(c)}var l={array:o};0==r.sortflag&&(l.sortflag=!1);var g=new i(l);return new n({tag:"a0",explicit:!1,obj:g}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.CertificateSet,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoices=function(e){ce.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],r=0;r<e.length;r++)t.push(new ce.asn1.cms.RevocationInfoChoice(e[r]));return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.RevocationInfoChoices,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoice=function(e){ce.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=Ce(e.crl)),t}if(null!=e.ocsp)return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ce.asn1.cms.OtherRevocationFormat(e)}}).getEncodedHex();throw new Error("property crl or ocsp undefined")},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.RevocationInfoChoice,ce.asn1.ASN1Object),ce.asn1.cms.OtherRevocationFormat=function(e){ce.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,r=ce,n=r.asn1.ASN1Util.newObject,i=r.lang.String.isHex;this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!he.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return n({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cms.OtherRevocationFormat,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){return new ce.asn1.cms.SignedData(e)},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=ce,r=t.asn1,n=r.cms,i=(n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2,r.cades.SignaturePolicyIdentifier,t.lang.String.isHex),s=he,o=s.getVbyList,a=s.getTLVbyList,u=s.getIdxbyList,c=s.getChildIdx,l=s.getTLV,g=s.oidname,h=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var p=e.cms,f=function(e,t){var r=t.idx;t.signerid_issuer1=a(e,r,[1,0],"30"),t.signerid_serial1=o(e,r,[1,1],"02"),t.hashalg=g(o(e,r,[2,0],"06"));var n=u(e,r,[3],"a0");t.idxSignedAttrs=n,d(e,t,n);var i=c(e,r).length;if(i<6)throw"malformed SignerInfo";t.sigalg=g(o(e,r,[i-2,0],"06")),t.sigval=o(e,r,[i-1],"04")},d=function(e,t,r){var n=c(e,r);t.signedAttrIdxList=n;for(var i=0;i<n.length;i++){var s,a=n[i],u=o(e,a,[0],"06");"2a864886f70d010905"===u?(s=we(o(e,a,[1,0])),t.saSigningTime=s):"2a864886f70d010904"===u&&(s=o(e,a,[1,0],"04"),t.saMessageDigest=s)}},y=function(e,t,r,n){r.verifyDetail={};var i=r.verifyDetail,s=t.parse.econtent,o=r.hashalg,a=r.saMessageDigest;i.validMessageDigest=!1,h(s,o)===a&&(i.validMessageDigest=!0),function(e,t,r,n){var i,s=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var o=c(e,s),a=0;a<o.length;a++){var u=l(e,o[a]),g=new Xe;g.readCertHex(u),i[a]=g,t.certkeys[a]=g.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=o.length,a=0;a<i.length;a++){var h=g.getIssuerHex(),p=g.getSerialNumberHex();r.signerid_issuer1===h&&r.signerid_serial1===p&&(r.certkey_idx=a)}}(e,t,r),i.validSignatureValue=!1;var u=r.sigalg,g="31"+l(e,r.idxSignedAttrs).substr(2);r.signedattrshex=g;var p=t.certs[r.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:u});f.init(p),f.updateHex(g);var d=f.verify(r.sigval);i.validSignatureValue_isValid=d,!0===d&&(i.validSignatureValue=!0),r.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(r.isValid=!0)},m={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==o(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=o(e,0,[1,0,2,1,0]),function(e,t){for(var r,n=3;n<6;n++)if(void 0!==(r=u(e,0,[1,0,n]))){var i=e.substr(r,2);"a0"===i&&(t.certsIdx=r),"a1"===i&&(t.revinfosIdx=r),"31"===i&&(t.signerinfosIdx=r)}}(e,t),t.signerInfos=[],function(e,t){var r=t.signerinfosIdx;if(void 0!==r){var n=c(e,r);t.signerInfoIdxList=n;for(var i=0;i<n.length;i++){var s={idx:n[i]};f(e,s),t.signerInfos.push(s)}}}(e,t)}(p,m.parse),function(e,t){for(var r=t.parse.signerInfos,n=r.length,i=!0,s=0;s<n;s++){var o=r[s];y(e,t,o),o.isValid||(i=!1)}t.isValid=i}(p,m),m},ce.asn1.cms.CMSParser=function(){var e=Error,t=Xe,r=new t,n=he,i=n.getV,s=n.getTLV,o=(n.getIdxbyList,n.getTLVbyList),a=n.getTLVbyListEx,u=n.getVbyList,c=n.getVbyListEx,l=n.getChildIdx;this.getCMSSignedData=function(e){var t=o(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=l(e,0),r={},n=i(e,t[0]),o=parseInt(n,16);r.version=o;var u=s(e,t[1]);r.hashalgs=this.getHashAlgArray(u);var c=s(e,t[2]);r.econtent=this.getEContent(c);var g=a(e,0,["[0]"]);null!=g&&(r.certs=this.getCertificateSet(g)),a(e,0,["[1]"]);var h=a(e,0,[3]);return r.sinfos=this.getSignerInfos(h),r},this.getHashAlgArray=function(e){for(var r=l(e,0),n=new t,i=[],o=0;o<r.length;o++){var a=s(e,r[o]),u=n.getAlgorithmIdentifierName(a);i.push(u)}return i},this.getEContent=function(e){var t={},r=u(e,0,[0]),n=u(e,0,[1,0]);return t.type=ce.asn1.x509.OID.oid2name(he.hextooidstr(r)),t.content={hex:n},t},this.getSignerInfos=function(e){for(var t=[],r=l(e,0),n=0;n<r.length;n++){var i=s(e,r[n]),o=this.getSignerInfo(i);t.push(o)}return t},this.getSignerInfo=function(e){var t={},i=l(e,0),o=n.getInt(e,i[0],-1);-1!=o&&(t.version=o);var u=s(e,i[1]),g=this.getIssuerAndSerialNumber(u);t.id=g;var h=s(e,i[2]),p=r.getAlgorithmIdentifierName(h);t.hashalg=p;var f=a(e,0,["[0]"]);if(null!=f){var d=this.getAttributeList(f);t.sattrs=d}var y=a(e,0,[3]),m=r.getAlgorithmIdentifierName(y);t.sigalg=m;var v=c(e,0,[4]);t.sighex=v;var S=a(e,0,["[1]"]);if(null!=S){var b=this.getAttributeList(S);t.uattrs=b}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},n=l(e,0),o=s(e,n[0]);t.issuer=r.getX500Name(o);var a=i(e,n[1]);return t.serial={hex:a},t},this.getAttributeList=function(e){for(var t=[],r=l(e,0),n=0;n<r.length;n++){var i=s(e,r[n]),o=this.getAttribute(i);t.push(o)}return{array:t}},this.getAttribute=function(e){var t={},r=l(e,0),i=n.getOID(e,r[0]),o=ce.asn1.x509.OID.oid2name(i);t.attr=o;var a=s(e,r[1]),u=l(a,0);if(1==u.length)t.valhex=s(a,u[0]);else{for(var c=[],g=0;g<u.length;g++)c.push(s(a,u[g]));t.valhex=c}return"contentType"==o?this.setContentType(t):"messageDigest"==o?this.setMessageDigest(t):"signingTime"==o?this.setSigningTime(t):"signingCertificate"==o?this.setSigningCertificate(t):"signingCertificateV2"==o?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==o&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=n.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=we(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=l(e.valhex,0);if(t.length>0){for(var r=s(e.valhex,t[0]),n=l(r,0),i=[],o=0;o<n.length;o++){var a=s(r,n[o]),u=this.getESSCertID(a);i.push(u)}e.array=i}if(t.length>1){var c=s(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var r=l(e.valhex,0);if(r.length>0){var o=n.getOID(e.valhex,r[0]);e.oid=o}if(r.length>1){var a=new t,u=l(e.valhex,r[1]),c=s(e.valhex,u[0]),g=a.getAlgorithmIdentifierName(c);e.alg=g;var h=i(e.valhex,u[1]);e.hash=h}delete e.valhex},this.setSigningCertificateV2=function(e){var t=l(e.valhex,0);if(t.length>0){for(var r=s(e.valhex,t[0]),n=l(r,0),i=[],o=0;o<n.length;o++){var a=s(r,n[o]),u=this.getESSCertIDv2(a);i.push(u)}e.array=i}if(t.length>1){var c=s(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.getESSCertID=function(e){var t={},r=l(e,0);if(r.length>0){var n=i(e,r[0]);t.hash=n}if(r.length>1){var o=s(e,r[1]),a=this.getIssuerSerial(o);null!=a.serial&&(t.serial=a.serial),null!=a.issuer&&(t.issuer=a.issuer)}return t},this.getESSCertIDv2=function(t){var n={},o=l(t,0);if(o.length<1||3<o.length)throw new e("wrong number of elements");var a=0;if("30"==t.substr(o[0],2)){var u=s(t,o[0]);n.alg=r.getAlgorithmIdentifierName(u),a++}else n.alg="sha256";var c=i(t,o[a]);if(n.hash=c,o.length>a+1){var g=s(t,o[a+1]),h=this.getIssuerSerial(g);n.issuer=h.issuer,n.serial=h.serial}return n},this.getIssuerSerial=function(e){var t={},n=l(e,0),o=s(e,n[0]),a=r.getGeneralNames(o)[0].dn;t.issuer=a;var u=i(e,n[1]);return t.serial={hex:u},t},this.getCertificateSet=function(e){for(var t=l(e,0),r=[],n=0;n<t.length;n++){var i=s(e,t[n]);if("30"==i.substr(0,2)){var o=Te(i,"CERTIFICATE");r.push(o)}}return{array:r,sortflag:!1}}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.TimeStampToken=function(e){var t=ce.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampToken,ce.asn1.cms.SignedData),ce.asn1.tsp.TSTInfo=function(e){Error;var t=ce.asn1,r=t.DERSequence,n=t.DERInteger,i=t.DERBoolean,s=t.DERGeneralizedTime,o=t.DERObjectIdentifier,a=t.DERTaggedObject,u=t.tsp,c=u.MessageImprint,l=u.Accuracy,g=(t.x509.X500Name,t.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new c(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new n(e.serial)),void 0!==e.genTime&&(this.dGenTime=new s(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new l(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new n(e.nonce)),void 0!==e.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new g({dn:e.tsa})}))}},i.lang.extend(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,r=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),r({seq:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=new i({name:e.alg}),s=new n({hex:e.hash});return new r({array:[t,s]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DERInteger,i=t.DERBoolean,s=(t.ASN1Object,t.DERObjectIdentifier),o=t.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return t.push(new n({int:1})),e.messageImprint instanceof ce.asn1.ASN1Object?t.push(e.messageImprint):t.push(new a(e.messageImprint)),null!=e.policy&&t.push(new s(e.policy)),null!=e.nonce&&t.push(new n(e.nonce)),1==e.certreq&&t.push(new i),new r({array:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,r=t.DERSequence,n=(t.ASN1Object,t.tsp),i=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,s=[new i(e.statusinfo)];return null!=e.econtent&&s.push(new n.TimeStampToken(e).getContentInfo()),null!=e.tst&&e.tst instanceof t.ASN1Object&&s.push(e.tst),new r({array:s}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.tsp,s=i.PKIStatus,o=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,r=[];if("string"==typeof e)r.push(new s(e));else{if(null==e.status)throw new t("property 'status' unspecified");r.push(new s(e.status)),null!=e.statusstr&&r.push(new o(e.statusstr)),null!=e.failinfo&&r.push(new a(e.failinfo))}return new n({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=Error,r=ce.asn1,n=r.DERInteger;r.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.getEncodedHex=function(){var e,r=this.params;if("string"==typeof r)try{e=i[r]}catch(e){throw new t("undefined name: "+r)}else{if("number"!=typeof r)throw new t("unsupported params");e=r}return new n({int:e}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFreeText=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERUTF8String;r.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var r=[],s=0;s<e.length;s++)r.push(new i({str:e[s]}));return new n({array:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=Error,r=ce.asn1,n=r.DERBitString,i=r.tsp.PKIFailureInfo,s={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e,r=this.params;if("string"==typeof r)try{e=s[r]}catch(e){throw new t("undefined name: "+r)}else{if("number"!=typeof r)throw new t("wrong params");e=r}return new n({bin:e.toString(2)}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce,r=t.asn1.tsp,n=t.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=n(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:s},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce,r=t.asn1.tsp,n=t.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=n(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},i.lang.extend(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new ce.asn1.tsp.TimeStampToken(e)},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=he,r=t.getChildIdx,n=t.getV,i=t.getTLV,s={certreq:!1},o=r(e,0);if(o.length<2)throw"TimeStampReq must have at least 2 items";var a=i(e,o[1]);s.messageImprint=ce.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var u=2;u<o.length;u++){var c=o[u],l=e.substr(c,2);if("06"==l){var g=n(e,c);s.policy=t.hextooidstr(g)}"02"==l&&(s.nonce=n(e,c)),"01"==l&&(s.certreq=!0)}return s},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=he,r=t.getChildIdx,n=t.getV,i=t.getIdxbyList,s={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";r(e,0);var o=n(e,i(e,0,[0,0])),a=t.hextooidstr(o),u=ce.asn1.x509.OID.oid2name(a);if(""==u)throw"hashAlg name undefined: "+a;var c=u,l=i(e,0,[1]);return s.alg=c,s.hash=n(e,l),s},ce.asn1.tsp.TSPParser=function(){Error;var e=new Xe,t=he,r=t.getV,n=t.getTLV,i=t.getIdxbyList,s=(t.getTLVbyListEx,t.getChildIdx),o=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],a={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=s(e,0);if(1==t.length)return this.getPKIStatusInfo(n(e,t[0]));if(t.length>1){var r=this.getPKIStatusInfo(n(e,t[0])),i=n(e,t[1]),o=this.getToken(i);return o.statusinfo=r,o}},this.getToken=function(e){var t=(new ce.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var r=t.content.hex,n=this.getTSTInfo(r);t.content=n}},this.getTSTInfo=function(t){var i={},o=s(t,0),a=r(t,o[1]);i.policy=ke(a);var u=n(t,o[2]);i.messageImprint=this.getMessageImprint(u);var c=r(t,o[3]);i.serial={hex:c};var l=r(t,o[4]);i.genTime={str:we(l)};var g=0;if(o.length>5&&"30"==t.substr(o[5],2)){var h=n(t,o[5]);i.accuracy=this.getAccuracy(h),g++}if(o.length>5+g&&"01"==t.substr(o[5+g],2)&&("ff"==r(t,o[5+g])&&(i.ordering=!0),g++),o.length>5+g&&"02"==t.substr(o[5+g],2)){var p=r(t,o[5+g]);i.nonce={hex:p},g++}if(o.length>5+g&&"a0"==t.substr(o[5+g],2)){var f=n(t,o[5+g]);f="30"+f.substr(2),pGeneralNames=e.getGeneralNames(f);var d=pGeneralNames[0].dn;i.tsa=d,g++}if(o.length>5+g&&"a1"==t.substr(o[5+g],2)){var y=n(t,o[5+g]);y="30"+y.substr(2);var m=e.getExtParamArray(y);i.ext=m,g++}return i},this.getAccuracy=function(e){for(var t={},n=s(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),a=r(e,n[i]),u=parseInt(a,16);"02"==o?t.seconds=u:"80"==o?t.millis=u:"81"==o&&(t.micros=u)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var n={},o=(s(e,0),i(e,0,[0,0])),a=r(e,o),u=t.hextooidstr(a),c=ce.asn1.x509.OID.oid2name(u);if(""==c)throw new Error("hashAlg name undefined: "+u);var l=c,g=i(e,0,[1]);return n.alg=l,n.hash=r(e,g),n},this.getPKIStatusInfo=function(e){var t={},i=s(e,0),a=0;try{var u=r(e,i[0]),c=parseInt(u,16);t.status=o[c]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var l=n(e,i[1]);t.statusstr=this.getPKIFreeText(l),a++}if(i.length>a&&"03"==e.substr(i[1+a],2)){var g=n(e,i[1+a]);t.failinfo=this.getPKIFailureInfo(g)}return t},this.getPKIFreeText=function(e){for(var r=[],n=s(e,0),i=0;i<n.length;i++)r.push(t.getString(e,n[i]));return r},this.getPKIFailureInfo=function(e){var r=t.getInt(e,0);return null!=a[r]?a[r]:r}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1.cades,r=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.SignaturePolicyId=function(e){var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),s=i.SignaturePolicyId,o=i.OtherHashAlgAndValue;s.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,t=[];return t.push(new n(e.oid)),t.push(new o(e)),new r({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignaturePolicyId,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509.AlgorithmIdentifier;r.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var r=null;if(null!=e.hash)r=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var o=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(o=Ce(e.cert)),r=ce.crypto.Util.hashHex(o,e.alg)}var a=[];return a.push(new s({name:e.alg})),a.push(new i({hex:r})),new n({array:a}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashValue=function(e){ce.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,r=ce,n=(r.lang.String.isHex,r.asn1.DEROctetString);r.crypto.Util.hashHex,this.params=null,this.getEncodedHex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var r=null;if(null!=e.hash)r=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=Ce(e.cert)),r=ce.crypto.Util.hashHex(i,"sha1")}return new n({hex:r}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHashValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=Error,r=ce,n=r.lang.String.isHex,i=r.asn1,s=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(n(e.tst))return(r=new s).hTLV=e.tst,[r];if(e.tst instanceof s)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var r,i=e.res;if(i instanceof s&&(i=i.getEncodedHex()),"string"!=typeof i||!n(i))throw new t("params.res has wrong value");return he.getTLVbyList(i,0,[1]),(r=new s).hTLV=e.tst,[r]}},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,r=ce,n=r.asn1,i=n.DERSequence,s=n.cades,o=s.OtherCertID,a=r.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,r=[],n=0;n<e.array.length;n++){var s=e.array[n];if("string"==typeof s)if(-1!=s.indexOf("-----BEGIN"))s={cert:s};else{if(!a(s))throw new t("unsupported value: "+s);s={hash:s}}null!=e.alg&&null==s.alg&&(s.alg=e.alg),null!=e.hasis&&null==s.hasis&&(s.hasis=e.hasis);var u=new o(s);r.push(u)}return[new i({array:r})]},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,r=t.DERSequence,n=t.cms.IssuerSerial,i=t.cades,s=i.OtherHashValue,o=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.getEncodedHex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new o(e):new s(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var a=new n(e);i.push(a)}return new r({array:i}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){Error;var t=ce,r=t.asn1,n=(r.cms,r.cades),i=n.OtherHashAlgAndValue,s=n.OtherHashValue,o=(t.crypto.Util.hashHex,t.lang.String.isHex);n.OtherHash.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:o(e)&&(e={hash:e})),(null!=e.alg?new i(e):new s(e)).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new ce.asn1.cms.CMSParser).getCMSSignedData(e)},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,r){var n=he,i=n.getChildIdx,s=n.getTLV,o=n.getV,a=ce.asn1,u=a.ASN1Object,c=a.cms,l=c.AttributeList,g=c.SignerInfo,h={},p=i(e,t);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var f=p.shift();h.version=s(e,f);var d=p.shift();h.si=s(e,d);var y=p.shift();h.digalg=s(e,y);var m=p.shift();h.sattrs=s(e,m);var v=p.shift();h.sigalg=s(e,v);var S=p.shift();h.sig=s(e,S),h.sigval=o(e,S);var b=null;return h.obj=new g,(b=new u).hTLV=h.version,h.obj.dCMSVersion=b,(b=new u).hTLV=h.si,h.obj.dSignerIdentifier=b,(b=new u).hTLV=h.digalg,h.obj.dDigestAlgorithm=b,(b=new u).hTLV=h.sattrs,h.obj.dSignedAttrs=b,(b=new u).hTLV=h.sigalg,h.obj.dSigAlg=b,(b=new u).hTLV=h.sig,h.obj.dSig=b,h.obj.dUnsignedAttrs=new l,h},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce.asn1,r=t.DERBitString,n=t.DERSequence,i=t.csr,s=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new s(this.params).getEncodedHex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var r=t.sign();this.params.sighex=r},this.getPEM=function(){return Te(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){var e=this.params,t=new ce.asn1.csr.CertificationRequestInfo(this.params),i=new ce.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var s=new r({hex:"00"+e.sighex});return new n({array:[t,i,s]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,r=(t.DERBitString,t.DERSequence),n=t.DERInteger,i=t.DERUTF8String,s=t.DERTaggedObject,o=t.ASN1Util.newObject,a=t.csr,u=t.x509,c=u.X500Name,l=u.Extensions,g=u.SubjectPublicKeyInfo;a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.getEncodedHex=function(){var e=this.params,t=[];if(t.push(new n({int:0})),t.push(new c(e.subject)),t.push(new g(We.getKey(e.sbjpubkey))),null!=e.extreq){var a=new l(e.extreq),u=o({tag:{tag:"a0",explict:!0,obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[a]}]}}});t.push(u)}else t.push(new s({tag:"a0",explicit:!1,obj:new i({str:""})}));return new r({array:t}).getEncodedHex()},null!=e&&this.setByParam(e)},i.lang.extend(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){return new ce.asn1.csr.CertificationRequest(e).getPEM()},ce.asn1.csr.CSRUtil.getParam=function(e){var t=he,r=t.getV;_getIdxbyList=t.getIdxbyList,_getTLVbyList=t.getTLVbyList,_getTLVbyListEx=t.getTLVbyListEx,_getVbyListEx=t.getVbyListEx;var n={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var i=Ce(e,"CERTIFICATE REQUEST");try{var s=_getTLVbyListEx(i,0,[0,1]);if("3000"==s)n.subject={};else{var o=new Xe;n.subject=o.getX500Name(s)}}catch(e){}var a=_getTLVbyListEx(i,0,[0,2]),u=We.getKey(a,null,"pkcs8pub");n.sbjpubkey=We.getPEM(u,"PKCS8PUB");var c,l="2a864886f70d01090e"!=r(c=i,_getIdxbyList(c,0,[0,3,0,0],"06"))?null:_getTLVbyList(c,0,[0,3,0,1,0],"30");o=new Xe,null!=l&&(n.extreq=o.getExtParamArray(l));try{var g=_getTLVbyListEx(i,0,[1],"30");o=new Xe,n.sigalg=o.getAlgorithmIdentifierName(g)}catch(e){}try{var h=_getVbyListEx(i,0,[2]);n.sighex=h}catch(e){}return n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.OCSPResponse=function(e){ce.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),ce.asn1.DEREnumerated;var t=ce.asn1.ASN1Util.newObject,r=ce.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:n.indexOf(e)},this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params,n=this._getStatusCode();if(-1==n)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=n)return t({seq:[{enum:{int:n}}]}).getEncodedHex();var i=new r(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.OCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseBytes=function(e){ce.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.DERObjectIdentifier,i=t.DEROctetString,s=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.getEncodedHex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new s(e),o=[];return o.push(new n({name:"ocspBasic"})),o.push(new i({hex:t.getEncodedHex()})),new r({array:o}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponseBytes,ce.asn1.ASN1Object),ce.asn1.ocsp.BasicOCSPResponse=function(e){ce.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.ASN1Object,i=r.DERSequence,s=(r.DERGeneralizedTime,r.DERTaggedObject),o=r.DERBitString,a=(r.x509.Extensions,r.x509.AlgorithmIdentifier),u=r.ocsp;u.ResponderID,_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.getEncodedHex(),r=new ce.crypto.Signature({alg:e.sigalg});r.init(e.reskey),r.updateHex(t),e.sighex=r.sign()},this.getEncodedHex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var r=[];if(r.push(e.tbsresp),r.push(new a({name:e.sigalg})),r.push(new o({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var u=[],c=0;c<e.certs.length;c++){var l=e.certs[c],g=null;if(he.isASN1HEX(l))g=l;else{if(!l.match(/-----BEGIN/))throw new t("certs["+c+"] not hex or PEM");g=Ce(l)}u.push(new n({tlv:g}))}var h=new i({array:u});r.push(new s({tag:"a0",explicit:!0,obj:h}))}return new i({array:r}).getEncodedHex()},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.BasicOCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseData=function(e){ce.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.x509.Extensions,a=r.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.getEncodedHex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var r=[];if(r.push(new u(e.respid)),r.push(new i(e.prodat)),r.push(new _SingleResponseList(e.array)),null!=e.ext){var a=new o(e.ext);r.push(new s({tag:"a1",explicit:!0,obj:a}))}return new n({array:r}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponseData,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponderID=function(e){ce.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=ce.asn1,r=t.ASN1Util.newObject,n=t.x509.X500Name;this.params=null,this.getEncodedHex=function(){var e=this.params;if(null!=e.key)return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:e.key}}}}).getEncodedHex();if(null!=e.name)return r({tag:{tag:"a1",explicit:!0,obj:new n(e.name)}}).getEncodedHex();throw new Error("key or name not specified")},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.ResponderID,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponseList=function(e){ce.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=ce.asn1,r=t.DERSequence,n=t.ocsp.SingleResponse;this.params=null,this.getEncodedHex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new n(e[i]));return new r({array:t}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.SingleResponseList,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponse=function(e){var t=Error,r=ce.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.ocsp,a=o.CertID,u=o.CertStatus,c=r.x509.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params,r=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(r.push(new a(e.certid)),r.push(new u(e.status)),r.push(new i(e.thisupdate)),null!=e.nextupdate){var o=new i(e.nextupdate);r.push(new s({tag:"a0",explicit:!0,obj:o}))}if(null!=e.ext){var l=new c(e.ext);r.push(new s({tag:"a1",explicit:!0,obj:l}))}return new n({array:r}).getEncodedHex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.SingleResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.CertID=function(e){var t=ce,r=t.asn1,n=r.DEROctetString,i=r.DERInteger,s=r.DERSequence,o=r.x509.AlgorithmIdentifier,a=r.ocsp,u=a.DEFAULT_HASH,c=t.crypto.Util.hashHex,l=Xe,g=he;if(a.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,r,s){void 0===s&&(s=u),this.dHashAlg=new o({name:s}),this.dIssuerNameHash=new n({hex:e}),this.dIssuerKeyHash=new n({hex:t}),this.dSerialNumber=new i({hex:r})},this.setByCert=function(e,t,r){void 0===r&&(r=u);var n=new l;n.readCertPEM(t);var i=new l;i.readCertPEM(e);var s=i.getPublicKeyHex(),o=g.getTLVbyList(s,0,[1,0],"30"),a=n.getSerialNumberHex(),h=c(i.getSubjectHex(),r),p=c(o,r);this.setByValue(h,p,a,r),this.hoge=n.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],t=new s({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var p=u;void 0===h.alg&&(p=void 0),this.setByCert(h.issuerCert,h.subjectCert,p)}else{if(void 0===h.issname||void 0===h.isskey||void 0===h.sbjsn)throw new Error("invalid constructor arguments");p=u,void 0===h.alg&&(p=void 0),this.setByValue(h.issname,h.isskey,h.sbjsn,p)}}},i.lang.extend(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.CertStatus=function(e){ce.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var r={tag:"a1",explicit:!1,obj:{seq:t}};return ce.asn1.ASN1Util.newObject({tag:r}).getEncodedHex()}throw new Error("bad status")},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},i.lang.extend(ce.asn1.ocsp.CertStatus,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var i=new n.CertID(e);this.dReqCert=i}},i.lang.extend(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],r=0;r<e.length;r++){var i=new n.Request(e[0]);t.push(i)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new r({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},i.lang.extend(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,r=t.DERSequence,n=t.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var i=new n.TBSRequest(e);this.dTbsRequest=i}},i.lang.extend(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,r){var n=ce.asn1.ocsp;void 0===r&&(r=n.DEFAULT_HASH);var i={alg:r,issuerCert:e,subjectCert:t};return new n.OCSPRequest({reqList:[i]}).getEncodedHex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=he,r=t.getVbyList,n=t.getVbyListEx,i=t.getIdxbyList,s=(t.getIdxbyListEx,t.getV),o={};try{var a=n(e,0,[0],"0a");o.responseStatus=parseInt(a,16)}catch(e){}if(0!==o.responseStatus)return o;try{var u=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(u,2)?o.certStatus="good":"a1"===e.substr(u,2)?(o.certStatus="revoked",o.revocationTime=we(r(e,u,[0]))):"82"===e.substr(u,2)&&(o.certStatus="unknown")}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=we(s(e,c))}catch(e){}try{var l=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(l,2)&&(o.nextUpdate=we(r(e,l,[0])))}catch(e){}return o},ce.asn1.ocsp.OCSPParser=function(){var e=Error,t=Xe,r=new t,n=he,i=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyListEx,u=n.getChildIdx;this.getOCSPRequest=function(t){var r=u(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);return this.getTBSRequest(s(t,r[0]))},this.getTBSRequest=function(e){var t={},n=a(e,0,[0],"30");t.array=this.getRequestList(n);var i=a(e,0,["[2]",0],"30");return null!=i&&(t.ext=r.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],r=u(e,0),n=0;n<r.length;n++)e=s(e,r[n]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var n=u(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);var i=this.getCertID(s(t,n[0]));if(2==n.length){var a=o(t,0,[1,0]);i.ext=r.getExtParamArray(s(t,a))}return i},this.getCertID=function(r){var n=u(r,0);if(4!=n.length)throw new e("wrong number elements: "+n.length);var o=new t,a={};return a.alg=o.getAlgorithmIdentifierName(s(r,n[0])),a.issname=i(r,n[1]),a.isskey=i(r,n[2]),a.sbjsn=i(r,n[3]),a}},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(le=function(e){return me(Buffer.from(e,"utf8").toString("base64"))},ge=function(e){return Buffer.from(ve(e),"base64").toString("utf8")}):(le=function(e){return Se(De(Le(e)))},ge=function(e){return decodeURIComponent(Oe(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return He(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ve(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var qe=function(e,t,r){return null==r&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};function Ke(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var r=parseInt(t,16),n=e.substr(2),i=parseInt(n,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-r),parseInt(i,2)}catch(e){return-1}}void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",o="00"+n,a="",u=i-s.length-o.length,c=0;c<u;c+=2)a+="ff";return s+a+o},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ne||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new ee,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),de(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],de(r)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=xe(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ee(e.utf8)),void 0!==e.rstr&&(t=xe(e.rstr)),void 0!==e.b64&&(t=b(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?We.getKey(e):We.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=We.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ne&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ne&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,r=w,n=oe,i=ce.crypto.ECDSA,s=ce.crypto.ECParameterDB,o=i.getName,a=he,u=a.getVbyListEx,c=a.isASN1HEX,l=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new r(e.bitLength(),l).mod(e.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(e){this.ecparams=s.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),s=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-s),a="04"+("0000000000"+n.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(o),this.setPublicKeyHex(a),{ecprvhex:o,ecpubhex:a}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new r(t,16),s=this.ecparams.n,o=new r(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(s),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(s)}while(u.compareTo(r.ZERO)<=0);var c=a.modInverse(s).multiply(o.add(n.multiply(u))).mod(s);return i.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,i=this.ecparams.n,s=r.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var u=o.modInverse(i).multiply(s.add(n.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,s){try{var o,a,u=i.parseSigHex(t);o=u.r,a=u.s;var c=n.decodeFromHex(this.ecparams.curve,s),l=new r(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,o,a,c)}catch(e){return!1}},this.verify=function(e,t,i){var s,o,a;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);s=u.r,o=u.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";s=t.r,o=t.s}if(i instanceof oe)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,i)}var c=r.fromByteArrayUnsigned(e);return this.verifyRaw(c,s,o,a)},this.verifyRaw=function(e,t,n,i){var s=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(r.ONE)<0||t.compareTo(s)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(s)>=0)return!1;var a=n.modInverse(s),u=e.multiply(a).mod(s),c=t.multiply(a).mod(s);return o.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(s).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=u(e,0,["[0]",0],"06"),r=u(e,0,[1],"04");try{n=u(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var r,n,i;try{u(e,0,[1,0],"06"),r=u(e,0,[1,1],"06"),n=u(e,0,[2,0,1],"04");try{i=u(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var r,n;try{u(e,0,[0,0],"06"),r=u(e,0,[0,1],"06"),n=u(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===c(e))throw new t("not ASN.1 hex string");var n,i;try{n=u(e,0,[0,5,0,1],"06"),i=u(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=he,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],o=i[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,s),s:n(e,o)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new w(e,16),n=new w(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=ce.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new w(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,s,o,a,u,c,l,g,h,p,f){e[n]={};var d=r(s),y=r(o),m=r(a),v=r(u),S=r(c),b=new ae(d,y,m),E=b.decodePointHex("04"+l+g);e[n].name=n,e[n].keylen=i,e[n].curve=b,e[n].G=E,e[n].n=v,e[n].h=S,e[n].oid=p,e[n].info=f;for(var w=0;w<h.length;w++)t[h[w]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=he,t=(e.getVbyList,e.getVbyListEx),r=e.isASN1HEX,n=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,r,n,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=r,this.y=n,this.x=i},this.setPrivateHex=function(e,t,r,n,i){var s,o,a,u,c;s=new w(e,16),o=new w(t,16),a=new w(r,16),u="string"==typeof n&&n.length>1?new w(n,16):null,c=new w(i,16),this.setPrivate(s,o,a,u,c)},this.setPublic=function(e,t,r,n){this.isPublic=!0,this.p=e,this.q=t,this.g=r,this.y=n,this.x=null},this.setPublicHex=function(e,t,r,n){var i,s,o,a;i=new w(e,16),s=new w(t,16),o=new w(r,16),a=new w(n,16),this.setPublic(i,s,o,a)},this.signWithMessageHash=function(e){var t=this.p,r=this.q,n=this.g,i=(this.y,this.x),s=ce.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),r.subtract(w.ONE)),o=new w(e.substr(0,r.bitLength()/4),16),a=n.modPow(s,t).mod(r),u=s.modInverse(r).multiply(o.add(i.multiply(a))).mod(r);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(e,t){var r=this.p,n=this.q,i=this.g,s=this.y,o=this.parseASN1Signature(t),a=o[0],u=o[1],c=new w(e.substr(0,n.bitLength()/4),16);if(w.ZERO.compareTo(a)>0||a.compareTo(n)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(u)>=0||u.compareTo(n)>0)throw"invalid DSA signature";var l=u.modInverse(n),g=c.multiply(l).mod(n),h=a.multiply(l).mod(n);return 0==i.modPow(g,r).multiply(s.modPow(h,r)).mod(r).mod(n).compareTo(a)},this.parseASN1Signature=function(e){try{return[new n(t(e,0,[0],"02"),16),new n(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var n,i,s,o,a;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[1],"02"),i=t(e,0,[2],"02"),s=t(e,0,[3],"02"),o=t(e,0,[4],"02"),a=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,i,s,o,a)},this.readPKCS8PrvKeyHex=function(e){var n,i,s,o;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),s=t(e,0,[1,1,2],"02"),o=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,i,s,null,o)},this.readPKCS8PubKeyHex=function(e){var n,i,s,o;if(!1===r(e))throw new Error("not ASN.1 hex string");try{n=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),s=t(e,0,[0,1,2],"02"),o=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,i,s,o)},this.readCertPubKeyHex=function(e,n){var i,s,o,a;if(!1===r(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),s=t(e,0,[0,5,0,1,1],"02"),o=t(e,0,[0,5,0,1,2],"02"),a=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,s,o,a)}};var We=function(){var e=function(e,r,n){return t(y.AES,e,r,n)},t=function(e,t,r,n){var i=y.enc.Hex.parse(t),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a={};a.key=s,a.iv=o,a.ciphertext=i;var u=e.decrypt(a,s,{iv:o});return y.enc.Hex.stringify(u)},r=function(e,t,r){return n(y.AES,e,t,r)},n=function(e,t,r,n){var i=y.enc.Hex.parse(t),s=y.enc.Hex.parse(r),o=y.enc.Hex.parse(n),a=e.encrypt(i,s,{iv:o}),u=y.enc.Hex.parse(a.toString());return y.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(y.TripleDES,e,r,n)},eproc:function(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(y.DES,e,r,n)},eproc:function(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},s=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var i=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),s=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var a=e.substring(i+2*s,o-s);a=a.replace(/\s+/g,""),t.data=a}return t},o=function(e,t,r){for(var n=r.substring(0,16),s=y.enc.Hex.parse(n),o=y.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=y.algo.MD5.create();if(null!=c&&l.update(c),l.update(o),l.update(s),c=l.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*a)break}var g={};return g.keyhex=u.substr(0,2*i[e].keylen),g.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),g},a=function(e,t,r,n){var s=y.enc.Base64.parse(e),o=y.enc.Hex.stringify(s);return(0,i[t].proc)(o,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return s(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return o(e,t,r)},decryptKeyB64:function(e,t,r,n){return a(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=s(e),n=(r.type,r.cipher),i=r.ivsalt,u=r.data,c=o(n,t,i).keyhex;return a(u,n,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,s){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==s&&null!=s||(s=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[n].ivlen).toUpperCase());var u=function(e,t,r,n){return(0,i[t].eproc)(e,r,n)}(t,n,o(n,r,s).keyhex,s);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+s+"\r\n",a+="\r\n",(a+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={},s=r(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;i.ciphertext=n(e,s[1]);var o=r(e,s[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=n(e,o[0]))throw"this only supports pkcs5PBES2";var a=r(e,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var u=r(e,a[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=n(e,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(e,u[1]);var c=r(e,a[0]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length;if("2a864886f70d01050c"!=n(e,c[0]))throw"this only supports pkcs5PBKDF2";var l=r(e,c[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=n(e,l[0]);var g=n(e,l[1]);try{i.pbkdf2Iter=parseInt(g,16)}catch(e){throw"malformed format pbkdf2Iter: "+g}return i},getPBKDF2KeyHexFromParam:function(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,i=y.PBKDF2(t,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Ce(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=We.getPBKDF2KeyHexFromParam(n,t),s={};s.ciphertext=y.enc.Hex.parse(n.ciphertext);var o=y.enc.Hex.parse(i),a=y.enc.Hex.parse(n.encryptionSchemeIV),u=y.TripleDES.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var s=r(e,0);if(s.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(s[1],2))throw new Error("malformed PKCS8 private key(code:003)");var o=r(e,s[1]);if(2!=o.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(o[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=n(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=n(e,o[1])),"04"!=e.substr(s[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ce(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new ne;else if("2a8648ce380401"==r.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=he.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new ne;else if("2a8648ce380401"===r)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=r(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,s[1]),i},parsePublicPKCS8Hex:function(e){var t=he,r=t.getChildIdx,n=t.getV,i={algparam:null},s=r(e,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var o=s[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=r(e,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=n(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=n(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=n(e,s[1]).substr(2),i}}}();We.getKey=function(e,t,r){var n,i=(m=he).getChildIdx,s=(m.getV,m.getVbyList),o=ce.crypto,a=o.ECDSA,u=o.DSA,c=ne,l=Ce,g=We;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new c).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new u).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(be(e.n),be(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new c).setPrivate(be(e.n),be(e.e),be(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var h=(T=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);return T.setPublicKeyHex(p),T}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){h=(T=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+be(e.x)).slice(-h)+("0000000000"+be(e.y)).slice(-h);var f=("0000000000"+be(e.d)).slice(-h);return T.setPublicKeyHex(p),T.setPrivateKeyHex(f),T}if("pkcs5prv"===r){var d,y=e,m=he;if(9===(d=i(y,0)).length)(C=new c).readPKCS5PrvKeyHex(y);else if(6===d.length)(C=new u).readPKCS5PrvKeyHex(y);else{if(!(d.length>2&&"04"===y.substr(d[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(C=new a).readPKCS5PrvKeyHex(y)}return C}if("pkcs8prv"===r)return g.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return g._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return Xe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Xe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=Ce(e,"PUBLIC KEY");return g._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=l(e,"RSA PRIVATE KEY");return g.getKey(S,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=s(n=l(e,"DSA PRIVATE KEY"),0,[1],"02"),E=s(n,0,[2],"02"),A=s(n,0,[3],"02"),x=s(n,0,[4],"02"),R=s(n,0,[5],"02");return(C=new u).setPrivate(new w(b,16),new w(E,16),new w(A,16),new w(x,16),new w(R,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return S=l(e,"EC PRIVATE KEY"),g.getKey(S,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return g.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F=g.getDecryptedKeyHex(e,t),_=new ne;return _.readPKCS5PrvKeyHex(F),_}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T,C=s(n=g.getDecryptedKeyHex(e,t),0,[1],"04"),P=s(n,0,[2,0],"06"),I=s(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(T=new a({curve:ce.crypto.OID.oidhex2name[P]})).setPublicKeyHex(I),T.setPrivateKeyHex(C),T.isPublic=!1,T}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return b=s(n=g.getDecryptedKeyHex(e,t),0,[1],"02"),E=s(n,0,[2],"02"),A=s(n,0,[3],"02"),x=s(n,0,[4],"02"),R=s(n,0,[5],"02"),(C=new u).setPrivate(new w(b,16),new w(E,16),new w(A,16),new w(x,16),new w(R,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return g.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},We.generateKeypair=function(e,t){if("RSA"==e){var r=t;(o=new ne).generate(r,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new ne,i=o.n.toString(16),s=o.e.toString(16);return n.setPublic(i,s),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==e){var o,a,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw"unknown algorithm: "+e},We.getPEM=function(e,t,r,n,i,s){var o=ce,a=o.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,l=a.ASN1Util.newObject,g=a.x509.SubjectPublicKeyInfo,h=o.crypto,p=h.DSA,f=h.ECDSA,d=ne;function m(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function S(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==d&&e instanceof d||void 0!==p&&e instanceof p||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Te(A=new g(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===r||null==r)&&1==e.isPrivate)return Te(A=m(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===r||null==r)&&1==e.isPrivate){var b=new u({name:e.curveName}).getEncodedHex(),E=v(e).getEncodedHex(),w="";return(w+=Te(b,"EC PARAMETERS"))+Te(E,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate)return Te(A=S(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==r&&null!=r&&1==e.isPrivate){var A=m(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",A,r,n,s)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==r&&null!=r&&1==e.isPrivate)return A=v(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",A,r,n,s);if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate)return A=S(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",A,r,n,s);var x=function(e,t){var r=R(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},R=function(e,t){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(t,r,{keySize:6,iterations:100}),s=y.enc.Hex.parse(e),o=y.TripleDES.encrypt(s,i,{iv:n})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=y.enc.Hex.stringify(r),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=y.enc.Hex.stringify(n),a};if("PKCS8PRV"==t&&null!=d&&e instanceof d&&1==e.isPrivate){var F=m(e).getEncodedHex();return A=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return F=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),A=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return F=new c({bigint:e.x}).getEncodedHex(),A=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:F}}]}).getEncodedHex(),void 0===r||null==r?Te(A,"PRIVATE KEY"):Te(E=x(A,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},We.getKeyFromCSRPEM=function(e){var t=Ce(e,"CERTIFICATE REQUEST");return We.getKeyFromCSRHex(t)},We.getKeyFromCSRHex=function(e){var t=We.parseCSRHex(e);return We.getKey(t.p8pubkeyhex,null,"pkcs8pub")},We.parseCSRHex=function(e){var t=he,r=t.getChildIdx,n=t.getTLV,i={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var o=r(s,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(o[0],2))throw"malformed CSR(code:003)";var a=r(s,o[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(s,a[2]),i},We.getKeyID=function(e){var t=We,r=he;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Ce(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),s=r.getV(n,i).substring(2);return ce.crypto.Util.hashHex(s,"sha1")},We.getJWKFromKey=function(e){var t={};if(e instanceof ne&&e.isPrivate)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t.d=Se(e.d.toString(16)),t.p=Se(e.p.toString(16)),t.q=Se(e.q.toString(16)),t.dp=Se(e.dmp1.toString(16)),t.dq=Se(e.dmq1.toString(16)),t.qi=Se(e.coeff.toString(16)),t;if(e instanceof ne&&e.isPublic)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=Se(r.x),t.y=Se(r.y),t.d=Se(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=Se(r.x),t.y=Se(r.y),t}throw"not supported key object"},ne.getPosArrayOfChildrenFromHex=function(e){return he.getChildIdx(e,0)},ne.getHexValueArrayOfChildrenFromHex=function(e){var t,r=he.getV,n=r(e,(t=ne.getPosArrayOfChildrenFromHex(e))[0]),i=r(e,t[1]),s=r(e,t[2]),o=r(e,t[3]),a=r(e,t[4]),u=r(e,t[5]),c=r(e,t[6]),l=r(e,t[7]),g=r(e,t[8]);return(t=new Array).push(n,i,s,o,a,u,c,l,g),t},ne.prototype.readPrivateKeyFromPEMString=function(e){var t=Ce(e),r=ne.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ne.prototype.readPKCS5PrvKeyHex=function(e){var t=ne.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ne.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,s,o,a,u,c=he,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),s=l(e,0,[2,0,5],"02"),o=l(e,0,[2,0,6],"02"),a=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,s,o,a,u)},ne.prototype.readPKCS5PubKeyHex=function(e){var t=he,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),s=r(e,n[1]);this.setPublic(i,s)},ne.prototype.readPKCS8PubKeyHex=function(e){var t=he;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ne.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new Xe).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var ze=new RegExp("[^0-9a-f]","gi");function Ge(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e}function $e(e,t,r){for(var n="",i=0;n.length<t;)n+=Ae(r(xe(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Ye(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var r=ce.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function Xe(e){var t,r=he,n=r.getChildIdx,i=r.getV,s=r.getTLV,o=r.getVbyList,a=r.getVbyListEx,u=r.getTLVbyList,c=r.getTLVbyListEx,l=r.getIdxbyList,g=r.getIdxbyListEx,h=r.getVidx,p=r.getInt,f=r.oidname,d=r.hextooidstr,y=Xe,m=Ce;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=u(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=u(e,0,[0]),r=p(t,0);if(r<0||2<r)throw new Error("malformed version field");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return a(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return f(a(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return y.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return y.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=o(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=o(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return We.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.parseExt=function(e){var t,s,a;if(void 0===e){if(a=this.hex,3!==this.version)return-1;t=l(a,0,[0,7,0],"30"),s=n(a,t)}else{a=Ce(e);var u=l(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,u))return void(this.aExtInfo=new Array);t=l(a,0,[0,3,0,1,0],"30"),s=n(a,t),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<s.length;c++){var g={critical:!1},p=0;3===n(a,s[c]).length&&(g.critical=!0,p=1),g.oid=r.hextooidstr(o(a,s[c],[0],"06"));var f=l(a,s[c],[1+p]);g.vidx=h(a,f),this.aExtInfo.push(g)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=ce.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),a=parseInt(o,16);return n.cA=!0,n.pathLen=a,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=s(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(Xe.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var o=i(e,0);return n.kid={hex:o},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var a=n(e,0),u=0;u<a.length;u++){var c=e.substr(a[u],2);if("80"===c&&(o.kid={hex:i(e,a[u])}),"a1"===c){var l=s(e,a[u]),g=this.getGeneralNames(l);o.issuer=g[0].dn}"82"===c&&(o.sn={hex:i(e,a[u])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var a=n(e,0),u=0;u<a.length;u++)o.array.push(f(i(e,a[u])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=s(this.hex,e.vidx);if(""===r)return t;for(var o=n(r,0),a=0;a<o.length;a++)t.push(f(i(r,o[a])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],i=0;i<t.length;i++){var o=this.getGeneralName(s(e,t[i]));void 0!==o&&r.push(o)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=i(e,0),n=Ae(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"86"==t?{uri:n}:"87"==t?{ip:je(r)}:"a4"==t?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,u=s(this.hex,o.vidx),c=n(u,0),l=0;l<c.length;l++)r=u.substr(c[l],2),e=i(u,c[l]),"81"===r&&(t=we(e),a.push(["MAIL",t])),"82"===r&&(t=we(e),a.push(["DNS",t])),"84"===r&&(t=Xe.hex2dn(e,0),a.push(["DN",t])),"86"===r&&(t=we(e),a.push(["URI",t])),"87"===r&&(t=je(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=n(e,0),a=0;a<o.length;a++){var u=s(e,o[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),a=s(e,r[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(a))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),a=s(e,r[i]);"a0"==o&&(t.full=this.getGeneralNames(a))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),i=0;i<r.length;i++)try{var s=we(o(this.hex,r[i],[0,0,0],"86"));t.push(s)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),i=0;i<r.length;i++){var s=o(this.hex,r[i],[0],"06"),a=o(this.hex,r[i],[1],"86");"2b06010505073001"===s&&t.ocsp.push(we(a)),"2b06010505073002"===s&&t.caissuer.push(we(a))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=n(e,0),c=0;c<u.length;c++){var l=a(e,u[c],[0],"06"),g=we(o(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:g});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:g})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=n(e,0),a=0;a<o.length;a++){var u=s(e,o[a]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},r=o(e,0,[0],"06");t.policyoid=f(r);var i=g(e,0,[1],"30");if(-1!=i){t.array=[];for(var a=n(e,i),u=0;u<a.length;u++){var c=s(e,a[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=o(e,0,[0],"06");if("2b06010505070201"===r){var n=a(e,0,[1],"16");t.cps=Ae(n)}else if("2b06010505070202"===r){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var o=s(e,r[i]);"30"!=o.substr(0,2)&&(t.exptext=this.getDisplayText(o))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Ae(i(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:i(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(i(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=i(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=s(this.hex,r.vidx),t=r.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=n(e,0);if(o.length>1){var a=s(e,o[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(o.length>2){var c=s(e,o[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<i.length;s++)r.push(i[s]);for(n=0;n<r.length;n++){var o=r[n],a=o.ds,u=o.value,c=o.type;if("prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==a)continue;return"mixed"}if(null==t)t=a;else if(t!==a)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getRDN(s(e,r[i])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getAttrTypeAndValue(s(e,r[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),i=o(e,r[0],[],"06"),s=o(e,r[1],[]),a=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(a),t.value=Ae(s),t.ds=this.HEX2STAG[e.substr(r[1],2)],t},this.readCertPEM=function(e){this.readCertHex(m(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Te(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=g(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),i=0;i<r.length;i++){var o=s(e,r[i]),a=this.getExtParam(o);null!=a&&t.push(a)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=d(o(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var s=u(e,0,[t-1,0]),a=void 0;if("2.5.29.14"==r?a=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==r?a=this.getExtKeyUsage(s,i):"2.5.29.17"==r?a=this.getExtSubjectAltName(s,i):"2.5.29.18"==r?a=this.getExtIssuerAltName(s,i):"2.5.29.19"==r?a=this.getExtBasicConstraints(s,i):"2.5.29.31"==r?a=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==r?a=this.getExtCertificatePolicies(s,i):"2.5.29.35"==r?a=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.37"==r?a=this.getExtExtKeyUsage(s,i):"1.3.6.1.5.5.7.1.1"==r?a=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==r?a=this.getExtCRLNumber(s,i):"2.5.29.21"==r?a=this.getExtCRLReason(s,i):"1.3.6.1.5.5.7.48.1.2"==r?a=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==r?a=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==r&&(a=this.getExtAdobeTimeStamp(s,i)),null!=a)return a;var c={extname:r,extn:s};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var s=n[i].dpname.full,o=0;o<s.length;o++){var a=s[i];null!=a.uri&&(a.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,r,n,i=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var s=0;s<i.array.length;s++){var o=i.array[s];void 0!==o.cps&&(t+="    cps: "+o.cps+"\n")}}return t},s=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+Xe.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},o=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var a=0;a<r.length;a++){var u=r[a],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var g=this.getExtBasicConstraints();void 0===g.cA?e+="    {}\n":(e+="    cA=true",void 0!==g.pathLen&&(e+=", pathLen="+g.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var h=this.getExtAuthorityKeyIdentifier();void 0!==h.kid&&(e+="    kid="+h.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+(n=this.getExtSubjectAltName(),JSON.stringify(n.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===c?e+=s(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=o(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ne.prototype.sign=function(e,t){var r=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},ne.prototype.signWithMessageHash=function(e,t){var r=te(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ge(this.doPrivate(r).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(e,t,r){var n,i=(n=xe(e),ce.crypto.Util.hashHex(n,t));return void 0===r&&(r=-1),this.signWithMessageHashPSS(i,t,r)},ne.prototype.signWithMessageHashPSS=function(e,t,r){var n,i=Ae(e),s=i.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=s;else if(-2===r)r=a-s-2;else if(r<-2)throw new Error("invalid salt length");if(a<s+r+2)throw new Error("data too long");var c="";r>0&&(c=new Array(r),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=Ae(u(xe("\0\0\0\0\0\0\0\0"+i+c))),g=[];for(n=0;n<a-r-s-2;n+=1)g[n]=0;var h=String.fromCharCode.apply(String,g)+""+c,p=$e(l,h.length,u),f=[];for(n=0;n<h.length;n+=1)f[n]=h.charCodeAt(n)^p.charCodeAt(n);var d=65280>>8*a-o&255;for(f[0]&=~d,n=0;n<s;n++)f.push(l.charCodeAt(n));return f.push(188),Ge(this.doPrivate(new w(f)).toString(16),this.n.bitLength())},ne.prototype.verify=function(e,t){var r=te(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ye(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var i=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ne.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=te(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ye(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},ne.prototype.verifyPSS=function(e,t,r,n){var i,s=(i=xe(e),ce.crypto.Util.hashHex(i,r));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(s,t,r,n)},ne.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,s=new w(t,16),o=function(e){return ce.crypto.Util.hashHex(e,r)},a=Ae(e),u=a.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=l-u-2;else if(n<-2)throw new Error("invalid salt length");if(l<u+n+2)throw new Error("data too long");var g=this.doPublic(s).toByteArray();for(i=0;i<g.length;i+=1)g[i]&=255;for(;g.length<l;)g.unshift(0);if(188!==g[l-1])throw new Error("encoded message does not end in 0xbc");var h=(g=String.fromCharCode.apply(String,g)).substr(0,l-u-1),p=g.substr(h.length,u),f=65280>>8*l-c&255;if(0!=(h.charCodeAt(0)&f))throw new Error("bits beyond keysize not zero");var d=$e(p,h.length,o),y=[];for(i=0;i<h.length;i+=1)y[i]=h.charCodeAt(i)^d.charCodeAt(i);y[0]&=~f;var m=l-u-n-2;for(i=0;i<m;i+=1)if(0!==y[i])throw new Error("leftmost octets not zero");if(1!==y[m])throw new Error("0x01 marker not found");return p===Ae(o(xe("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,y.slice(-n)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,Xe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var r=new Array,n=he.getChildIdx(e,t),i=0;i<n.length;i++)r.push(Xe.hex2rdn(e,n[i]));return"/"+(r=r.map((function(e){return e.replace("/","\\/")}))).join("/")},Xe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=he.getChildIdx(e,t),i=0;i<n.length;i++)r.push(Xe.hex2attrTypeValue(e,n[i]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},Xe.hex2attrTypeValue=function(e,t){var r=he,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var s=n(e,i[0]),o=ce.asn1.ASN1Util.oidHexToInt(s);return ce.asn1.x509.OID.oid2atype(o)+"="+Ae(n(e,i[1]))},Xe.getPublicKeyFromCertHex=function(e){var t=new Xe;return t.readCertHex(e),t.getPublicKey()},Xe.getPublicKeyFromCertPEM=function(e){var t=new Xe;return t.readCertPEM(e),t.getPublicKey()},Xe.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=he.getVbyList,i={algparam:null};return(t=new Xe).readCertPEM(e),r=t.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},Xe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],s=n[2],o=n[3],a=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!r){var u=be(o),c=te(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=ge(i),g=ge(s);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=g,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,r,n,i){var s,o,a,u=ce,c=u.jws.JWS,l=c.readSafeJSONString,g=c.isSafeJSONString,h=u.crypto,p=(h.ECDSA,h.Mac),f=h.Signature,d=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=t,s=d.stringify(o)),"string"==typeof t){if(!g(s=t))throw"JWS Head is not safe JSON string: "+s;o=l(s)}if(a=r,"object"==typeof r&&(a=d.stringify(r)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,s=d.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var y=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=c.jwsalg2sigalg[e];var m=le(s)+"."+le(a),v="";if("Hmac"==y.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var S=new p({alg:y,prov:"cryptojs",pass:n});S.updateString(m),v=S.doFinal()}else if(-1!=y.indexOf("withECDSA")){(E=new f({alg:y})).init(n,i),E.updateString(m);var b=E.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(b)}else{var E;"none"!=y&&((E=new f({alg:y})).init(n,i),E.updateString(m),v=E.sign())}return m+"."+Se(v)},ce.jws.JWS.verify=function(e,t,r){var n,i=ce,s=i.jws.JWS,o=s.readSafeJSONString,a=i.crypto,u=a.ECDSA,c=a.Mac,l=a.Signature;n=ne;var g=e.split(".");if(3!==g.length)return!1;var h,p=g[0]+"."+g[1],f=be(g[2]),d=o(ge(g[0])),y=null;if(void 0===d.alg)throw"algorithm not specified in header";if(h=(y=d.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=We.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+y;if("none"==(m=s.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new c({alg:m,pass:t});return v.updateString(p),f==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var S,b=null;try{b=u.concatSigToASN1Sig(f)}catch(e){return!1}return(S=new l({alg:m})).init(t),S.updateString(p),S.verify(b)}return(S=new l({alg:m})).init(t),S.updateString(p),S.verify(f)},ce.jws.JWS.parse=function(e){var t,r,n,i=e.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],r=i[1],3==i.length&&(n=i[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(ge(t)),s.payloadObj=ce.jws.JWS.readSafeJSONString(ge(r)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=ge(r):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==n&&(s.sigHex=be(n)),s},ce.jws.JWS.verifyJWT=function(e,t,r){var n=ce.jws,i=n.JWS,s=i.readSafeJSONString,o=i.inArray,a=i.includedArray,u=e.split("."),c=u[0],l=u[1],g=(be(u[2]),s(ge(c))),h=s(ge(l));if(void 0===g.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!o(g.alg,r.alg))return!1;if(void 0!==h.iss&&"object"==typeof r.iss&&!o(h.iss,r.iss))return!1;if(void 0!==h.sub&&"object"==typeof r.sub&&!o(h.sub,r.sub))return!1;if(void 0!==h.aud&&"object"==typeof r.aud)if("string"==typeof h.aud){if(!o(h.aud,r.aud))return!1}else if("object"==typeof h.aud&&!a(h.aud,r.aud))return!1;var p=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+r.gracePeriod<p||void 0!==h.nbf&&"number"==typeof h.nbf&&p<h.nbf-r.gracePeriod||void 0!==h.iat&&"number"==typeof h.iat&&p<h.iat-r.gracePeriod||void 0!==h.jti&&void 0!==r.jti&&h.jti!==r.jti||!i.verify(e,t,r.alg))},ce.jws.JWS.includedArray=function(e,t){var r=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,r){var n=null;try{return"object"!=typeof(n=ue(e))||n.constructor===Array?0:(t&&(t[r]=n),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ue(e))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=xe(t);return Se(ce.crypto.Util.hashHex(r,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ie(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,r,n){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=ce.jws.JWS.sign(e,t,this.sPayload,r,n).split(".");s[0],s[2],this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(2!==r.length)return!1;if(!1===this.verifyNth(t,r[0],r[1]))return!1}return!0},this.verifyNth=function(t,r,n){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],s=this.aSignature[t],o=i+"."+this.sPayload+"."+s,a=!1;try{a=e.verify(o,r,n)}catch(e){return!1}return a},this.readJWSJS=function(e){if("string"==typeof e){var r=t(e);if(null==r)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=$,t.BigInteger=w,t.RSAKey=ne,t.ECDSA=ce.crypto.ECDSA,t.DSA=ce.crypto.DSA,t.Signature=ce.crypto.Signature,t.MessageDigest=ce.crypto.MessageDigest,t.Mac=ce.crypto.Mac,t.Cipher=ce.crypto.Cipher,t.KEYUTIL=We,t.ASN1HEX=he,t.X509=Xe,t.X509CRL=function(e){var t=ce.lang.String.isHex,r=he,n=r.getV,i=r.getTLV,s=r.getVbyList,o=r.getTLVbyList,a=r.getTLVbyListEx,u=r.getIdxbyList,c=r.getIdxbyListEx,l=r.getChildIdx,g=new Xe;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this._setPos=function(){var e=u(this.hex,0,[0,0]),t=this.hex.substr(e,2);if("02"==t)this.posSigAlg=1;else{if("30"!=t)throw new Error("malformed 1st item of TBSCertList: "+t);this.posSigAlg=0}var r,n=u(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(n,2);if("17"==i||"18"==i)r=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=r&&"30"==this.hex.substr(r,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(s(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var e=o(this.hex,0,[0,this.posSigAlg],"30");return g.getAlgorithmIdentifierName(e)},this.getIssuer=function(){var e=o(this.hex,0,[0,this.posSigAlg+1],"30");return g.getX500Name(e)},this.getThisUpdate=function(){var e=s(this.hex,0,[0,this.posSigAlg+2]);return result=Ae(e)},this.getNextUpdate=function(){var e=u(this.hex,0,[0,this.posSigAlg+3]),t=this.hex.substr(e,2);return"17"!=t&&"18"!=t?null:Ae(n(this.hex,e))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var e=[],t=u(this.hex,0,[0,this.posRevCert]),r=l(this.hex,t),n=0;n<r.length;n++){var s=i(this.hex,r[n]);e.push(this.getRevCert(s))}return e},this.getRevCert=function(e){var t={},r=l(e,0);return t.sn={hex:s(e,0,[0],"02")},t.date=Ae(s(e,0,[1])),3==r.length&&(t.ext=g.getExtParamArray(o(e,0,[2]))),t},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=o(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.getParam=function(){var e={},t=this.getVersion();null!=t&&(e.version=t),e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.thisupdate=this.getThisUpdate();var r=this.getNextUpdate();null!=r&&(e.nextupdate=r);var n=this.getRevCertArray();if(null!=n&&(e.revcert=n),-1!=c(this.hex,0,[0,"[0]"])){var i=a(this.hex,0,[0,"[0]",0]);e.ext=g.getExtParamArray(i)}return e.sighex=this.getSignatureValueHex(),e},"string"==typeof e&&(t(e)?this.hex=e:e.match(/-----BEGIN X509 CRL/)&&(this.hex=Ce(e)),this._setPos())},t.CryptoJS=y,t.b64tohex=b,t.b64toBA=E,t.ECFieldElementFp=se,t.ECPointFp=oe,t.ECCurveFp=ae,t.stoBA=pe,t.BAtos=fe,t.BAtohex=de,t.stohex=ye,t.stob64=function(e){return S(ye(e))},t.stob64u=function(e){return me(S(ye(e)))},t.b64utos=function(e){return fe(E(ve(e)))},t.b64tob64u=me,t.b64utob64=ve,t.hex2b64=S,t.hextob64u=Se,t.b64utohex=be,t.utf8tob64u=le,t.b64utoutf8=ge,t.utf8tob64=function(e){return S(De(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Oe(b(e)))},t.utf8tohex=Ee,t.hextoutf8=we,t.hextorstr=Ae,t.rstrtohex=xe,t.hextob64=Re,t.hextob64nl=Fe,t.b64nltohex=_e,t.hextopem=Te,t.pemtohex=Ce,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=Pe,t.zulutosec=Ie,t.zulutodate=function(e){return new Date(Pe(e))},t.datetozulu=function(e,t,r){var n,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var s=e.getUTCMilliseconds();0!==s&&(n+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=De,t.hextouricmp=Oe,t.ipv6tohex=Ne,t.hextoipv6=Be,t.hextoip=je,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Ne(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=Ue,t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.oidtohex=Ve,t.hextooid=ke,t.strpad=qe,t.bitstrtoint=Ke,t.inttobitstr=function(e){var t=Number(e).toString(2),r=8-t.length%8;8==r&&(r=0),t+=qe("",r,"0");var n=parseInt(t,2).toString(16);return n.length%2==1&&(n="0"+n),"0"+r+n},t.KJUR=ce,t.crypto=ce.crypto,t.asn1=ce.asn1,t.jws=ce.jws,t.lang=ce.lang},6887:(e,t,r)=>{const n={};n.web=r(3040);var i=r(6774);const s={};s.rpc=r(9809),s.rpc.LedgerClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},s.rpc.LedgerPromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};const o=new n.web.MethodDescriptor("/rpc.Ledger/RegisterContract",n.web.MethodType.UNARY,s.rpc.ContractRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.LedgerClient.prototype.registerContract=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Ledger/RegisterContract",e,t||{},o,r)},s.rpc.LedgerPromiseClient.prototype.registerContract=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Ledger/RegisterContract",e,t||{},o)};const a=new n.web.MethodDescriptor("/rpc.Ledger/ListContracts",n.web.MethodType.UNARY,s.rpc.ContractsListingRequest,s.rpc.ContractsListingResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractsListingResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.ContractsListingResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractsListingResponse.deserializeBinary),s.rpc.LedgerClient.prototype.listContracts=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Ledger/ListContracts",e,t||{},a,r)},s.rpc.LedgerPromiseClient.prototype.listContracts=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Ledger/ListContracts",e,t||{},a)};const u=new n.web.MethodDescriptor("/rpc.Ledger/ExecuteContract",n.web.MethodType.UNARY,s.rpc.ContractExecutionRequest,s.rpc.ContractExecutionResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractExecutionResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.ContractExecutionResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractExecutionResponse.deserializeBinary),s.rpc.LedgerClient.prototype.executeContract=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Ledger/ExecuteContract",e,t||{},u,r)},s.rpc.LedgerPromiseClient.prototype.executeContract=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Ledger/ExecuteContract",e,t||{},u)};const c=new n.web.MethodDescriptor("/rpc.Ledger/ValidateLedger",n.web.MethodType.UNARY,s.rpc.LedgerValidationRequest,s.rpc.LedgerValidationResponse,(function(e){return e.serializeBinary()}),s.rpc.LedgerValidationResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.LedgerValidationResponse,(function(e){return e.serializeBinary()}),s.rpc.LedgerValidationResponse.deserializeBinary),s.rpc.LedgerClient.prototype.validateLedger=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Ledger/ValidateLedger",e,t||{},c,r)},s.rpc.LedgerPromiseClient.prototype.validateLedger=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Ledger/ValidateLedger",e,t||{},c)};const l=new n.web.MethodDescriptor("/rpc.Ledger/RetrieveAssetProof",n.web.MethodType.UNARY,s.rpc.AssetProofRetrievalRequest,s.rpc.AssetProofRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.AssetProofRetrievalResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.AssetProofRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.AssetProofRetrievalResponse.deserializeBinary),s.rpc.LedgerClient.prototype.retrieveAssetProof=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Ledger/RetrieveAssetProof",e,t||{},l,r)},s.rpc.LedgerPromiseClient.prototype.retrieveAssetProof=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Ledger/RetrieveAssetProof",e,t||{},l)},s.rpc.LedgerPrivilegedClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},s.rpc.LedgerPrivilegedPromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};const g=new n.web.MethodDescriptor("/rpc.LedgerPrivileged/RegisterCert",n.web.MethodType.UNARY,s.rpc.CertificateRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.LedgerPrivilegedClient.prototype.registerCert=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.LedgerPrivileged/RegisterCert",e,t||{},g,r)},s.rpc.LedgerPrivilegedPromiseClient.prototype.registerCert=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.LedgerPrivileged/RegisterCert",e,t||{},g)};const h=new n.web.MethodDescriptor("/rpc.LedgerPrivileged/RegisterFunction",n.web.MethodType.UNARY,s.rpc.FunctionRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.LedgerPrivilegedClient.prototype.registerFunction=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.LedgerPrivileged/RegisterFunction",e,t||{},h,r)},s.rpc.LedgerPrivilegedPromiseClient.prototype.registerFunction=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.LedgerPrivileged/RegisterFunction",e,t||{},h)};const p=new n.web.MethodDescriptor("/rpc.LedgerPrivileged/RetrieveState",n.web.MethodType.UNARY,s.rpc.StateRetrievalRequest,s.rpc.StateRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.StateRetrievalResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.StateRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.StateRetrievalResponse.deserializeBinary),s.rpc.LedgerPrivilegedClient.prototype.retrieveState=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.LedgerPrivileged/RetrieveState",e,t||{},p,r)},s.rpc.LedgerPrivilegedPromiseClient.prototype.retrieveState=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.LedgerPrivileged/RetrieveState",e,t||{},p)},s.rpc.ProofRegistryClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},s.rpc.ProofRegistryPromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};const f=new n.web.MethodDescriptor("/rpc.ProofRegistry/RegisterProofs",n.web.MethodType.UNARY,s.rpc.ProofsRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.ProofRegistryClient.prototype.registerProofs=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.ProofRegistry/RegisterProofs",e,t||{},f,r)},s.rpc.ProofRegistryPromiseClient.prototype.registerProofs=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.ProofRegistry/RegisterProofs",e,t||{},f)};const d=new n.web.MethodDescriptor("/rpc.ProofRegistry/RetrieveProof",n.web.MethodType.UNARY,s.rpc.ProofRetrievalRequest,s.rpc.ProofRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.ProofRetrievalResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.ProofRetrievalResponse,(function(e){return e.serializeBinary()}),s.rpc.ProofRetrievalResponse.deserializeBinary),s.rpc.ProofRegistryClient.prototype.retrieveProof=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.ProofRegistry/RetrieveProof",e,t||{},d,r)},s.rpc.ProofRegistryPromiseClient.prototype.retrieveProof=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.ProofRegistry/RetrieveProof",e,t||{},d)},s.rpc.ProxyClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},s.rpc.ProxyPromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};const y=new n.web.MethodDescriptor("/rpc.Proxy/RegisterCert",n.web.MethodType.UNARY,s.rpc.CertificateRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.ProxyClient.prototype.registerCert=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/RegisterCert",e,t||{},y,r)},s.rpc.ProxyPromiseClient.prototype.registerCert=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/RegisterCert",e,t||{},y)};const m=new n.web.MethodDescriptor("/rpc.Proxy/RegisterContract",n.web.MethodType.UNARY,s.rpc.ContractRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.ProxyClient.prototype.registerContract=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/RegisterContract",e,t||{},m,r)},s.rpc.ProxyPromiseClient.prototype.registerContract=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/RegisterContract",e,t||{},m)};const v=new n.web.MethodDescriptor("/rpc.Proxy/RegisterFunction",n.web.MethodType.UNARY,s.rpc.FunctionRegistrationRequest,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.ProxyClient.prototype.registerFunction=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/RegisterFunction",e,t||{},v,r)},s.rpc.ProxyPromiseClient.prototype.registerFunction=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/RegisterFunction",e,t||{},v)};const S=new n.web.MethodDescriptor("/rpc.Proxy/ExecuteContract",n.web.MethodType.UNARY,s.rpc.ContractExecutionRequest,s.rpc.ContractExecutionResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractExecutionResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.ContractExecutionResponse,(function(e){return e.serializeBinary()}),s.rpc.ContractExecutionResponse.deserializeBinary),s.rpc.ProxyClient.prototype.executeContract=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/ExecuteContract",e,t||{},S,r)},s.rpc.ProxyPromiseClient.prototype.executeContract=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/ExecuteContract",e,t||{},S)};const b=new n.web.MethodDescriptor("/rpc.Proxy/ValidateLedgers",n.web.MethodType.UNARY,s.rpc.LedgersValidationRequest,s.rpc.LedgersValidationResponse,(function(e){return e.serializeBinary()}),s.rpc.LedgersValidationResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(s.rpc.LedgersValidationResponse,(function(e){return e.serializeBinary()}),s.rpc.LedgersValidationResponse.deserializeBinary),s.rpc.ProxyClient.prototype.validateLedgers=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/ValidateLedgers",e,t||{},b,r)},s.rpc.ProxyPromiseClient.prototype.validateLedgers=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/ValidateLedgers",e,t||{},b)};const E=new n.web.MethodDescriptor("/rpc.Proxy/ProxyResponse",n.web.MethodType.UNARY,s.rpc.IdentifiableResponse,i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(i.Empty,(function(e){return e.serializeBinary()}),i.Empty.deserializeBinary),s.rpc.ProxyClient.prototype.proxyResponse=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/rpc.Proxy/ProxyResponse",e,t||{},E,r)},s.rpc.ProxyPromiseClient.prototype.proxyResponse=function(e,t){return this.client_.unaryCall(this.hostname_+"/rpc.Proxy/ProxyResponse",e,t||{},E)},e.exports=s.rpc},9809:(e,t,r)=>{var n=r(3019),i=n,s=Function("return this")(),o=r(6774);i.object.extend(proto,o),i.exportSymbol("proto.rpc.AssetProof",null,s),i.exportSymbol("proto.rpc.AssetProofRetrievalRequest",null,s),i.exportSymbol("proto.rpc.AssetProofRetrievalResponse",null,s),i.exportSymbol("proto.rpc.CertificateRegistrationRequest",null,s),i.exportSymbol("proto.rpc.ContractExecutionRequest",null,s),i.exportSymbol("proto.rpc.ContractExecutionResponse",null,s),i.exportSymbol("proto.rpc.ContractRegistrationRequest",null,s),i.exportSymbol("proto.rpc.ContractsListingRequest",null,s),i.exportSymbol("proto.rpc.ContractsListingResponse",null,s),i.exportSymbol("proto.rpc.FunctionRegistrationRequest",null,s),i.exportSymbol("proto.rpc.IdentifiableResponse",null,s),i.exportSymbol("proto.rpc.IdentifiableResponse.ResponseCase",null,s),i.exportSymbol("proto.rpc.LedgerValidationRequest",null,s),i.exportSymbol("proto.rpc.LedgerValidationResponse",null,s),i.exportSymbol("proto.rpc.LedgersValidationRequest",null,s),i.exportSymbol("proto.rpc.LedgersValidationResponse",null,s),i.exportSymbol("proto.rpc.ProofRetrievalRequest",null,s),i.exportSymbol("proto.rpc.ProofRetrievalResponse",null,s),i.exportSymbol("proto.rpc.ProofsRegistrationRequest",null,s),i.exportSymbol("proto.rpc.ReturnableRequest",null,s),i.exportSymbol("proto.rpc.ReturnableRequest.RequestCase",null,s),i.exportSymbol("proto.rpc.StateRetrievalRequest",null,s),i.exportSymbol("proto.rpc.StateRetrievalResponse",null,s),i.exportSymbol("proto.rpc.StateRetrievalResponse.TransactionState",null,s),i.exportSymbol("proto.rpc.Status",null,s),proto.rpc.CertificateRegistrationRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.CertificateRegistrationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.CertificateRegistrationRequest.displayName="proto.rpc.CertificateRegistrationRequest"),proto.rpc.FunctionRegistrationRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.FunctionRegistrationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.FunctionRegistrationRequest.displayName="proto.rpc.FunctionRegistrationRequest"),proto.rpc.ContractRegistrationRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.ContractRegistrationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ContractRegistrationRequest.displayName="proto.rpc.ContractRegistrationRequest"),proto.rpc.ContractsListingRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.ContractsListingRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ContractsListingRequest.displayName="proto.rpc.ContractsListingRequest"),proto.rpc.ContractExecutionRequest=function(e){n.Message.initialize(this,e,0,-1,proto.rpc.ContractExecutionRequest.repeatedFields_,null)},i.inherits(proto.rpc.ContractExecutionRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ContractExecutionRequest.displayName="proto.rpc.ContractExecutionRequest"),proto.rpc.LedgerValidationRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.LedgerValidationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.LedgerValidationRequest.displayName="proto.rpc.LedgerValidationRequest"),proto.rpc.AssetProofRetrievalRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.AssetProofRetrievalRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.AssetProofRetrievalRequest.displayName="proto.rpc.AssetProofRetrievalRequest"),proto.rpc.StateRetrievalRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.StateRetrievalRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.StateRetrievalRequest.displayName="proto.rpc.StateRetrievalRequest"),proto.rpc.ContractsListingResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.ContractsListingResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ContractsListingResponse.displayName="proto.rpc.ContractsListingResponse"),proto.rpc.ContractExecutionResponse=function(e){n.Message.initialize(this,e,0,-1,proto.rpc.ContractExecutionResponse.repeatedFields_,null)},i.inherits(proto.rpc.ContractExecutionResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ContractExecutionResponse.displayName="proto.rpc.ContractExecutionResponse"),proto.rpc.LedgerValidationResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.LedgerValidationResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.LedgerValidationResponse.displayName="proto.rpc.LedgerValidationResponse"),proto.rpc.AssetProofRetrievalResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.AssetProofRetrievalResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.AssetProofRetrievalResponse.displayName="proto.rpc.AssetProofRetrievalResponse"),proto.rpc.AssetProof=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.AssetProof,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.AssetProof.displayName="proto.rpc.AssetProof"),proto.rpc.StateRetrievalResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.StateRetrievalResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.StateRetrievalResponse.displayName="proto.rpc.StateRetrievalResponse"),proto.rpc.Status=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.Status,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.Status.displayName="proto.rpc.Status"),proto.rpc.ProofsRegistrationRequest=function(e){n.Message.initialize(this,e,0,-1,proto.rpc.ProofsRegistrationRequest.repeatedFields_,null)},i.inherits(proto.rpc.ProofsRegistrationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ProofsRegistrationRequest.displayName="proto.rpc.ProofsRegistrationRequest"),proto.rpc.ProofRetrievalRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.ProofRetrievalRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ProofRetrievalRequest.displayName="proto.rpc.ProofRetrievalRequest"),proto.rpc.ProofRetrievalResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.ProofRetrievalResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ProofRetrievalResponse.displayName="proto.rpc.ProofRetrievalResponse"),proto.rpc.ReturnableRequest=function(e){n.Message.initialize(this,e,0,-1,null,proto.rpc.ReturnableRequest.oneofGroups_)},i.inherits(proto.rpc.ReturnableRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.ReturnableRequest.displayName="proto.rpc.ReturnableRequest"),proto.rpc.LedgersValidationRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.rpc.LedgersValidationRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.LedgersValidationRequest.displayName="proto.rpc.LedgersValidationRequest"),proto.rpc.IdentifiableResponse=function(e){n.Message.initialize(this,e,0,-1,null,proto.rpc.IdentifiableResponse.oneofGroups_)},i.inherits(proto.rpc.IdentifiableResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.IdentifiableResponse.displayName="proto.rpc.IdentifiableResponse"),proto.rpc.LedgersValidationResponse=function(e){n.Message.initialize(this,e,0,-1,proto.rpc.LedgersValidationResponse.repeatedFields_,null)},i.inherits(proto.rpc.LedgersValidationResponse,n.Message),i.DEBUG&&!COMPILED&&(proto.rpc.LedgersValidationResponse.displayName="proto.rpc.LedgersValidationResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.rpc.CertificateRegistrationRequest.prototype.toObject=function(e){return proto.rpc.CertificateRegistrationRequest.toObject(e,this)},proto.rpc.CertificateRegistrationRequest.toObject=function(e,t){var r={certHolderId:n.Message.getFieldWithDefault(t,1,""),certVersion:n.Message.getFieldWithDefault(t,2,0),certPem:n.Message.getFieldWithDefault(t,3,""),viaProxy:n.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.CertificateRegistrationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.CertificateRegistrationRequest;return proto.rpc.CertificateRegistrationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.CertificateRegistrationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCertHolderId(r);break;case 2:r=t.readUint32(),e.setCertVersion(r);break;case 3:r=t.readString(),e.setCertPem(r);break;case 4:r=t.readBool(),e.setViaProxy(r);break;default:t.skipField()}return e},proto.rpc.CertificateRegistrationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.CertificateRegistrationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.CertificateRegistrationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCertHolderId()).length>0&&t.writeString(1,r),0!==(r=e.getCertVersion())&&t.writeUint32(2,r),(r=e.getCertPem()).length>0&&t.writeString(3,r),(r=e.getViaProxy())&&t.writeBool(4,r)},proto.rpc.CertificateRegistrationRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.CertificateRegistrationRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.CertificateRegistrationRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.rpc.CertificateRegistrationRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,2,e)},proto.rpc.CertificateRegistrationRequest.prototype.getCertPem=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.CertificateRegistrationRequest.prototype.setCertPem=function(e){return n.Message.setProto3StringField(this,3,e)},proto.rpc.CertificateRegistrationRequest.prototype.getViaProxy=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.rpc.CertificateRegistrationRequest.prototype.setViaProxy=function(e){return n.Message.setProto3BooleanField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.FunctionRegistrationRequest.prototype.toObject=function(e){return proto.rpc.FunctionRegistrationRequest.toObject(e,this)},proto.rpc.FunctionRegistrationRequest.toObject=function(e,t){var r={functionId:n.Message.getFieldWithDefault(t,1,""),functionBinaryName:n.Message.getFieldWithDefault(t,2,""),functionByteCode:t.getFunctionByteCode_asB64(),viaProxy:n.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.FunctionRegistrationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.FunctionRegistrationRequest;return proto.rpc.FunctionRegistrationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.FunctionRegistrationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setFunctionId(r);break;case 2:r=t.readString(),e.setFunctionBinaryName(r);break;case 3:r=t.readBytes(),e.setFunctionByteCode(r);break;case 4:r=t.readBool(),e.setViaProxy(r);break;default:t.skipField()}return e},proto.rpc.FunctionRegistrationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.FunctionRegistrationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.FunctionRegistrationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFunctionId()).length>0&&t.writeString(1,r),(r=e.getFunctionBinaryName()).length>0&&t.writeString(2,r),(r=e.getFunctionByteCode_asU8()).length>0&&t.writeBytes(3,r),(r=e.getViaProxy())&&t.writeBool(4,r)},proto.rpc.FunctionRegistrationRequest.prototype.getFunctionId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.FunctionRegistrationRequest.prototype.setFunctionId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.FunctionRegistrationRequest.prototype.getFunctionBinaryName=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.FunctionRegistrationRequest.prototype.setFunctionBinaryName=function(e){return n.Message.setProto3StringField(this,2,e)},proto.rpc.FunctionRegistrationRequest.prototype.getFunctionByteCode=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.FunctionRegistrationRequest.prototype.getFunctionByteCode_asB64=function(){return n.Message.bytesAsB64(this.getFunctionByteCode())},proto.rpc.FunctionRegistrationRequest.prototype.getFunctionByteCode_asU8=function(){return n.Message.bytesAsU8(this.getFunctionByteCode())},proto.rpc.FunctionRegistrationRequest.prototype.setFunctionByteCode=function(e){return n.Message.setProto3BytesField(this,3,e)},proto.rpc.FunctionRegistrationRequest.prototype.getViaProxy=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.rpc.FunctionRegistrationRequest.prototype.setViaProxy=function(e){return n.Message.setProto3BooleanField(this,4,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ContractRegistrationRequest.prototype.toObject=function(e){return proto.rpc.ContractRegistrationRequest.toObject(e,this)},proto.rpc.ContractRegistrationRequest.toObject=function(e,t){var r={contractId:n.Message.getFieldWithDefault(t,1,""),contractBinaryName:n.Message.getFieldWithDefault(t,2,""),contractByteCode:t.getContractByteCode_asB64(),contractProperties:n.Message.getFieldWithDefault(t,4,""),certHolderId:n.Message.getFieldWithDefault(t,5,""),certVersion:n.Message.getFieldWithDefault(t,6,0),signature:t.getSignature_asB64(),viaProxy:n.Message.getBooleanFieldWithDefault(t,8,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ContractRegistrationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ContractRegistrationRequest;return proto.rpc.ContractRegistrationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ContractRegistrationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setContractId(r);break;case 2:r=t.readString(),e.setContractBinaryName(r);break;case 3:r=t.readBytes(),e.setContractByteCode(r);break;case 4:r=t.readString(),e.setContractProperties(r);break;case 5:r=t.readString(),e.setCertHolderId(r);break;case 6:r=t.readUint32(),e.setCertVersion(r);break;case 7:r=t.readBytes(),e.setSignature(r);break;case 8:r=t.readBool(),e.setViaProxy(r);break;default:t.skipField()}return e},proto.rpc.ContractRegistrationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ContractRegistrationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ContractRegistrationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getContractId()).length>0&&t.writeString(1,r),(r=e.getContractBinaryName()).length>0&&t.writeString(2,r),(r=e.getContractByteCode_asU8()).length>0&&t.writeBytes(3,r),(r=e.getContractProperties()).length>0&&t.writeString(4,r),(r=e.getCertHolderId()).length>0&&t.writeString(5,r),0!==(r=e.getCertVersion())&&t.writeUint32(6,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(7,r),(r=e.getViaProxy())&&t.writeBool(8,r)},proto.rpc.ContractRegistrationRequest.prototype.getContractId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ContractRegistrationRequest.prototype.setContractId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ContractRegistrationRequest.prototype.getContractBinaryName=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.ContractRegistrationRequest.prototype.setContractBinaryName=function(e){return n.Message.setProto3StringField(this,2,e)},proto.rpc.ContractRegistrationRequest.prototype.getContractByteCode=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.ContractRegistrationRequest.prototype.getContractByteCode_asB64=function(){return n.Message.bytesAsB64(this.getContractByteCode())},proto.rpc.ContractRegistrationRequest.prototype.getContractByteCode_asU8=function(){return n.Message.bytesAsU8(this.getContractByteCode())},proto.rpc.ContractRegistrationRequest.prototype.setContractByteCode=function(e){return n.Message.setProto3BytesField(this,3,e)},proto.rpc.ContractRegistrationRequest.prototype.getContractProperties=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.rpc.ContractRegistrationRequest.prototype.setContractProperties=function(e){return n.Message.setProto3StringField(this,4,e)},proto.rpc.ContractRegistrationRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.rpc.ContractRegistrationRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,5,e)},proto.rpc.ContractRegistrationRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.rpc.ContractRegistrationRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,6,e)},proto.rpc.ContractRegistrationRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.rpc.ContractRegistrationRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.ContractRegistrationRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.ContractRegistrationRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,7,e)},proto.rpc.ContractRegistrationRequest.prototype.getViaProxy=function(){return n.Message.getBooleanFieldWithDefault(this,8,!1)},proto.rpc.ContractRegistrationRequest.prototype.setViaProxy=function(e){return n.Message.setProto3BooleanField(this,8,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ContractsListingRequest.prototype.toObject=function(e){return proto.rpc.ContractsListingRequest.toObject(e,this)},proto.rpc.ContractsListingRequest.toObject=function(e,t){var r={certHolderId:n.Message.getFieldWithDefault(t,1,""),certVersion:n.Message.getFieldWithDefault(t,2,0),contractId:n.Message.getFieldWithDefault(t,3,""),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ContractsListingRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ContractsListingRequest;return proto.rpc.ContractsListingRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ContractsListingRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCertHolderId(r);break;case 2:r=t.readUint32(),e.setCertVersion(r);break;case 3:r=t.readString(),e.setContractId(r);break;case 4:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.ContractsListingRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ContractsListingRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ContractsListingRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCertHolderId()).length>0&&t.writeString(1,r),0!==(r=e.getCertVersion())&&t.writeUint32(2,r),(r=e.getContractId()).length>0&&t.writeString(3,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(4,r)},proto.rpc.ContractsListingRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ContractsListingRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ContractsListingRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.rpc.ContractsListingRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,2,e)},proto.rpc.ContractsListingRequest.prototype.getContractId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.ContractsListingRequest.prototype.setContractId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.rpc.ContractsListingRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.rpc.ContractsListingRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.ContractsListingRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.ContractsListingRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,4,e)},proto.rpc.ContractExecutionRequest.repeatedFields_=[8],n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ContractExecutionRequest.prototype.toObject=function(e){return proto.rpc.ContractExecutionRequest.toObject(e,this)},proto.rpc.ContractExecutionRequest.toObject=function(e,t){var r,i={contractId:n.Message.getFieldWithDefault(t,1,""),contractArgument:n.Message.getFieldWithDefault(t,2,""),certHolderId:n.Message.getFieldWithDefault(t,3,""),certVersion:n.Message.getFieldWithDefault(t,4,0),functionArgument:n.Message.getFieldWithDefault(t,5,""),signature:t.getSignature_asB64(),preExecution:n.Message.getBooleanFieldWithDefault(t,7,!1),orderingKeysList:null==(r=n.Message.getRepeatedField(t,8))?void 0:r};return e&&(i.$jspbMessageInstance=t),i}),proto.rpc.ContractExecutionRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ContractExecutionRequest;return proto.rpc.ContractExecutionRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ContractExecutionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setContractId(r);break;case 2:r=t.readString(),e.setContractArgument(r);break;case 3:r=t.readString(),e.setCertHolderId(r);break;case 4:r=t.readUint32(),e.setCertVersion(r);break;case 5:r=t.readString(),e.setFunctionArgument(r);break;case 6:r=t.readBytes(),e.setSignature(r);break;case 7:r=t.readBool(),e.setPreExecution(r);break;case 8:r=t.readString(),e.addOrderingKeys(r);break;default:t.skipField()}return e},proto.rpc.ContractExecutionRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ContractExecutionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ContractExecutionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getContractId()).length>0&&t.writeString(1,r),(r=e.getContractArgument()).length>0&&t.writeString(2,r),(r=e.getCertHolderId()).length>0&&t.writeString(3,r),0!==(r=e.getCertVersion())&&t.writeUint32(4,r),(r=e.getFunctionArgument()).length>0&&t.writeString(5,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(6,r),(r=e.getPreExecution())&&t.writeBool(7,r),(r=e.getOrderingKeysList()).length>0&&t.writeRepeatedString(8,r)},proto.rpc.ContractExecutionRequest.prototype.getContractId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ContractExecutionRequest.prototype.setContractId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ContractExecutionRequest.prototype.getContractArgument=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.ContractExecutionRequest.prototype.setContractArgument=function(e){return n.Message.setProto3StringField(this,2,e)},proto.rpc.ContractExecutionRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.ContractExecutionRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.rpc.ContractExecutionRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.rpc.ContractExecutionRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,4,e)},proto.rpc.ContractExecutionRequest.prototype.getFunctionArgument=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.rpc.ContractExecutionRequest.prototype.setFunctionArgument=function(e){return n.Message.setProto3StringField(this,5,e)},proto.rpc.ContractExecutionRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.rpc.ContractExecutionRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.ContractExecutionRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.ContractExecutionRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,6,e)},proto.rpc.ContractExecutionRequest.prototype.getPreExecution=function(){return n.Message.getBooleanFieldWithDefault(this,7,!1)},proto.rpc.ContractExecutionRequest.prototype.setPreExecution=function(e){return n.Message.setProto3BooleanField(this,7,e)},proto.rpc.ContractExecutionRequest.prototype.getOrderingKeysList=function(){return n.Message.getRepeatedField(this,8)},proto.rpc.ContractExecutionRequest.prototype.setOrderingKeysList=function(e){return n.Message.setField(this,8,e||[])},proto.rpc.ContractExecutionRequest.prototype.addOrderingKeys=function(e,t){return n.Message.addToRepeatedField(this,8,e,t)},proto.rpc.ContractExecutionRequest.prototype.clearOrderingKeysList=function(){return this.setOrderingKeysList([])},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.LedgerValidationRequest.prototype.toObject=function(e){return proto.rpc.LedgerValidationRequest.toObject(e,this)},proto.rpc.LedgerValidationRequest.toObject=function(e,t){var r={assetId:n.Message.getFieldWithDefault(t,1,""),startAge:n.Message.getFieldWithDefault(t,2,0),endAge:n.Message.getFieldWithDefault(t,3,0),certHolderId:n.Message.getFieldWithDefault(t,4,""),certVersion:n.Message.getFieldWithDefault(t,5,0),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.LedgerValidationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.LedgerValidationRequest;return proto.rpc.LedgerValidationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.LedgerValidationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAssetId(r);break;case 2:r=t.readUint32(),e.setStartAge(r);break;case 3:r=t.readUint32(),e.setEndAge(r);break;case 4:r=t.readString(),e.setCertHolderId(r);break;case 5:r=t.readUint32(),e.setCertVersion(r);break;case 6:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.LedgerValidationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.LedgerValidationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.LedgerValidationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAssetId()).length>0&&t.writeString(1,r),0!==(r=e.getStartAge())&&t.writeUint32(2,r),0!==(r=e.getEndAge())&&t.writeUint32(3,r),(r=e.getCertHolderId()).length>0&&t.writeString(4,r),0!==(r=e.getCertVersion())&&t.writeUint32(5,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(6,r)},proto.rpc.LedgerValidationRequest.prototype.getAssetId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.LedgerValidationRequest.prototype.setAssetId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.LedgerValidationRequest.prototype.getStartAge=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.rpc.LedgerValidationRequest.prototype.setStartAge=function(e){return n.Message.setProto3IntField(this,2,e)},proto.rpc.LedgerValidationRequest.prototype.getEndAge=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.rpc.LedgerValidationRequest.prototype.setEndAge=function(e){return n.Message.setProto3IntField(this,3,e)},proto.rpc.LedgerValidationRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.rpc.LedgerValidationRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,4,e)},proto.rpc.LedgerValidationRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.rpc.LedgerValidationRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,5,e)},proto.rpc.LedgerValidationRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.rpc.LedgerValidationRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.LedgerValidationRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.LedgerValidationRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,6,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.AssetProofRetrievalRequest.prototype.toObject=function(e){return proto.rpc.AssetProofRetrievalRequest.toObject(e,this)},proto.rpc.AssetProofRetrievalRequest.toObject=function(e,t){var r={assetId:n.Message.getFieldWithDefault(t,1,""),age:n.Message.getFieldWithDefault(t,2,0),certHolderId:n.Message.getFieldWithDefault(t,3,""),certVersion:n.Message.getFieldWithDefault(t,4,0),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.AssetProofRetrievalRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.AssetProofRetrievalRequest;return proto.rpc.AssetProofRetrievalRequest.deserializeBinaryFromReader(r,t)},proto.rpc.AssetProofRetrievalRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAssetId(r);break;case 2:r=t.readInt32(),e.setAge(r);break;case 3:r=t.readString(),e.setCertHolderId(r);break;case 4:r=t.readUint32(),e.setCertVersion(r);break;case 5:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.AssetProofRetrievalRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.AssetProofRetrievalRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.AssetProofRetrievalRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAssetId()).length>0&&t.writeString(1,r),0!==(r=e.getAge())&&t.writeInt32(2,r),(r=e.getCertHolderId()).length>0&&t.writeString(3,r),0!==(r=e.getCertVersion())&&t.writeUint32(4,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(5,r)},proto.rpc.AssetProofRetrievalRequest.prototype.getAssetId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.AssetProofRetrievalRequest.prototype.setAssetId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.AssetProofRetrievalRequest.prototype.getAge=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.rpc.AssetProofRetrievalRequest.prototype.setAge=function(e){return n.Message.setProto3IntField(this,2,e)},proto.rpc.AssetProofRetrievalRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.AssetProofRetrievalRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.rpc.AssetProofRetrievalRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.rpc.AssetProofRetrievalRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,4,e)},proto.rpc.AssetProofRetrievalRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.rpc.AssetProofRetrievalRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.AssetProofRetrievalRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.AssetProofRetrievalRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.StateRetrievalRequest.prototype.toObject=function(e){return proto.rpc.StateRetrievalRequest.toObject(e,this)},proto.rpc.StateRetrievalRequest.toObject=function(e,t){var r={transactionId:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.StateRetrievalRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.StateRetrievalRequest;return proto.rpc.StateRetrievalRequest.deserializeBinaryFromReader(r,t)},proto.rpc.StateRetrievalRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTransactionId(r);break;default:t.skipField()}return e},proto.rpc.StateRetrievalRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.StateRetrievalRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.StateRetrievalRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getTransactionId()).length>0&&t.writeString(1,r)},proto.rpc.StateRetrievalRequest.prototype.getTransactionId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.StateRetrievalRequest.prototype.setTransactionId=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ContractsListingResponse.prototype.toObject=function(e){return proto.rpc.ContractsListingResponse.toObject(e,this)},proto.rpc.ContractsListingResponse.toObject=function(e,t){var r={json:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ContractsListingResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ContractsListingResponse;return proto.rpc.ContractsListingResponse.deserializeBinaryFromReader(r,t)},proto.rpc.ContractsListingResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setJson(r);break;default:t.skipField()}return e},proto.rpc.ContractsListingResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ContractsListingResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ContractsListingResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getJson()).length>0&&t.writeString(1,r)},proto.rpc.ContractsListingResponse.prototype.getJson=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ContractsListingResponse.prototype.setJson=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ContractExecutionResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ContractExecutionResponse.prototype.toObject=function(e){return proto.rpc.ContractExecutionResponse.toObject(e,this)},proto.rpc.ContractExecutionResponse.toObject=function(e,t){var r={result:n.Message.getFieldWithDefault(t,1,""),proofsList:n.Message.toObjectList(t.getProofsList(),proto.rpc.AssetProof.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ContractExecutionResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ContractExecutionResponse;return proto.rpc.ContractExecutionResponse.deserializeBinaryFromReader(r,t)},proto.rpc.ContractExecutionResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setResult(r);break;case 2:r=new proto.rpc.AssetProof,t.readMessage(r,proto.rpc.AssetProof.deserializeBinaryFromReader),e.addProofs(r);break;default:t.skipField()}return e},proto.rpc.ContractExecutionResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ContractExecutionResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ContractExecutionResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getResult()).length>0&&t.writeString(1,r),(r=e.getProofsList()).length>0&&t.writeRepeatedMessage(2,r,proto.rpc.AssetProof.serializeBinaryToWriter)},proto.rpc.ContractExecutionResponse.prototype.getResult=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ContractExecutionResponse.prototype.setResult=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ContractExecutionResponse.prototype.getProofsList=function(){return n.Message.getRepeatedWrapperField(this,proto.rpc.AssetProof,2)},proto.rpc.ContractExecutionResponse.prototype.setProofsList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},proto.rpc.ContractExecutionResponse.prototype.addProofs=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.rpc.AssetProof,t)},proto.rpc.ContractExecutionResponse.prototype.clearProofsList=function(){return this.setProofsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.LedgerValidationResponse.prototype.toObject=function(e){return proto.rpc.LedgerValidationResponse.toObject(e,this)},proto.rpc.LedgerValidationResponse.toObject=function(e,t){var r,i={statusCode:n.Message.getFieldWithDefault(t,1,0),proof:(r=t.getProof())&&proto.rpc.AssetProof.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.rpc.LedgerValidationResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.LedgerValidationResponse;return proto.rpc.LedgerValidationResponse.deserializeBinaryFromReader(r,t)},proto.rpc.LedgerValidationResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setStatusCode(r);break;case 2:r=new proto.rpc.AssetProof,t.readMessage(r,proto.rpc.AssetProof.deserializeBinaryFromReader),e.setProof(r);break;default:t.skipField()}return e},proto.rpc.LedgerValidationResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.LedgerValidationResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.LedgerValidationResponse.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getStatusCode())&&t.writeUint32(1,r),null!=(r=e.getProof())&&t.writeMessage(2,r,proto.rpc.AssetProof.serializeBinaryToWriter)},proto.rpc.LedgerValidationResponse.prototype.getStatusCode=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.rpc.LedgerValidationResponse.prototype.setStatusCode=function(e){return n.Message.setProto3IntField(this,1,e)},proto.rpc.LedgerValidationResponse.prototype.getProof=function(){return n.Message.getWrapperField(this,proto.rpc.AssetProof,2)},proto.rpc.LedgerValidationResponse.prototype.setProof=function(e){return n.Message.setWrapperField(this,2,e)},proto.rpc.LedgerValidationResponse.prototype.clearProof=function(){return this.setProof(void 0)},proto.rpc.LedgerValidationResponse.prototype.hasProof=function(){return null!=n.Message.getField(this,2)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.AssetProofRetrievalResponse.prototype.toObject=function(e){return proto.rpc.AssetProofRetrievalResponse.toObject(e,this)},proto.rpc.AssetProofRetrievalResponse.toObject=function(e,t){var r,i={proof:(r=t.getProof())&&proto.rpc.AssetProof.toObject(e,r),ledgerName:n.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),proto.rpc.AssetProofRetrievalResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.AssetProofRetrievalResponse;return proto.rpc.AssetProofRetrievalResponse.deserializeBinaryFromReader(r,t)},proto.rpc.AssetProofRetrievalResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.rpc.AssetProof;t.readMessage(r,proto.rpc.AssetProof.deserializeBinaryFromReader),e.setProof(r);break;case 2:r=t.readString(),e.setLedgerName(r);break;default:t.skipField()}return e},proto.rpc.AssetProofRetrievalResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.AssetProofRetrievalResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.AssetProofRetrievalResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getProof())&&t.writeMessage(1,r,proto.rpc.AssetProof.serializeBinaryToWriter),(r=e.getLedgerName()).length>0&&t.writeString(2,r)},proto.rpc.AssetProofRetrievalResponse.prototype.getProof=function(){return n.Message.getWrapperField(this,proto.rpc.AssetProof,1)},proto.rpc.AssetProofRetrievalResponse.prototype.setProof=function(e){return n.Message.setWrapperField(this,1,e)},proto.rpc.AssetProofRetrievalResponse.prototype.clearProof=function(){return this.setProof(void 0)},proto.rpc.AssetProofRetrievalResponse.prototype.hasProof=function(){return null!=n.Message.getField(this,1)},proto.rpc.AssetProofRetrievalResponse.prototype.getLedgerName=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.AssetProofRetrievalResponse.prototype.setLedgerName=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.AssetProof.prototype.toObject=function(e){return proto.rpc.AssetProof.toObject(e,this)},proto.rpc.AssetProof.toObject=function(e,t){var r={assetId:n.Message.getFieldWithDefault(t,1,""),age:n.Message.getFieldWithDefault(t,2,0),nonce:n.Message.getFieldWithDefault(t,3,""),hash:t.getHash_asB64(),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.AssetProof.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.AssetProof;return proto.rpc.AssetProof.deserializeBinaryFromReader(r,t)},proto.rpc.AssetProof.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAssetId(r);break;case 2:r=t.readUint32(),e.setAge(r);break;case 3:r=t.readString(),e.setNonce(r);break;case 4:r=t.readBytes(),e.setHash(r);break;case 5:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.AssetProof.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.AssetProof.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.AssetProof.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAssetId()).length>0&&t.writeString(1,r),0!==(r=e.getAge())&&t.writeUint32(2,r),(r=e.getNonce()).length>0&&t.writeString(3,r),(r=e.getHash_asU8()).length>0&&t.writeBytes(4,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(5,r)},proto.rpc.AssetProof.prototype.getAssetId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.AssetProof.prototype.setAssetId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.AssetProof.prototype.getAge=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.rpc.AssetProof.prototype.setAge=function(e){return n.Message.setProto3IntField(this,2,e)},proto.rpc.AssetProof.prototype.getNonce=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.rpc.AssetProof.prototype.setNonce=function(e){return n.Message.setProto3StringField(this,3,e)},proto.rpc.AssetProof.prototype.getHash=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.rpc.AssetProof.prototype.getHash_asB64=function(){return n.Message.bytesAsB64(this.getHash())},proto.rpc.AssetProof.prototype.getHash_asU8=function(){return n.Message.bytesAsU8(this.getHash())},proto.rpc.AssetProof.prototype.setHash=function(e){return n.Message.setProto3BytesField(this,4,e)},proto.rpc.AssetProof.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.rpc.AssetProof.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.AssetProof.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.AssetProof.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.StateRetrievalResponse.prototype.toObject=function(e){return proto.rpc.StateRetrievalResponse.toObject(e,this)},proto.rpc.StateRetrievalResponse.toObject=function(e,t){var r={state:n.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.StateRetrievalResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.StateRetrievalResponse;return proto.rpc.StateRetrievalResponse.deserializeBinaryFromReader(r,t)},proto.rpc.StateRetrievalResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setState(r);break;default:t.skipField()}return e},proto.rpc.StateRetrievalResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.StateRetrievalResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.StateRetrievalResponse.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getState())&&t.writeEnum(1,r)},proto.rpc.StateRetrievalResponse.TransactionState={UNSET:0,COMMITTED:1,ABORTED:2,UNKNOWN:3},proto.rpc.StateRetrievalResponse.prototype.getState=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.rpc.StateRetrievalResponse.prototype.setState=function(e){return n.Message.setProto3EnumField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.Status.prototype.toObject=function(e){return proto.rpc.Status.toObject(e,this)},proto.rpc.Status.toObject=function(e,t){var r={code:n.Message.getFieldWithDefault(t,1,0),message:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.Status.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.Status;return proto.rpc.Status.deserializeBinaryFromReader(r,t)},proto.rpc.Status.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setCode(r);break;case 2:r=t.readString(),e.setMessage(r);break;default:t.skipField()}return e},proto.rpc.Status.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.Status.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.Status.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getCode())&&t.writeUint32(1,r),(r=e.getMessage()).length>0&&t.writeString(2,r)},proto.rpc.Status.prototype.getCode=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.rpc.Status.prototype.setCode=function(e){return n.Message.setProto3IntField(this,1,e)},proto.rpc.Status.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.Status.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,2,e)},proto.rpc.ProofsRegistrationRequest.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ProofsRegistrationRequest.prototype.toObject=function(e){return proto.rpc.ProofsRegistrationRequest.toObject(e,this)},proto.rpc.ProofsRegistrationRequest.toObject=function(e,t){var r={proofsList:n.Message.toObjectList(t.getProofsList(),proto.rpc.AssetProof.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ProofsRegistrationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ProofsRegistrationRequest;return proto.rpc.ProofsRegistrationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ProofsRegistrationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.rpc.AssetProof;t.readMessage(r,proto.rpc.AssetProof.deserializeBinaryFromReader),e.addProofs(r);break;default:t.skipField()}return e},proto.rpc.ProofsRegistrationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ProofsRegistrationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ProofsRegistrationRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getProofsList()).length>0&&t.writeRepeatedMessage(1,r,proto.rpc.AssetProof.serializeBinaryToWriter)},proto.rpc.ProofsRegistrationRequest.prototype.getProofsList=function(){return n.Message.getRepeatedWrapperField(this,proto.rpc.AssetProof,1)},proto.rpc.ProofsRegistrationRequest.prototype.setProofsList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},proto.rpc.ProofsRegistrationRequest.prototype.addProofs=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.rpc.AssetProof,t)},proto.rpc.ProofsRegistrationRequest.prototype.clearProofsList=function(){return this.setProofsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ProofRetrievalRequest.prototype.toObject=function(e){return proto.rpc.ProofRetrievalRequest.toObject(e,this)},proto.rpc.ProofRetrievalRequest.toObject=function(e,t){var r={assetId:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.ProofRetrievalRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ProofRetrievalRequest;return proto.rpc.ProofRetrievalRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ProofRetrievalRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAssetId(r);break;default:t.skipField()}return e},proto.rpc.ProofRetrievalRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ProofRetrievalRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ProofRetrievalRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getAssetId()).length>0&&t.writeString(1,r)},proto.rpc.ProofRetrievalRequest.prototype.getAssetId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ProofRetrievalRequest.prototype.setAssetId=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ProofRetrievalResponse.prototype.toObject=function(e){return proto.rpc.ProofRetrievalResponse.toObject(e,this)},proto.rpc.ProofRetrievalResponse.toObject=function(e,t){var r,n={proof:(r=t.getProof())&&proto.rpc.AssetProof.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.rpc.ProofRetrievalResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ProofRetrievalResponse;return proto.rpc.ProofRetrievalResponse.deserializeBinaryFromReader(r,t)},proto.rpc.ProofRetrievalResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.rpc.AssetProof;t.readMessage(r,proto.rpc.AssetProof.deserializeBinaryFromReader),e.setProof(r);break;default:t.skipField()}return e},proto.rpc.ProofRetrievalResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ProofRetrievalResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ProofRetrievalResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getProof())&&t.writeMessage(1,r,proto.rpc.AssetProof.serializeBinaryToWriter)},proto.rpc.ProofRetrievalResponse.prototype.getProof=function(){return n.Message.getWrapperField(this,proto.rpc.AssetProof,1)},proto.rpc.ProofRetrievalResponse.prototype.setProof=function(e){return n.Message.setWrapperField(this,1,e)},proto.rpc.ProofRetrievalResponse.prototype.clearProof=function(){return this.setProof(void 0)},proto.rpc.ProofRetrievalResponse.prototype.hasProof=function(){return null!=n.Message.getField(this,1)},proto.rpc.ReturnableRequest.oneofGroups_=[[2,3,4,5]],proto.rpc.ReturnableRequest.RequestCase={REQUEST_NOT_SET:0,CERTIFICATE_REGISTRATION_REQUEST:2,CONTRACT_REGISTRATION_REQUEST:3,FUNCTION_REGISTRATION_REQUEST:4,CONTRACT_EXECUTION_REQUEST:5},proto.rpc.ReturnableRequest.prototype.getRequestCase=function(){return n.Message.computeOneofCase(this,proto.rpc.ReturnableRequest.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.ReturnableRequest.prototype.toObject=function(e){return proto.rpc.ReturnableRequest.toObject(e,this)},proto.rpc.ReturnableRequest.toObject=function(e,t){var r,i={id:n.Message.getFieldWithDefault(t,1,""),certificateRegistrationRequest:(r=t.getCertificateRegistrationRequest())&&proto.rpc.CertificateRegistrationRequest.toObject(e,r),contractRegistrationRequest:(r=t.getContractRegistrationRequest())&&proto.rpc.ContractRegistrationRequest.toObject(e,r),functionRegistrationRequest:(r=t.getFunctionRegistrationRequest())&&proto.rpc.FunctionRegistrationRequest.toObject(e,r),contractExecutionRequest:(r=t.getContractExecutionRequest())&&proto.rpc.ContractExecutionRequest.toObject(e,r),hostname:n.Message.getFieldWithDefault(t,6,""),port:n.Message.getFieldWithDefault(t,7,0),signature:t.getSignature_asB64()};return e&&(i.$jspbMessageInstance=t),i}),proto.rpc.ReturnableRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.ReturnableRequest;return proto.rpc.ReturnableRequest.deserializeBinaryFromReader(r,t)},proto.rpc.ReturnableRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=new proto.rpc.CertificateRegistrationRequest,t.readMessage(r,proto.rpc.CertificateRegistrationRequest.deserializeBinaryFromReader),e.setCertificateRegistrationRequest(r);break;case 3:r=new proto.rpc.ContractRegistrationRequest,t.readMessage(r,proto.rpc.ContractRegistrationRequest.deserializeBinaryFromReader),e.setContractRegistrationRequest(r);break;case 4:r=new proto.rpc.FunctionRegistrationRequest,t.readMessage(r,proto.rpc.FunctionRegistrationRequest.deserializeBinaryFromReader),e.setFunctionRegistrationRequest(r);break;case 5:r=new proto.rpc.ContractExecutionRequest,t.readMessage(r,proto.rpc.ContractExecutionRequest.deserializeBinaryFromReader),e.setContractExecutionRequest(r);break;case 6:r=t.readString(),e.setHostname(r);break;case 7:r=t.readUint32(),e.setPort(r);break;case 8:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.ReturnableRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.ReturnableRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.ReturnableRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),null!=(r=e.getCertificateRegistrationRequest())&&t.writeMessage(2,r,proto.rpc.CertificateRegistrationRequest.serializeBinaryToWriter),null!=(r=e.getContractRegistrationRequest())&&t.writeMessage(3,r,proto.rpc.ContractRegistrationRequest.serializeBinaryToWriter),null!=(r=e.getFunctionRegistrationRequest())&&t.writeMessage(4,r,proto.rpc.FunctionRegistrationRequest.serializeBinaryToWriter),null!=(r=e.getContractExecutionRequest())&&t.writeMessage(5,r,proto.rpc.ContractExecutionRequest.serializeBinaryToWriter),(r=e.getHostname()).length>0&&t.writeString(6,r),0!==(r=e.getPort())&&t.writeUint32(7,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(8,r)},proto.rpc.ReturnableRequest.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.ReturnableRequest.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.ReturnableRequest.prototype.getCertificateRegistrationRequest=function(){return n.Message.getWrapperField(this,proto.rpc.CertificateRegistrationRequest,2)},proto.rpc.ReturnableRequest.prototype.setCertificateRegistrationRequest=function(e){return n.Message.setOneofWrapperField(this,2,proto.rpc.ReturnableRequest.oneofGroups_[0],e)},proto.rpc.ReturnableRequest.prototype.clearCertificateRegistrationRequest=function(){return this.setCertificateRegistrationRequest(void 0)},proto.rpc.ReturnableRequest.prototype.hasCertificateRegistrationRequest=function(){return null!=n.Message.getField(this,2)},proto.rpc.ReturnableRequest.prototype.getContractRegistrationRequest=function(){return n.Message.getWrapperField(this,proto.rpc.ContractRegistrationRequest,3)},proto.rpc.ReturnableRequest.prototype.setContractRegistrationRequest=function(e){return n.Message.setOneofWrapperField(this,3,proto.rpc.ReturnableRequest.oneofGroups_[0],e)},proto.rpc.ReturnableRequest.prototype.clearContractRegistrationRequest=function(){return this.setContractRegistrationRequest(void 0)},proto.rpc.ReturnableRequest.prototype.hasContractRegistrationRequest=function(){return null!=n.Message.getField(this,3)},proto.rpc.ReturnableRequest.prototype.getFunctionRegistrationRequest=function(){return n.Message.getWrapperField(this,proto.rpc.FunctionRegistrationRequest,4)},proto.rpc.ReturnableRequest.prototype.setFunctionRegistrationRequest=function(e){return n.Message.setOneofWrapperField(this,4,proto.rpc.ReturnableRequest.oneofGroups_[0],e)},proto.rpc.ReturnableRequest.prototype.clearFunctionRegistrationRequest=function(){return this.setFunctionRegistrationRequest(void 0)},proto.rpc.ReturnableRequest.prototype.hasFunctionRegistrationRequest=function(){return null!=n.Message.getField(this,4)},proto.rpc.ReturnableRequest.prototype.getContractExecutionRequest=function(){return n.Message.getWrapperField(this,proto.rpc.ContractExecutionRequest,5)},proto.rpc.ReturnableRequest.prototype.setContractExecutionRequest=function(e){return n.Message.setOneofWrapperField(this,5,proto.rpc.ReturnableRequest.oneofGroups_[0],e)},proto.rpc.ReturnableRequest.prototype.clearContractExecutionRequest=function(){return this.setContractExecutionRequest(void 0)},proto.rpc.ReturnableRequest.prototype.hasContractExecutionRequest=function(){return null!=n.Message.getField(this,5)},proto.rpc.ReturnableRequest.prototype.getHostname=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.rpc.ReturnableRequest.prototype.setHostname=function(e){return n.Message.setProto3StringField(this,6,e)},proto.rpc.ReturnableRequest.prototype.getPort=function(){return n.Message.getFieldWithDefault(this,7,0)},proto.rpc.ReturnableRequest.prototype.setPort=function(e){return n.Message.setProto3IntField(this,7,e)},proto.rpc.ReturnableRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,8,"")},proto.rpc.ReturnableRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.ReturnableRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.ReturnableRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,8,e)},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.LedgersValidationRequest.prototype.toObject=function(e){return proto.rpc.LedgersValidationRequest.toObject(e,this)},proto.rpc.LedgersValidationRequest.toObject=function(e,t){var r={assetId:n.Message.getFieldWithDefault(t,1,""),certHolderId:n.Message.getFieldWithDefault(t,2,""),certVersion:n.Message.getFieldWithDefault(t,3,0),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.LedgersValidationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.LedgersValidationRequest;return proto.rpc.LedgersValidationRequest.deserializeBinaryFromReader(r,t)},proto.rpc.LedgersValidationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAssetId(r);break;case 2:r=t.readString(),e.setCertHolderId(r);break;case 3:r=t.readUint32(),e.setCertVersion(r);break;case 4:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.rpc.LedgersValidationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.LedgersValidationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.LedgersValidationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAssetId()).length>0&&t.writeString(1,r),(r=e.getCertHolderId()).length>0&&t.writeString(2,r),0!==(r=e.getCertVersion())&&t.writeUint32(3,r),(r=e.getSignature_asU8()).length>0&&t.writeBytes(4,r)},proto.rpc.LedgersValidationRequest.prototype.getAssetId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.LedgersValidationRequest.prototype.setAssetId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.LedgersValidationRequest.prototype.getCertHolderId=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.rpc.LedgersValidationRequest.prototype.setCertHolderId=function(e){return n.Message.setProto3StringField(this,2,e)},proto.rpc.LedgersValidationRequest.prototype.getCertVersion=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.rpc.LedgersValidationRequest.prototype.setCertVersion=function(e){return n.Message.setProto3IntField(this,3,e)},proto.rpc.LedgersValidationRequest.prototype.getSignature=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.rpc.LedgersValidationRequest.prototype.getSignature_asB64=function(){return n.Message.bytesAsB64(this.getSignature())},proto.rpc.LedgersValidationRequest.prototype.getSignature_asU8=function(){return n.Message.bytesAsU8(this.getSignature())},proto.rpc.LedgersValidationRequest.prototype.setSignature=function(e){return n.Message.setProto3BytesField(this,4,e)},proto.rpc.IdentifiableResponse.oneofGroups_=[[2]],proto.rpc.IdentifiableResponse.ResponseCase={RESPONSE_NOT_SET:0,CONTRACT_EXECUTION_RESPONSE:2},proto.rpc.IdentifiableResponse.prototype.getResponseCase=function(){return n.Message.computeOneofCase(this,proto.rpc.IdentifiableResponse.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.rpc.IdentifiableResponse.prototype.toObject=function(e){return proto.rpc.IdentifiableResponse.toObject(e,this)},proto.rpc.IdentifiableResponse.toObject=function(e,t){var r,i={id:n.Message.getFieldWithDefault(t,1,""),contractExecutionResponse:(r=t.getContractExecutionResponse())&&proto.rpc.ContractExecutionResponse.toObject(e,r),statusCode:n.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),proto.rpc.IdentifiableResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.IdentifiableResponse;return proto.rpc.IdentifiableResponse.deserializeBinaryFromReader(r,t)},proto.rpc.IdentifiableResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=new proto.rpc.ContractExecutionResponse,t.readMessage(r,proto.rpc.ContractExecutionResponse.deserializeBinaryFromReader),e.setContractExecutionResponse(r);break;case 3:r=t.readUint32(),e.setStatusCode(r);break;default:t.skipField()}return e},proto.rpc.IdentifiableResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.IdentifiableResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.IdentifiableResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),null!=(r=e.getContractExecutionResponse())&&t.writeMessage(2,r,proto.rpc.ContractExecutionResponse.serializeBinaryToWriter),0!==(r=e.getStatusCode())&&t.writeUint32(3,r)},proto.rpc.IdentifiableResponse.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.rpc.IdentifiableResponse.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.rpc.IdentifiableResponse.prototype.getContractExecutionResponse=function(){return n.Message.getWrapperField(this,proto.rpc.ContractExecutionResponse,2)},proto.rpc.IdentifiableResponse.prototype.setContractExecutionResponse=function(e){return n.Message.setOneofWrapperField(this,2,proto.rpc.IdentifiableResponse.oneofGroups_[0],e)},proto.rpc.IdentifiableResponse.prototype.clearContractExecutionResponse=function(){return this.setContractExecutionResponse(void 0)},proto.rpc.IdentifiableResponse.prototype.hasContractExecutionResponse=function(){return null!=n.Message.getField(this,2)},proto.rpc.IdentifiableResponse.prototype.getStatusCode=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.rpc.IdentifiableResponse.prototype.setStatusCode=function(e){return n.Message.setProto3IntField(this,3,e)},proto.rpc.LedgersValidationResponse.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.rpc.LedgersValidationResponse.prototype.toObject=function(e){return proto.rpc.LedgersValidationResponse.toObject(e,this)},proto.rpc.LedgersValidationResponse.toObject=function(e,t){var r={responseList:n.Message.toObjectList(t.getResponseList(),proto.rpc.AssetProofRetrievalResponse.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.rpc.LedgersValidationResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.rpc.LedgersValidationResponse;return proto.rpc.LedgersValidationResponse.deserializeBinaryFromReader(r,t)},proto.rpc.LedgersValidationResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.rpc.AssetProofRetrievalResponse;t.readMessage(r,proto.rpc.AssetProofRetrievalResponse.deserializeBinaryFromReader),e.addResponse(r);break;default:t.skipField()}return e},proto.rpc.LedgersValidationResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.rpc.LedgersValidationResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.rpc.LedgersValidationResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getResponseList()).length>0&&t.writeRepeatedMessage(1,r,proto.rpc.AssetProofRetrievalResponse.serializeBinaryToWriter)},proto.rpc.LedgersValidationResponse.prototype.getResponseList=function(){return n.Message.getRepeatedWrapperField(this,proto.rpc.AssetProofRetrievalResponse,1)},proto.rpc.LedgersValidationResponse.prototype.setResponseList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},proto.rpc.LedgersValidationResponse.prototype.addResponse=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.rpc.AssetProofRetrievalResponse,t)},proto.rpc.LedgersValidationResponse.prototype.clearResponseList=function(){return this.setResponseList([])},i.object.extend(t,proto.rpc)},1417:(e,t,r)=>{const{ClientServiceBase:n,StatusCode:i,ClientProperties:s}=r(903),o=r(9809),{LedgerClient:a,LedgerPrivilegedClient:u}=r(6887),{SignerFactory:c}=r(7573),{ClientServiceWithIndexedDb:l,IndexedDbKeyNotFoundError:g,IndexedDbOperationError:h}=r(2658);e.exports={ClientService:class extends n{constructor(e){const t=new s(e),r=t.getServerHost(),n=t.getTlsEnabled(),i=`${n?"https":"http"}://${r}:${t.getServerPort()}`,l=`${n?"https":"http"}://${r}:${t.getServerPrivilegedPort()}`;super({ledgerClient:new a(i),ledgerPrivileged:new u(l),signerFactory:new c},o,e)}},ClientServiceWithIndexedDb:l,IndexedDbKeyNotFoundError:g,IndexedDbOperationError:h,StatusCode:i}},7573:(e,t,r)=>{const{toCryptoKeyFromJwk:n,toJwkFromPkcs1:i}=r(2706);class s{constructor(e){if("string"==typeof e)this.pkcs1=e;else{if("object"!=typeof e)throw new Error("key type should be either String (PEM) or Object (CryptoKey)");this.key=e}}async sign(e){let t;if(this.key)t=this.key;else{this.jwk||(this.jwk=await i(this.pkcs1));try{t=await n(this.jwk)}catch(e){throw new Error("Failed load the PEM file")}}const r={name:"ECDSA",hash:"SHA-256"},s=e;try{const e=await window.crypto.subtle.sign(r,t,s);return this._P1363ToDer(new Uint8Array(e))}catch(e){throw new Error("Failed to sign the request")}}_P1363ToDer(e){const t=Array.from(e,(e=>("00"+e.toString(16)).slice(-2))).join("");let r=t.substr(0,t.length/2),n=t.substr(t.length/2);r=r.replace(/^(00)+/,""),n=n.replace(/^(00)+/,""),("0x80"&parseInt(r,16))>0&&(r=`00${r}`),("0x80"&parseInt(n,16))>0&&(n=`00${n}`);const i=`02${(r.length/2).toString(16).padStart(2,"0")}${r}`,s=`02${(n.length/2).toString(16).padStart(2,"0")}${n}`,o=`30${((i.length+s.length)/2).toString(16).padStart(2,"0")}${i}${s}`;return new Uint8Array(o.match(/[\da-f]{2}/gi).map((e=>parseInt(e,16))))}}e.exports={SignerFactory:class{create(e){return new s(e)}}}}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__=__webpack_require__(1417);Scalar=__webpack_exports__})();